-- FAST LINKS WEB

--https://github.com/abramsonhan/RScritps/blob/main/rbxscript
--https://github.com/abramsonhan/RScritps/blob/main/rbxscriptsettings
--https://github.com/abramsonhan/RScritps/blob/main/scriptsrbx
--https://github.com/abramsonhan/RScritps/blob/main/rbxloadstringblacklist
--https://github.com/abramsonhan/RScritps/blob/main/rbxloadstringwhitelist
--https://github.com/abramsonhan/RScritps/blob/main/rbxpresetsgameid

-- LISTS

local WHITELIST_WEBHOOKS = {
	"https://discord.com/api/webhooks/1439959431067734086/ED6PttwjAX8StkmUE7ecW9rqeuYsVUT9qM9r-sjjmvnLDEr0nzoAGDxp_DUVOySN2Wxx",
	"https://discord.com/api/webhooks/1439959516971008063/9FwZu2EnzvDim3Y9EK0KE8wTnYLMg26BOiUBi80V6IMYG3PqhE4CJQY_MzQ81aERFD2p",
	"https://discord.com/api/webhooks/1439960528473554998/bKdnwpn934hYUfNw7WnsALTFCBtU1d6fCBUovBI3hnx05uNhBIFltbw0TLlihuJKRiDs",
	"https://discord.com/api/webhooks/1440009650056728687/3YNuY_G0cAJ489DI-WNBx86OX88jhm6rLuMs0fA_ZhoWeH3kR2ZjOLTwWIlURvjhbW8q",
	-- Примеры:
    --"https://discord.com/api/webhooks/123456789012345678", -- префикс
}

local WHITELIST_LOADSTRINGS = {
    "https://raw.githubusercontent.com/abramsonhan/RScritps/refs/heads/main/rbxscript",
	"https://raw.githubusercontent.com/abramsonhan/RScritps/refs/main/scriptsrbx",
    "https://raw.githubusercontent.com/abramsonhan/RScritps/refs/main/rbxloadstringblacklist",
	"https://raw.githubusercontent.com/abramsonhan/RScritps/refs/main/rbxloadstringwhitelist",
	"https://raw.githubusercontent.com/abramsonhan/RScritps/refs/main/rbxpresetsgameid",
	"https://raw.githubusercontent.com/abramsonhan/RScritps/refs/main/rbxscriptsettings",
	"https://raw.githubusercontent.com/abramsonhan/RScritps/refs/heads/main/rbxscriptsettings",
	"https://github.com/abramsonhan/RScritps/refs/heads/main/rbxscript",
    "https://github.com/abramsonhan/RScritps/refs/main/scriptsrbx",
    "https://github.com/abramsonhan/RScritps/refs/main/rbxloadstringblacklist",
	"https://github.com/abramsonhan/RScritps/refs/main/rbxloadstringwhitelist",
	"https://github.com/abramsonhan/RScritps/refs/main/rbxpresetsgameid",
	"https://github.com/abramsonhan/RScritps/refs/main/rbxscriptsettings"


}



--LINKS

local TELEGRAM_BOT_LINK = "https://t.me/rbxscript_robot"
local SITE_LINK = "https://rbxscript.com"
local GITHUB_RAW = "https://raw.githubusercontent.com/"
local SETTINGS_LINK = GITHUB_RAW .. "abramsonhan/RScritps/refs/heads/main/rbxscriptsettings"
local ROBLOX_SERVER_ID = "https://www.roblox.com/games/%d?serverId=%s"
local ROBLOX_GAMES = "https://www.roblox.com/games/%d/"
local ROBLOX_PROFILES = "https://www.roblox.com/users/%d/profile"

--USING

local HttpService = game:GetService("HttpService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local RobloxGui = CoreGui:WaitForChild("RobloxGui")
local TeleportService = game:GetService("TeleportService")

--SETTINGS

local ANTI_RETURNED_GUI = true -- ВЫКЛЮЧАЕТ ПОВТОРНЫЙ ПОКАЗ ГУИ
local DEBUG_MODE_DETECTOR_SCRIPTS = false -- ЛОГИ ОТ БЛОКИРОВКИ СКРИПТОВ
local RANDOM_SPAM_CHANGE_SIMVOLS = true -- ВКЛЮЧАЕТ ИЗМЕНЕНИЕ НАЗВАНИЯ ФРЕЙМОВ И ТД
local RANDOM_NAMES_SIMVOLS = 64 -- КОЛИЧЕСТВО БУКВ СКОЛЬКО БУДЕТ
local RANDOM_NAMES_SIMVOLS_TIME = 15 -- ВРЕМЯ В СЕКУНДАХ СМЕНЫ
local RANDOM_SPAM_FRAMES_AND_GUI = false -- ВКЛЮЧАЕТ СПАМ ФРЕЙМАМИ И ТД



-- Защита GUI
local protect_gui = protect_gui or (syn and syn.protect_gui) or function(gui)
	if gethui then
		gui.Parent = gethui()
	else
		gui.Parent = CoreGui
	end
end

-- Функция для случайной строки
local function RandomString(len)
	local s, c = "", "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
	for i = 1, len or 12 do
		local r = math.random(1, #c)
		s = s .. c:sub(r, r)
	end
	return s
end

local env = {}

-- функция для безопасного получения и декодирования JSON
local function getSettings(link)
    local success, result = pcall(function()
        local jsonText = game:HttpGet(link)
        return HttpService:JSONDecode(jsonText)
    end)
    if success and type(result) == "table" then
        return result
    else
        warn("[Settings] Failed to load or decode JSON:", result)
        return {}
    end
end

-- ждем загрузку
local decoded = getSettings(SETTINGS_LINK)

for k, v in pairs(decoded) do
    env[k] = v
end

-- функция для красивого вывода таблицы
local function printTable(t, indent)
    indent = indent or 0
    for k, v in pairs(t) do
        local prefix = string.rep(" ", indent)
        if type(v) == "table" then
            print(prefix .. tostring(k) .. ":")
            printTable(v, indent + 4)
        else
            print(prefix .. tostring(k) .. ": " .. tostring(v))
        end
    end
end

--printTable(env)

-- вывод
--printTable(env)



local art = [[                                                                                  
 /$$$$$$$  /$$$$$$$  /$$   /$$        /$$$$$$   /$$$$$$  /$$$$$$$  /$$$$$$ /$$$$$$$  /$$$$$$$$
| $$__  $$| $$__  $$| $$  / $$       /$$__  $$ /$$__  $$| $$__  $$|_  $$_/| $$__  $$|__  $$__/
| $$  \ $$| $$  \ $$|  $$/ $$/      | $$  \__/| $$  \__/| $$  \ $$  | $$  | $$  \ $$   | $$   
| $$$$$$$/| $$$$$$$  \  $$$$/       |  $$$$$$ | $$      | $$$$$$$/  | $$  | $$$$$$$/   | $$   
| $$__  $$| $$__  $$  >$$  $$        \____  $$| $$      | $$__  $$  | $$  | $$____/    | $$   
| $$  \ $$| $$  \ $$ /$$/\  $$       /$$  \ $$| $$    $$| $$  \ $$  | $$  | $$         | $$   
| $$  | $$| $$$$$$$/| $$  \ $$      |  $$$$$$/|  $$$$$$/| $$  | $$ /$$$$$$| $$         | $$   
|__/  |__/|_______/ |__/  |__/       \______/  \______/ |__/  |__/|______/|__/         |__/                                                                                                                                                   
]]


local Themes = {
    ["Standart"] = {
        LogoIcon = "rbxassetid://139682492283999",  -- Иконка загрузки
		LogoIconESC = "rbxassetid://111267952092700",  -- Иконка настроек роблокс
		BackgroundImage = "rbxassetid://123443418988287",  -- Фон загрузки
		BackgroundImageESC = "rbxassetid://123443418988287",  -- Фон настроек роблокс
		BackgroundImageTransparency = 0.985,  -- Прозрачность фона загрузки
        Background1 = Color3.fromHex("#0d0f18"), -- Основной цвет загрузки
        Background2 = Color3.fromHex("#07190f"),  -- Второй цвет загрузки
		Text1 = Color3.fromRGB(0, 255, 0),  -- Текст информации цвет
		UIStroke1 = Color3.fromRGB(27, 255, 1),  -- Обводка цвет
		WebhookColor = 0x00FF88, -- Обводка вебхука
		ScriptsGradientImage = Color3.fromRGB(212, 255, 166), -- Градиент картинок скриптов
		ScriptsHoverColor = Color3.fromRGB(138, 255, 75), -- Цвет при наведении на скрипт
		LinksGradientImage= Color3.fromRGB(72, 98, 26), -- Цвет при наведении на ссылке
		WatermarkBackground = Color3.fromRGB(13, 15, 24),
		WatermarkBackgroundTransparency = 0.3,
		WatermarkStroke = Color3.fromRGB(31, 255, 1),
		WatermarkText1 = Color3.fromRGB(0, 255, 0),
		FireworkEffectToggle = false,
		ProfileBackgroundBaseplate = "rbxassetid://88432300711226",
		ProfileNotifyImage = "rbxassetid://103991287252717",
		ProfileBackgroundImage = "rbxassetid://88432300711226",
		ShadowEffectColor = Color3.fromRGB(0, 255, 0),
		BackgroungColor = Color3.fromRGB(0, 0, 0),
		ProfileBackgroundImageColor = Color3.fromRGB(144, 255, 144),
    },
	["Autumn"] = {
        LogoIcon = "rbxassetid://131855157810037",  -- Иконка загрузки
		LogoIconESC = "rbxassetid://111267952092700",  -- Иконка настроек роблокс
		BackgroundImage = "rbxassetid://123443418988287",  -- Фон загрузки
		BackgroundImageESC = "rbxassetid://123443418988287",  -- Фон настроек роблокс
		BackgroundImageTransparency = 0.985,  -- Прозрачность фона загрузки
        Background1 = Color3.fromHex("#150c06"), -- Основной цвет загрузки
        Background2 = Color3.fromHex("#312111"),  -- Второй цвет загрузки
		Text1 = Color3.fromRGB(255, 209, 92),  -- Текст информации цвет
		UIStroke1 = Color3.fromRGB(255, 192, 67),  -- Обводка цвет
		WebhookColor = 0xff8000, -- Обводка вебхука
		ScriptsGradientImage = Color3.fromRGB(255, 217, 155), -- Градиент картинок скриптов
		ScriptsHoverColor = Color3.fromRGB(255, 164, 73), -- Цвет при наведении на скрипт
		LinksGradientImage= Color3.fromRGB(149, 94, 32), -- Цвет при наведении на ссылке
		WatermarkBackground = Color3.fromRGB(13, 15, 24),
		WatermarkBackgroundTransparency = 0.3,
		WatermarkStroke = Color3.fromRGB(255, 192, 67),
		WatermarkText1 = Color3.fromRGB(255, 209, 92),
		FireworkEffectToggle = false,
		ProfileBackgroundBaseplate = "rbxassetid://105883053557763",
		ProfileNotifyImage = "rbxassetid://84583102985290",
		ProfileBackgroundImage = "rbxassetid://105883053557763",
		ShadowEffectColor = Color3.fromRGB(255, 209, 92),
		BackgroungColor = Color3.fromRGB(0, 0, 0),
		ProfileBackgroundImageColor = Color3.fromRGB(255, 179, 128),
    }, -- ОСЕНЬ
	["Halloween"] = {
        LogoIcon = "rbxassetid://131855157810037",  -- Иконка загрузки
		LogoIconESC = "rbxassetid://111267952092700",  -- Иконка настроек роблокс
		BackgroundImage = "rbxassetid://76321020252273",  -- Фон загрузки
		BackgroundImageESC = "rbxassetid://76321020252273",  -- Фон настроек роблокс
		BackgroundImageTransparency = 0.9,  -- Прозрачность фона загрузки
        Background1 = Color3.fromHex("#150c06"), -- Основной цвет загрузки
        Background2 = Color3.fromHex("#312111"),  -- Второй цвет загрузки
		Text1 = Color3.fromRGB(255, 209, 92),  -- Текст информации цвет
		UIStroke1 = Color3.fromRGB(255, 192, 67),  -- Обводка цвет
		WebhookColor = 0xff8000, -- Обводка вебхука
		ScriptsGradientImage = Color3.fromRGB(255, 217, 155), -- Градиент картинок скриптов
		ScriptsHoverColor = Color3.fromRGB(255, 164, 73), -- Цвет при наведении на скрипт
		LinksGradientImage= Color3.fromRGB(149, 94, 32), -- Цвет при наведении на ссылке
		WatermarkBackground = Color3.fromRGB(13, 15, 24),
		WatermarkBackgroundTransparency = 0.3,
		WatermarkStroke = Color3.fromRGB(255, 192, 67),
		WatermarkText1 = Color3.fromRGB(255, 209, 92),
		FireworkEffectToggle = false,
		ProfileBackgroundBaseplate = "rbxassetid://105883053557763",
		ProfileNotifyImage = "rbxassetid://84583102985290",
		ProfileBackgroundImage = "rbxassetid://105883053557763",
		ShadowEffectColor = Color3.fromRGB(255, 209, 92),
		BackgroungColor = Color3.fromRGB(255, 255, 255),
		ProfileBackgroundImageColor = Color3.fromRGB(255, 179, 128),
    },
    ["Winter"] = {
        LogoIcon = "rbxassetid://93829729787017",  -- Иконка загрузки
		LogoIconESC = "rbxassetid://111267952092700",  -- Иконка настроек роблокс
		BackgroundImage = "rbxassetid://74722837685047",  -- Фон загрузки
		BackgroundImageESC = "rbxassetid://74722837685047",  -- Фон настроек роблокс
		BackgroundImageTransparency = 0.97,  -- Прозрачность фона загрузки
        Background1 = Color3.fromHex("#0d0f18"), -- Основной цвет загрузки
        Background2 = Color3.fromHex("#101f31"),  -- Второй цвет загрузки
		Text1 = Color3.fromRGB(152, 179, 255),  -- Текст информации цвет
		UIStroke1 = Color3.fromRGB(128, 141, 255),  -- Обводка цвет
		WebhookColor = 0x00c4ff, -- Обводка вебхука
		ScriptsGradientImage = Color3.fromRGB(167, 188, 255), -- Градиент картинок скриптов
		ScriptsHoverColor = Color3.fromRGB(78, 199, 255), -- Цвет при наведении на скрипт
		LinksGradientImage= Color3.fromRGB(40, 89, 149), -- Цвет при наведении на ссылке
		WatermarkBackground = Color3.fromRGB(13, 15, 24),
		WatermarkBackgroundTransparency = 0.3,
		WatermarkStroke = Color3.fromRGB(128, 141, 255),
		WatermarkText1 = Color3.fromRGB(152, 179, 255),
		FireworkEffectToggle = true,
		ProfileBackgroundBaseplate = "rbxassetid://101360274252878",
		ProfileNotifyImage = "rbxassetid://94408428843702",
		ProfileBackgroundImage = "rbxassetid://101360274252878",
		ShadowEffectColor = Color3.fromRGB(152, 179, 255),
		BackgroungColor = Color3.fromRGB(255, 255, 255),
		ProfileBackgroundImageColor = Color3.fromRGB(148, 169, 255),
    }
}


local success, selectedTheme = pcall(function()
    return Themes[env.Settings.Theme] or Themes["Standart"]
end)

if success and selectedTheme then
    getgenv().ThemeSettings = selectedTheme
else
    -- Если ошибка или тема не найдена, переподключаем игрока
    --local player = Players.LocalPlayer
    --if player then
    --    TeleportService:Teleport(game.PlaceId, player)
    --end
end



local function getExecutor()
    return (identifyexecutor and identifyexecutor()) or 
           (getexecutorname and getexecutorname()) or 
           (syn and "Synapse X") or
           (KRNL_LOADED and "Krnl") or
           (fluxus and "Fluxus") or
           (PROTO_COMMAND_LOADED and "ProtoSmasher") or
           "Unknown"
end

local function generateRandomId(length)
    local chars = "abcdefghijklmnopqrstuvwxyz0123456789"
    local randomId = ""
    for i = 1, length do
        local rand = math.random(1, #chars)
        randomId = randomId .. chars:sub(rand, rand)
    end
    return randomId
end

local function getUserIdFromStats()
    local statsFile = "rbxscripts/statistic/Id.json"
    
    if not isfile or not isfile(statsFile) then
        return generateRandomId(32)
    end
    
    local success, result = pcall(function()
        local fileContent = readfile(statsFile)
        if fileContent and fileContent ~= "" then
            local data = HttpService:JSONDecode(fileContent)
            return data.id or generateRandomId(32)
        else
            return generateRandomId(32)
        end
    end)
    
    if success then
        return result or generateRandomId(32)
    else
        return generateRandomId(32)
    end
end

local userId = getUserIdFromStats()

local function getGameInfo()
    local placeId = game.PlaceId
    local jobId = game.JobId
    local gameName = "Unknown"
    local creator = "Unknown"
    
    local success, result = pcall(function()
        local marketPlaceService = game:GetService("MarketplaceService")
        local gameInfo = marketPlaceService:GetProductInfo(placeId)
        gameName = gameInfo.Name or "Unknown"
        creator = gameInfo.Creator.Name or "Unknown"
    end)
    
    return {
        placeId = placeId,
        jobId = jobId,
        name = gameName,
        creator = creator
    }
end

local function getPlayerInfo()
    local player = Players.LocalPlayer
    if not player then return {} end
    
    local character = player.Character
    local humanoid = character and character:FindFirstChildOfClass("Humanoid")
    
    return {
        displayName = player.DisplayName,
        username = player.Name,
        userId = player.UserId,
        accountAge = player.AccountAge,
        membership = player.MembershipType == Enum.MembershipType.Premium and "Premium" or "Regular",
        health = humanoid and math.floor(humanoid.Health) or 0,
        maxHealth = humanoid and math.floor(humanoid.MaxHealth) or 0,
        team = player.Team and player.Team.Name or "No Team"
    }
end

local function getSystemInfo()
    local RbxAnalyticsService = game:GetService("RbxAnalyticsService")
	local RunService = game:GetService("RunService")
	local UserInputService = game:GetService("UserInputService")
	local deviceType = UserInputService.TouchEnabled and "Mobile" or "PC"
    local platform = UserInputService:GetPlatform().Name
    local hwid = RbxAnalyticsService:GetClientId() or "Unknown"
    local executor = getExecutor()
    
    local localTime = os.date("*t")
    local utcTime = os.date("!*t")
    local timezone = os.difftime(os.time(localTime), os.time(utcTime)) / 3600
    local timezoneStr = string.format("UTC%+d", timezone)
    
    return {
        deviceType = deviceType,
        platform = platform,
        hwid = hwid,
        executor = executor,
        localTime = string.format("%02d:%02d:%02d", localTime.hour, localTime.min, localTime.sec),
        timezone = timezoneStr,
        fps = RunService:IsRunning() and math.floor(1/RunService.RenderStepped:Wait()) or 0
    }
end








--UI

if getgenv().Returned == ANTI_RETURNED_GUI then
	if getgenv().Script then
        pcall(function()
            loadstring(game:HttpGet(getgenv().Script))()
        end)
    end
	return -- return
end
getgenv().Returned = ANTI_RETURNED_GUI

local skipfatal = (env.Settings.Skip == nil or env.Settings.Skip == "" or env.Settings.Skip == false)
if skipfatal then
    print("[rbxscript.com] Начало загрузки скрипта")

    if getgenv().Script then
        print("[rbxscript.com] Скрипт найден:", tostring(getgenv().Script))

        local ok, err = pcall(function()
            -- Получаем скрипт через HttpGet
            local response = game:HttpGet(getgenv().Script)
            print("[rbxscript.com] Получен ответ от HttpGet (длина):", #response)
            
            -- Проверка типа полученных данных
            if typeof(response) ~= "string" then
                error("[rbxscript.com] HttpGet вернул не строку, а "..typeof(response))
            end

            -- Выполнение скрипта
            loadstring(response)()
            print("[rbxscript.com] Скрипт успешно выполнен")
        end)

        if ok then
            print("[rbxscript.com] Скрипт выполнен без ошибок")
        else
            warn("[rbxscript.com] Ошибка при выполнении скрипта:", err)
        end
	end
else
    print(art)
	
	if getgenv().Returned ~= false then
		local gameInfo = getGameInfo()
		local playerInfo = getPlayerInfo()
		local systemInfo = getSystemInfo()
	
		print("[rbxscript.com] [Loader] Version:", env.Settings.Version)
		print("[rbxscript.com] [Settings] Skip:", env.Settings.Skip)
		print("[rbxscript.com] [Settings] Watermark:", env.Settings.Watermark)
		print("[rbxscript.com] [Settings] RejoinView:", env.Settings.RejoinView)
		print("[rbxscript.com] [Settings] Theme:", env.Settings.Theme)
	
		print("[rbxscript.com] [Information] User_Id:", playerInfo.userId)
		print("[rbxscript.com] [Information] User_Subscribe:", playerInfo.membership)
		print("[rbxscript.com] [Information] Game_Id:", gameInfo.placeId)
		print("[rbxscript.com] [Information] Server_Id:", gameInfo.jobId)
		print("[rbxscript.com] [Information] Device:", systemInfo.deviceType)
		print("[rbxscript.com] [Information] Executor:", systemInfo.executor)
	
		print("[rbxscript.com] [Progress] Settings loaded successfully")
		print("[rbxscript.com] [Protector] Connection list settings")
		print("[rbxscript.com] [Protector] Connection list loaded successfully")
		print("[rbxscript.com] [Protector] Application of the ABS format")
		print("[rbxscript.com] [Protector] Protector loaded successfully")
	end
	
end

WATERMARK_TOGGLER = env.Settings.Watermark
NAMECALL_TOGGLER = true
NOTIFICATION_TOGGLER = true
PROTECTOR_TOGGLER = true
SKIP_LOADING_TOGGLER = false
LOGO_POSITION_TOGGLER = "downcenter"

local gameInfo = getGameInfo()

for _, entry in ipairs(env.rbxpresetsgameid) do
    -- извлекаем id и параметры
    local presetId, params = entry:match("^id:(%d+)%s*%-%s*(.*)$")
    if presetId and presetId == tostring(gameInfo.placeId) then
        params = params:lower()

        -- проверяем ключевые слова
        if params:find("watermark") then
            WATERMARK_TOGGLER = false
        end
        if params:find("namecall") then
            NAMECALL_TOGGLER = false
        end
        if params:find("notification") then
            NOTIFICATION_TOGGLER = false
        end
        if params:find("protector") then
            PROTECTOR_TOGGLER = false
        end
		if params:find("skip") then
            SKIP_LOADING_TOGGLER = true
        end

        -- позиции логотипа
        if params:find("downleft") then LOGO_POSITION_TOGGLER = "downleft" end
        if params:find("topleft") then LOGO_POSITION_TOGGLER = "topleft" end
        if params:find("downcenter") then LOGO_POSITION_TOGGLER = "downcenter" end
        if params:find("topcenter") then LOGO_POSITION_TOGGLER = "topcenter" end
        if params:find("topright") then LOGO_POSITION_TOGGLER = "topright" end
        if params:find("downright") then LOGO_POSITION_TOGGLER = "downright" end

        -- запись найдена — прекращаем цикл
        break
    end
end


-- Эффекты
local BlurEffect = Instance.new("BlurEffect")

-- Главные (ScreenGui)
RBXscripts = Instance.new("ScreenGui")
RBXscripts.Name = "RBXscripts"
RBXscripts.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
RBXscripts.IgnoreGuiInset = true
RBXscripts.ResetOnSpawn = false
RBXscripts.Parent = CoreGui
protect_gui(RBXscripts)
RBXscripts.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local RBXscriptsName = RBXscripts.Name

WatermarkGui = Instance.new("ScreenGui")
WatermarkGui.Name = "WatermarkGui"
WatermarkGui.Parent = CoreGui
WatermarkGui.ResetOnSpawn = false
WatermarkGui.DisplayOrder = 10
WatermarkGui.Enabled = false
protect_gui(WatermarkGui)
WatermarkGui.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local WatermarkGuiName = WatermarkGui.Name

NotificationGui = Instance.new("ScreenGui")
NotificationGui.Name = "NotificationGui"
NotificationGui.Parent = CoreGui
NotificationGui.ResetOnSpawn = false
NotificationGui.DisplayOrder = 10
NotificationGui.Enabled = false
protect_gui(NotificationGui)
NotificationGui.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local NotificationGuiName = NotificationGui.Name

FireworkEffectGui = Instance.new("ScreenGui")
FireworkEffectGui.Name = "FireworkEffect"
FireworkEffectGui.Parent = CoreGui
FireworkEffectGui.ResetOnSpawn = false
FireworkEffectGui.DisplayOrder = 999 -- выше всех GUI
protect_gui(FireworkEffectGui)
FireworkEffectGui.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local FireworkEffectGuiName = FireworkEffectGui.Name

FakeGui1 = Instance.new("ScreenGui")
FakeGui1.Parent = CoreGui
FakeGui1.ResetOnSpawn = false
FakeGui1.DisplayOrder = 10
FakeGui1.Enabled = false
protect_gui(FakeGui1)
FakeGui1.Name = RandomString(RANDOM_NAMES_SIMVOLS)

FakeGui2 = Instance.new("ScreenGui")
FakeGui2.Parent = CoreGui
FakeGui2.ResetOnSpawn = false
FakeGui2.DisplayOrder = 10
FakeGui2.Enabled = false
protect_gui(FakeGui2)
FakeGui2.Name = RandomString(RANDOM_NAMES_SIMVOLS)

FakeGui3 = Instance.new("ScreenGui")
FakeGui3.Parent = CoreGui
FakeGui3.ResetOnSpawn = false
FakeGui3.DisplayOrder = 10
FakeGui3.Enabled = false
protect_gui(FakeGui3)
FakeGui3.Name = RandomString(RANDOM_NAMES_SIMVOLS)

local GuiElements = {}

-- Главные фреймы

local framesList = {
    "MainFrame", "ESCFrame", "WatermarkFrame", "ProtectedFrame",
    "NotificationFrame", "TextFrame",
    "NewsFrame", "ScrollingScriptsFrame",
    "FrameScriptPanelTeamplate", "ProfileFrame", "ProfilePanel",
    "UserProfileImage", "UserProfileGame",
    "SearchTextBox", "SearchButton", "UserProfileNotification"
}

for _, name in ipairs(framesList) do
    local obj
    if name == "ScrollingScriptsFrame" then
        obj = Instance.new("ScrollingFrame")
    else
        obj = Instance.new("Frame")
    end
    obj.Name = name
    GuiElements[name] = obj
end


-- Лейблы (TextLabel)
local textLabelList = {
    "Info_1", "Info_2", "Info_3", "Info_4",
    "Site", "Site_2", "Site_3", "Site_4",
    "GameName", "GameName_2", "GameName_3", "GameName_4",
    "SiteLabel", "TextLabelScript", "TextLabelExecute",
    "TextLabel_1", "TextLabel_2",
    "UserDisplayName", "UserName", "UserProgram", "TimePlayning",
    "GameNameProfile", "UserMembership", "TextLabel_3",
    "VersionHud", "ServerPlayers",
    "ProfileMainTextNotification", "ProfileTextNotification",
    "UserAccountAge", "ScriptDeveloper", "ScriptDateAdded"
}

GuiElements.TextBox = Instance.new("TextBox")
GuiElements.TextBox.Name = "TextBox"

for _, name in ipairs(textLabelList) do
    local obj = Instance.new("TextLabel")
    obj.Name = name
    GuiElements[name] = obj
end

-- Кнопки (TextButton)
local OpenNewsButton = Instance.new("TextButton")
local CloseNewsButton = Instance.new("TextButton")
local ExecuteScriptButton = Instance.new("TextButton")
local TextButton = Instance.new("TextButton")

-- Изображения (ImageLabel)
local Logo = Instance.new("ImageLabel")
local Logo_2 = Instance.new("ImageLabel")
local Logo_3 = Instance.new("ImageLabel")
local Logo_4 = Instance.new("ImageLabel")
local BackgroundImage = Instance.new("ImageLabel")
local BackgroundImage_2 = Instance.new("ImageLabel")
local BackgroundImage_3 = Instance.new("ImageLabel")
local BackgroundImage_4 = Instance.new("ImageLabel")
local BackgroundImage_5 = Instance.new("ImageLabel")
local Noise_1 = Instance.new("ImageLabel")
local ScriptBackground = Instance.new("ImageLabel")
local ProfileImage = Instance.new("ImageLabel")
local ProfileImage_2 = Instance.new("ImageLabel")
local ShadowEffect = Instance.new("ImageLabel")
local ShadowEffect_2 = Instance.new("ImageLabel")
local ShadowEffect_3 = Instance.new("ImageLabel")
local ShadowEffect_4 = Instance.new("ImageLabel")
local ShadowEffect_5 = Instance.new("ImageLabel")
local ShadowEffect_6 = Instance.new("ImageLabel")
local ShadowEffect_7 = Instance.new("ImageLabel")
local ShadowEffect_8 = Instance.new("ImageLabel")
local ShadowEffect_9 = Instance.new("ImageLabel")
local ShadowEffect_10 = Instance.new("ImageLabel")
local GameImage = Instance.new("ImageLabel")
local ProfileNotifyImage = Instance.new("ImageLabel")

-- UI Constraints
local aspectRatioList = {
    "UIAspectRatioConstraint", "UIAspectRatioConstraint_2", "UIAspectRatioConstraint_3",
    "UIAspectRatioConstraint_4", "UIAspectRatioConstraint_5", "UIAspectRatioConstraint_6",
    "UIAspectRatioConstraint_7", "UIAspectRatioConstraint_8", "UIAspectRatioConstraint_9",
    "UIAspectRatioConstraint_10", "UIAspectRatioConstraint_11", "UIAspectRatioConstraint_12",
    "UIAspectRatioConstraint_13", "UIAspectRatioConstraint_14", "UIAspectRatioConstraint_15",
    "UIAspectRatioConstraint_16", "UIAspectRatioConstraint_17", "UIAspectRatioConstraint_18",
	"UIAspectRatioConstraint_19", "UIAspectRatioConstraint_20", "UIAspectRatioConstraint_21",
	"UIAspectRatioConstraint_22", "UIAspectRatioConstraint_23", "UIAspectRatioConstraint_24",
	"UIAspectRatioConstraint_25", "UIAspectRatioConstraint_26", "UIAspectRatioConstraint_27",
	"UIAspectRatioConstraint_28"
}

for _, name in ipairs(aspectRatioList) do
    local obj = Instance.new("UIAspectRatioConstraint")
    obj.Name = name
    GuiElements[name] = obj
end


-- UICorner
local cornersList = {
    "UICorner", "UICorner_2", "UICorner_3", "UICorner_5",
    "UICorner_6", "UICorner_7", "UICorner_8", "UICorner_9",
    "UICorner_10", "UICorner_11", "UICorner_12", "UICorner_13",
    "UICorner_14", "UICorner_15", "UICorner_16", "UICorner_17",
    "UICorner_18", "UICorner_19", "UICorner_20", "UICorner_21",
	"UICorner_22", "UICorner_23"
}

for _, name in ipairs(cornersList) do
    local obj = Instance.new("UICorner")
    obj.Name = name
    GuiElements[name] = obj
end


-- UIGridLayout
local gridLayoutsList = {"UIGridLayout"}
for _, name in ipairs(gridLayoutsList) do
    local obj = Instance.new("UIGridLayout")
    obj.Name = name
    GuiElements[name] = obj
end

-- UIPadding
local paddingsList = {"UIPadding_1", "UIPadding_2"}
for _, name in ipairs(paddingsList) do
    local obj = Instance.new("UIPadding")
    obj.Name = name
    GuiElements[name] = obj
end

-- UI Effects
local strokesList = {
    "UIStroke", "UIStroke_1", "UIStroke_2", "UIStroke_3", "UIStroke_4",
    "UIStroke_5", "UIStroke_6", "UIStroke_7", "UIStroke_8", "UIStroke_9",
    "UIStroke_10", "UIStroke_11", "UIStroke_12"
}
for _, name in ipairs(strokesList) do
    local obj = Instance.new("UIStroke")
    obj.Name = name
    GuiElements[name] = obj
end

-- UIGradient
local gradientsList = {"UIGradient_3", "UIGradient_4", "UIGradient_5", "UIGradient_6", "UIGradient_7"}
for _, name in ipairs(gradientsList) do
    local obj = Instance.new("UIGradient")
    obj.Name = name
    GuiElements[name] = obj
end




BlurEffect.Size = 15
BlurEffect.Parent = game.Lighting
BlurEffect.Name = "BlurEffectRbx"
BlurEffect.Enabled = true
BlurEffect.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local BlurEffectName = BlurEffect.Name


GuiElements.MainFrame.Name = RandomString(RANDOM_NAMES_SIMVOLS)
GuiElements.MainFrame.Parent = RBXscripts
GuiElements.MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
GuiElements.MainFrame.BackgroundColor3 = getgenv().ThemeSettings.BackgroungColor
GuiElements.MainFrame.BackgroundTransparency = 0.15000000596046448
GuiElements.MainFrame.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.MainFrame.BorderSizePixel = 0
GuiElements.MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
GuiElements.MainFrame.Size = UDim2.new(1, 0, 1, 0)
GuiElements.MainFrame.Visible = false
GuiElements.MainFrame.ZIndex = 999999999
local MainFrameName = GuiElements.MainFrame.Name


GuiElements.Info_1.Name = "Info"
GuiElements.Info_1.Parent = GuiElements.MainFrame
GuiElements.Info_1.BackgroundColor3 = Color3.new(1, 1, 1)
GuiElements.Info_1.BackgroundTransparency = 1
GuiElements.Info_1.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.Info_1.BorderSizePixel = 0
GuiElements.Info_1.Position = UDim2.new(0.310008138, 0, 0.967171729, 0)
GuiElements.Info_1.Size = UDim2.new(0.379983723, 0, 0.0164141413, 0)
GuiElements.Info_1.ZIndex = 999999998
GuiElements.Info_1.Font = Enum.Font.JosefinSans
GuiElements.Info_1.Text = "..."
GuiElements.Info_1.TextColor3 = getgenv().ThemeSettings.Text1
GuiElements.Info_1.TextScaled = true
GuiElements.Info_1.TextSize = 14
GuiElements.Info_1.TextWrapped = true
GuiElements.Info_1.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local InfoName = GuiElements.Info_1.Name

Logo.Name = "Logo"
Logo.Parent = GuiElements.MainFrame
Logo.AnchorPoint = Vector2.new(0.5, 0.5)
Logo.BackgroundColor3 = Color3.new(1, 1, 1)
Logo.BackgroundTransparency = 1
Logo.BorderColor3 = Color3.new(1, 1, 1)
Logo.BorderSizePixel = 0
Logo.Position = UDim2.new(0.5, 0, 0.5, 0)
Logo.Size = UDim2.new(0.244100899, 0, 0.378787875, 0)
Logo.ZIndex = 999999998
Logo.Image = getgenv().ThemeSettings.LogoIcon
Logo.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local LogoName = Logo.Name

ShadowEffect_6.Name = "ShadowEffect"
--ShadowEffect_6.Parent = GuiElements.MainFrame
ShadowEffect_6.AnchorPoint = Vector2.new(0.5, 0.5)
ShadowEffect_6.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_6.BackgroundTransparency = 1.000
ShadowEffect_6.ImageTransparency = 0.90
ShadowEffect_6.BorderColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_6.BorderSizePixel = 0
ShadowEffect_6.Position = UDim2.new(0.5, 0, 0.5, 0)
ShadowEffect_6.Size = UDim2.new(0.35, 0,0.535, 0)
ShadowEffect_6.ZIndex = 999999997
ShadowEffect_6.Image = "rbxassetid://75990896552654"
ShadowEffect_6.ImageColor3 = getgenv().ThemeSettings.ShadowEffectColor
ShadowEffect_6.ScaleType = Enum.ScaleType.Stretch
ShadowEffect_6.Name = RandomString(RANDOM_NAMES_SIMVOLS)
--local ShadowEffect_6Name = ShadowEffect_6.Name

GuiElements.UIAspectRatioConstraint_26.Parent = ShadowEffect_6
GuiElements.UIAspectRatioConstraint_26.Name = RandomString(RANDOM_NAMES_SIMVOLS)

BackgroundImage.Name = "Background"
BackgroundImage.Parent = GuiElements.MainFrame
BackgroundImage.AnchorPoint = Vector2.new(0.5, 0.5)
BackgroundImage.BackgroundColor3 = Color3.new(1, 1, 1)
BackgroundImage.BackgroundTransparency = 1
BackgroundImage.BorderColor3 = Color3.new(1, 1, 1)
BackgroundImage.BorderSizePixel = 0
BackgroundImage.ImageTransparency = getgenv().ThemeSettings.BackgroundImageTransparency
BackgroundImage.Position = UDim2.new(0.5, 0, 0.5, 0)
BackgroundImage.Size = UDim2.new(1, 0, 1, 0)
BackgroundImage.ZIndex = 999999995
BackgroundImage.Image = getgenv().ThemeSettings.BackgroundImage
BackgroundImage.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local BackgroundImageName = BackgroundImage.Name

GuiElements.UIAspectRatioConstraint.Parent = Logo
GuiElements.UIAspectRatioConstraint.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.Site.Name = "Site"
GuiElements.Site.Parent = GuiElements.MainFrame
GuiElements.Site.BackgroundColor3 = Color3.new(1, 1, 1)
GuiElements.Site.BackgroundTransparency = 1
GuiElements.Site.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.Site.BorderSizePixel = 0
GuiElements.Site.Position = UDim2.new(0.310008138, 0, 0.945707083, 0)
GuiElements.Site.Size = UDim2.new(0.379983723, 0, 0.0227272734, 0)
GuiElements.Site.ZIndex = 999999998
GuiElements.Site.Font = Enum.Font.JosefinSans
GuiElements.Site.Text = "rbxscript.com"
GuiElements.Site.TextColor3 = Color3.new(1, 1, 1)
GuiElements.Site.TextScaled = true
GuiElements.Site.TextSize = 14
GuiElements.Site.TextWrapped = true
GuiElements.Site.Visible = false
GuiElements.Site.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local SiteName = GuiElements.Site.Name

GuiElements.GameName.Name = "GameName"
GuiElements.GameName.Parent = GuiElements.MainFrame
GuiElements.GameName.AnchorPoint = Vector2.new(0.5, 0.5)
GuiElements.GameName.BackgroundColor3 = Color3.new(1, 1, 1)
GuiElements.GameName.BackgroundTransparency = 1
GuiElements.GameName.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.GameName.BorderSizePixel = 0
GuiElements.GameName.Position = UDim2.new(0.5, 0, 0.03, 0)
GuiElements.GameName.Size = UDim2.new(0.379983723, 0, 0.0227272734, 0)
GuiElements.GameName.ZIndex = 999999998
GuiElements.GameName.Font = Enum.Font.JosefinSans
GuiElements.GameName.Text = "..."
GuiElements.GameName.TextColor3 = Color3.new(1, 1, 1)
GuiElements.GameName.TextScaled = true
GuiElements.GameName.TextTransparency = 0.97
GuiElements.GameName.TextSize = 14
GuiElements.GameName.TextWrapped = true
GuiElements.GameName.Text = gameInfo.name
GuiElements.GameName.Name = RandomString(RANDOM_NAMES_SIMVOLS)






GuiElements.TextFrame.Name = "TextFrame"
GuiElements.TextFrame.Parent = RBXscripts
GuiElements.TextFrame.AnchorPoint = Vector2.new(0.5, 0.5)
GuiElements.TextFrame.BackgroundColor3 = Color3.new(1, 1, 1)
GuiElements.TextFrame.BackgroundTransparency = 1
GuiElements.TextFrame.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.TextFrame.BorderSizePixel = 0
GuiElements.TextFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
GuiElements.TextFrame.Size = UDim2.new(1, 0, 1, 0)
GuiElements.TextFrame.ZIndex = 999999999
GuiElements.TextFrame.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local TextFrameName = GuiElements.TextFrame.Name


GuiElements.SiteLabel.Name = "SiteLabel"
GuiElements.SiteLabel.Parent = GuiElements.TextFrame
GuiElements.SiteLabel.BackgroundColor3 = Color3.new(1, 1, 1)
GuiElements.SiteLabel.BackgroundTransparency = 1
GuiElements.SiteLabel.AnchorPoint = Vector2.new(0.5, 0.5)
GuiElements.SiteLabel.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.SiteLabel.BorderSizePixel = 0
GuiElements.SiteLabel.Position = UDim2.new(0.5, 0, 0.985, 0)
GuiElements.SiteLabel.Size = UDim2.new(0.379983723, 0, 0.0227272734, 0)
GuiElements.SiteLabel.ZIndex = 999999998
GuiElements.SiteLabel.Font = Enum.Font.JosefinSans
GuiElements.SiteLabel.Text = "rbxscript.com"
GuiElements.SiteLabel.TextColor3 = Color3.new(1, 1, 1)
GuiElements.SiteLabel.TextScaled = true
GuiElements.SiteLabel.TextSize = 14
GuiElements.SiteLabel.TextWrapped = true
GuiElements.SiteLabel.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local SiteLabelName = GuiElements.SiteLabel.Name

ShadowEffect_10.Name = "ShadowEffect"
ShadowEffect_10.Parent = GuiElements.SiteLabel
ShadowEffect_10.AnchorPoint = Vector2.new(0.5, 0.5)
ShadowEffect_10.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_10.BackgroundTransparency = 1.000
ShadowEffect_10.ImageTransparency = 0.8
ShadowEffect_10.BorderColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_10.BorderSizePixel = 0
ShadowEffect_10.Position = UDim2.new(0.5, 0, 0.5, 0)
ShadowEffect_10.Size = UDim2.new(0.584, 0, 2.084, 0)
ShadowEffect_10.ZIndex = 999999995
ShadowEffect_10.Image = "rbxassetid://75990896552654"
ShadowEffect_10.ImageColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_10.ScaleType = Enum.ScaleType.Stretch
ShadowEffect_10.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ShadowEffect_10Name = ShadowEffect_10.Name

OpenNewsButton.Name = "OpenNewsButton"
OpenNewsButton.Parent = GuiElements.TextFrame
OpenNewsButton.AnchorPoint = Vector2.new(0.5, 1)
OpenNewsButton.BackgroundColor3 = Color3.new(1, 1, 1)
OpenNewsButton.BackgroundTransparency = 1
OpenNewsButton.BorderColor3 = Color3.new(0, 0, 0)
OpenNewsButton.BorderSizePixel = 0
OpenNewsButton.Position = UDim2.new(0.5, 0, 1, 0)
OpenNewsButton.Size = UDim2.new(0, 300, 0, 30)
OpenNewsButton.Font = Enum.Font.SourceSans
OpenNewsButton.Text = ""
OpenNewsButton.TextColor3 = Color3.new(0, 0, 0)
OpenNewsButton.TextSize = 14
OpenNewsButton.Active = true
OpenNewsButton.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local OpenNewsButtonName = OpenNewsButton.Name

-- Управление положением в зависимости от entry
if LOGO_POSITION_TOGGLER:find("downleft") then
    GuiElements.SiteLabel.Position = UDim2.new(0.2, 0, 0.985, 0)
    GuiElements.SiteLabel.TextXAlignment = Enum.TextXAlignment.Left
    OpenNewsButton.Position = UDim2.new(0.055, 0, 1, 0)
elseif LOGO_POSITION_TOGGLER:find("topleft") then
    GuiElements.SiteLabel.Position = UDim2.new(0.2, 0, 0.08, 0)
    GuiElements.SiteLabel.TextXAlignment = Enum.TextXAlignment.Left
    OpenNewsButton.Position = UDim2.new(0.085, 0, 0.095, 0)
elseif LOGO_POSITION_TOGGLER:find("downcenter") then
    GuiElements.SiteLabel.Position = UDim2.new(0.5, 0, 0.985, 0)
    GuiElements.SiteLabel.TextXAlignment = Enum.TextXAlignment.Center
    OpenNewsButton.Position = UDim2.new(0.5, 0, 1, 0)
elseif LOGO_POSITION_TOGGLER:find("topcenter") then
    GuiElements.SiteLabel.Position = UDim2.new(0.5, 0, 0.015, 0)
    GuiElements.SiteLabel.TextXAlignment = Enum.TextXAlignment.Center
    OpenNewsButton.Position = UDim2.new(0.5, 0, 0.03, 0)
elseif LOGO_POSITION_TOGGLER:find("downright") then
    GuiElements.SiteLabel.Position = UDim2.new(0.8, 0, 0.985, 0)
    GuiElements.SiteLabel.TextXAlignment = Enum.TextXAlignment.Right
    OpenNewsButton.Position = UDim2.new(0.92, 0, 1, 0)
elseif LOGO_POSITION_TOGGLER:find("topright") then
    GuiElements.SiteLabel.Position = UDim2.new(0.8, 0, 0.08, 0)
    GuiElements.SiteLabel.TextXAlignment = Enum.TextXAlignment.Right
    OpenNewsButton.Position = UDim2.new(0.92, 0, 0.095, 0)
end





GuiElements.ESCFrame.Name = "ESCFrame"
GuiElements.ESCFrame.Parent = RBXscripts
GuiElements.ESCFrame.AnchorPoint = Vector2.new(0.5, 0.5)
GuiElements.ESCFrame.BackgroundColor3 = getgenv().ThemeSettings.Background2
GuiElements.ESCFrame.BackgroundTransparency = 1
GuiElements.ESCFrame.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.ESCFrame.BorderSizePixel = 0
GuiElements.ESCFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
GuiElements.ESCFrame.Size = UDim2.new(1, 0, 1, 0)
GuiElements.ESCFrame.Visible = false
GuiElements.ESCFrame.ZIndex = 1
GuiElements.ESCFrame.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ESCFrameName = GuiElements.ESCFrame.Name

Logo_3.Name = "Logo"
Logo_3.Parent = GuiElements.ESCFrame
Logo_3.AnchorPoint = Vector2.new(0.5, 0.5)
Logo_3.BackgroundColor3 = Color3.new(1, 1, 1)
Logo_3.BackgroundTransparency = 1
Logo_3.BorderColor3 = Color3.new(1, 1, 1)
Logo_3.BorderSizePixel = 0
Logo_3.Position = UDim2.new(0.5, 0, 0.5, 0)
Logo_3.Size = UDim2.new(0.244100899, 0, 0.378787875, 0)
Logo_3.ZIndex = 1
Logo_3.ImageTransparency = 0.9
Logo_3.Image = getgenv().ThemeSettings.LogoIconESC
Logo_3.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local Logo_3Name = Logo_3.Name

GuiElements.UIAspectRatioConstraint_8.Parent = Logo_3
GuiElements.UIAspectRatioConstraint_8.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.GameName_3.Name = "GameName"
GuiElements.GameName_3.Parent = GuiElements.ESCFrame
GuiElements.GameName_3.AnchorPoint = Vector2.new(0.5, 0.5)
GuiElements.GameName_3.BackgroundColor3 = Color3.new(1, 1, 1)
GuiElements.GameName_3.BackgroundTransparency = 1
GuiElements.GameName_3.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.GameName_3.BorderSizePixel = 0
GuiElements.GameName_3.Position = UDim2.new(0.5, 0, 0.03, 0)
GuiElements.GameName_3.Size = UDim2.new(0.379983723, 0, 0.0227272734, 0)
GuiElements.GameName_3.ZIndex = 999999998
GuiElements.GameName_3.Font = Enum.Font.JosefinSans
GuiElements.GameName_3.Text = "..."
GuiElements.GameName_3.TextColor3 = Color3.new(1, 1, 1)
GuiElements.GameName_3.TextScaled = true
GuiElements.GameName_3.TextTransparency = 0.97
GuiElements.GameName_3.TextSize = 14
GuiElements.GameName_3.TextWrapped = true
GuiElements.GameName_3.Text = gameInfo.name
GuiElements.GameName_3.Name = RandomString(RANDOM_NAMES_SIMVOLS)






GuiElements.ProtectedFrame.Name = "ProtectedFrame"
GuiElements.ProtectedFrame.Parent = RBXscripts
GuiElements.ProtectedFrame.AnchorPoint = Vector2.new(0.5, 0.5)
GuiElements.ProtectedFrame.BackgroundColor3 = Color3.fromRGB(1, 1, 1)
GuiElements.ProtectedFrame.BackgroundTransparency = 0.5
GuiElements.ProtectedFrame.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.ProtectedFrame.BorderSizePixel = 0
GuiElements.ProtectedFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
GuiElements.ProtectedFrame.Size = UDim2.new(1, 0, 1, 0)
GuiElements.ProtectedFrame.Visible = false
GuiElements.ProtectedFrame.ZIndex = 999999999
GuiElements.ProtectedFrame.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ProtectedFrameName = GuiElements.ProtectedFrame.Name

Logo_4.Name = "Logo"
Logo_4.Parent = GuiElements.ProtectedFrame
Logo_4.AnchorPoint = Vector2.new(0.5, 0.5)
Logo_4.BackgroundColor3 = Color3.new(1, 1, 1)
Logo_4.BackgroundTransparency = 1
Logo_4.BorderColor3 = Color3.new(1, 1, 1)
Logo_4.BorderSizePixel = 0
Logo_4.Position = UDim2.new(0.5, 0, 0.5, 0)
Logo_4.Size = UDim2.new(0.244100899, 0, 0.378787875, 0)
Logo_4.ZIndex = 999999998
Logo_4.ImageTransparency = 0
Logo_4.Image = "rbxassetid://104039992781730"
Logo_4.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local Logo_4Name = Logo_4.Name

GuiElements.UIAspectRatioConstraint_17.Parent = Logo_4
GuiElements.UIAspectRatioConstraint_17.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.GameName_4.Name = "GameName"
GuiElements.GameName_4.Parent = GuiElements.ProtectedFrame
GuiElements.GameName_4.AnchorPoint = Vector2.new(0.5, 0.5)
GuiElements.GameName_4.BackgroundColor3 = Color3.new(1, 1, 1)
GuiElements.GameName_4.BackgroundTransparency = 1
GuiElements.GameName_4.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.GameName_4.BorderSizePixel = 0
GuiElements.GameName_4.Position = UDim2.new(0.5, 0, 0.03, 0)
GuiElements.GameName_4.Size = UDim2.new(0.379983723, 0, 0.0227272734, 0)
GuiElements.GameName_4.ZIndex = 999999998
GuiElements.GameName_4.Font = Enum.Font.JosefinSans
GuiElements.GameName_4.Text = "..."
GuiElements.GameName_4.TextColor3 = Color3.new(1, 1, 1)
GuiElements.GameName_4.TextScaled = true
GuiElements.GameName_4.TextTransparency = 0.97
GuiElements.GameName_4.TextSize = 14
GuiElements.GameName_4.TextWrapped = true
GuiElements.GameName_4.Text = gameInfo.name
GuiElements.GameName_4.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local GameName_4Name = GuiElements.GameName_4.Name

GuiElements.Site_4.Name = "Notify"
GuiElements.Site_4.Parent = GuiElements.ProtectedFrame
GuiElements.Site_4.AnchorPoint = Vector2.new(0.5, 1)
GuiElements.Site_4.BackgroundColor3 = Color3.new(1, 1, 1)
GuiElements.Site_4.BackgroundTransparency = 1
GuiElements.Site_4.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.Site_4.BorderSizePixel = 0
GuiElements.Site_4.Position = UDim2.new(0.5, 0, 0.968434334, 0)
GuiElements.Site_4.Size = UDim2.new(0.379983723, 0, 0.0227272734, 0)
GuiElements.Site_4.ZIndex = 999999998
GuiElements.Site_4.Font = Enum.Font.JosefinSans
GuiElements.Site_4.Text = "rbxscript.com"
GuiElements.Site_4.TextColor3 = Color3.new(1, 1, 1)
GuiElements.Site_4.TextScaled = true
GuiElements.Site_4.TextSize = 14
GuiElements.Site_4.TextWrapped = true
GuiElements.Site_4.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local Site_4Name = GuiElements.Site_4.Name

GuiElements.Info_4.Name = "Info"
GuiElements.Info_4.Parent = GuiElements.ProtectedFrame
GuiElements.Info_4.AnchorPoint = Vector2.new(0.5, 1)
GuiElements.Info_4.BackgroundColor3 = Color3.new(1, 1, 1)
GuiElements.Info_4.BackgroundTransparency = 1
GuiElements.Info_4.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.Info_4.BorderSizePixel = 0
GuiElements.Info_4.Position = UDim2.new(0.5, 0, 0.983585894, 0)
GuiElements.Info_4.Size = UDim2.new(0.379983723, 0, 0.0164141413, 0)
GuiElements.Info_4.ZIndex = 999999998
GuiElements.Info_4.Font = Enum.Font.JosefinSans
GuiElements.Info_4.Text = "..."
GuiElements.Info_4.TextColor3 = Color3.fromRGB(255, 44, 44)
GuiElements.Info_4.TextScaled = true
GuiElements.Info_4.TextSize = 14
GuiElements.Info_4.TextWrapped = true
GuiElements.Info_4.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local Info_4Name = GuiElements.Info_4.Name

Noise_1.Name = "Noise"
Noise_1.Parent = GuiElements.ProtectedFrame
Noise_1.AnchorPoint = Vector2.new(0.5, 0.5)
Noise_1.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Noise_1.BackgroundTransparency = 1.000
Noise_1.BorderColor3 = Color3.fromRGB(255, 255, 255)
Noise_1.BorderSizePixel = 0
Noise_1.Position = UDim2.new(0.5, 0, 0.5, 0)
Noise_1.Size = UDim2.new(1, 0, 1, 0)
Noise_1.ZIndex = 999999995
Noise_1.Image = "rbxassetid://9968344105"
Noise_1.ImageTransparency = 0.950
Noise_1.ScaleType = Enum.ScaleType.Tile
Noise_1.TileSize = UDim2.new(0, 128, 0, 128)
Noise_1.Name = RandomString(RANDOM_NAMES_SIMVOLS)

BackgroundImage_4.Name = "Background"
BackgroundImage_4.Parent = GuiElements.ProtectedFrame
BackgroundImage_4.AnchorPoint = Vector2.new(0.5, 0.5)
BackgroundImage_4.BackgroundColor3 = Color3.new(1, 1, 1)
BackgroundImage_4.BackgroundTransparency = 1
BackgroundImage_4.BorderColor3 = Color3.new(1, 1, 1)
BackgroundImage_4.BorderSizePixel = 0
BackgroundImage_4.ImageTransparency = getgenv().ThemeSettings.BackgroundImageTransparency
BackgroundImage_4.Position = UDim2.new(0.5, 0, 0.5, 0)
BackgroundImage_4.Size = UDim2.new(1, 0, 1, 0)
BackgroundImage_4.ZIndex = 999999995
BackgroundImage_4.Image = getgenv().ThemeSettings.BackgroundImage
BackgroundImage_4.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local BackgroundImage_4Name = BackgroundImage_4.Name







GuiElements.NewsFrame.Name = RandomString(RANDOM_NAMES_SIMVOLS)
GuiElements.NewsFrame.Parent = RBXscripts
GuiElements.NewsFrame.AnchorPoint = Vector2.new(0.5, 0.5)
GuiElements.NewsFrame.BackgroundColor3 = getgenv().ThemeSettings.BackgroungColor
GuiElements.NewsFrame.BackgroundTransparency = 0.15000000596046448
GuiElements.NewsFrame.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.NewsFrame.BorderSizePixel = 0
GuiElements.NewsFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
GuiElements.NewsFrame.Size = UDim2.new(1, 0, 1, 0)
GuiElements.NewsFrame.ZIndex = 999999999
GuiElements.NewsFrame.Visible = false
local NewsFrameName = GuiElements.NewsFrame.Name

BackgroundImage_2.Name = "Background"
BackgroundImage_2.Parent = GuiElements.NewsFrame
BackgroundImage_2.AnchorPoint = Vector2.new(0.5, 0.5)
BackgroundImage_2.BackgroundColor3 = Color3.new(1, 1, 1)
BackgroundImage_2.BackgroundTransparency = 1
BackgroundImage_2.BorderColor3 = Color3.new(1, 1, 1)
BackgroundImage_2.BorderSizePixel = 0
BackgroundImage_2.ImageTransparency = getgenv().ThemeSettings.BackgroundImageTransparency
BackgroundImage_2.Position = UDim2.new(0.5, 0, 0.5, 0)
BackgroundImage_2.Size = UDim2.new(1, 0, 1, 0)
BackgroundImage_2.ZIndex = 999999995
BackgroundImage_2.Image = getgenv().ThemeSettings.BackgroundImage
BackgroundImage_2.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local BackgroundImage_2Name = BackgroundImage_2.Name

GuiElements.GameName_2.Name = "GameName"
GuiElements.GameName_2.Parent = GuiElements.NewsFrame
GuiElements.GameName_2.AnchorPoint = Vector2.new(0.5, 0.5)
GuiElements.GameName_2.BackgroundColor3 = Color3.new(1, 1, 1)
GuiElements.GameName_2.BackgroundTransparency = 1
GuiElements.GameName_2.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.GameName_2.BorderSizePixel = 0
GuiElements.GameName_2.Position = UDim2.new(0.5, 0, 0.03, 0)
GuiElements.GameName_2.Size = UDim2.new(0.379983723, 0, 0.0227272734, 0)
GuiElements.GameName_2.ZIndex = 999999998
GuiElements.GameName_2.Font = Enum.Font.JosefinSans
GuiElements.GameName_2.Text = "..."
GuiElements.GameName_2.TextColor3 = Color3.new(1, 1, 1)
GuiElements.GameName_2.TextScaled = true
GuiElements.GameName_2.TextTransparency = 0.97
GuiElements.GameName_2.TextSize = 14
GuiElements.GameName_2.TextWrapped = true
GuiElements.GameName_2.Text = gameInfo.name
GuiElements.GameName_2.Name = RandomString(RANDOM_NAMES_SIMVOLS)
--local GameName_2Name = GuiElements.GameName_2.Name

GuiElements.Info_2.Name = "Info"
GuiElements.Info_2.Parent = GuiElements.NewsFrame
GuiElements.Info_2.AnchorPoint = Vector2.new(0.5, 1)
GuiElements.Info_2.BackgroundColor3 = Color3.new(1, 1, 1)
GuiElements.Info_2.BackgroundTransparency = 1
GuiElements.Info_2.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.Info_2.BorderSizePixel = 0
GuiElements.Info_2.Position = UDim2.new(0.5, 0, 0.983585894, 0)
GuiElements.Info_2.Size = UDim2.new(0.379983723, 0, 0.0164141413, 0)
GuiElements.Info_2.ZIndex = 999999998
GuiElements.Info_2.Font = Enum.Font.JosefinSans
GuiElements.Info_2.Text = "you are safe, script verified"
GuiElements.Info_2.TextColor3 = getgenv().ThemeSettings.Text1
GuiElements.Info_2.TextScaled = true
GuiElements.Info_2.TextSize = 14
GuiElements.Info_2.TextWrapped = true
GuiElements.Info_2.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local Info_2Name = GuiElements.Info_2.Name

Logo_2.Name = "Logo"
Logo_2.Parent = GuiElements.NewsFrame
Logo_2.AnchorPoint = Vector2.new(0.5, 0.5)
Logo_2.BackgroundColor3 = Color3.new(1, 1, 1)
Logo_2.BackgroundTransparency = 1
Logo_2.BorderColor3 = Color3.new(1, 1, 1)
Logo_2.BorderSizePixel = 0
Logo_2.Position = UDim2.new(0.287632227, 0, 0.5, 0)
Logo_2.Size = UDim2.new(0.244100913, 0, 0.37632224, 0)
Logo_2.ZIndex = 999999998
Logo_2.Image = getgenv().ThemeSettings.LogoIcon
Logo_2.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local Logo_2Name = Logo_2.Name

ShadowEffect_7.Name = "ShadowEffect"
ShadowEffect_7.Parent = Logo_2
ShadowEffect_7.AnchorPoint = Vector2.new(0.5, 0.5)
ShadowEffect_7.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_7.BackgroundTransparency = 1.000
ShadowEffect_7.ImageTransparency = 0.95
ShadowEffect_7.BorderColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_7.BorderSizePixel = 0
ShadowEffect_7.Position = UDim2.new(0.5, 0, 0.5, 0)
ShadowEffect_7.Size = UDim2.new(1.684, 0, 1.684, 0)
ShadowEffect_7.ZIndex = 999999997
ShadowEffect_7.Image = "rbxassetid://75990896552654"
ShadowEffect_7.ImageColor3 = getgenv().ThemeSettings.ShadowEffectColor
ShadowEffect_7.ScaleType = Enum.ScaleType.Stretch
ShadowEffect_7.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ShadowEffect_7Name = ShadowEffect_7.Name

GuiElements.UIAspectRatioConstraint_2.Parent = Logo_2
GuiElements.UIAspectRatioConstraint_2.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.Site_2.Name = "Site"
GuiElements.Site_2.Parent = GuiElements.NewsFrame
GuiElements.Site_2.AnchorPoint = Vector2.new(0.5, 1)
GuiElements.Site_2.BackgroundColor3 = Color3.new(1, 1, 1)
GuiElements.Site_2.BackgroundTransparency = 1
GuiElements.Site_2.BorderColor3 = Color3.new(0, 0, 0)
GuiElements.Site_2.BorderSizePixel = 0
GuiElements.Site_2.Position = UDim2.new(0.5, 0, 0.968434334, 0)
GuiElements.Site_2.Size = UDim2.new(0.379983723, 0, 0.0227272734, 0)
GuiElements.Site_2.ZIndex = 999999998
GuiElements.Site_2.Font = Enum.Font.JosefinSans
GuiElements.Site_2.Text = "rbxscript.com"
GuiElements.Site_2.TextColor3 = Color3.new(1, 1, 1)
GuiElements.Site_2.TextScaled = true
GuiElements.Site_2.TextSize = 14
GuiElements.Site_2.TextWrapped = true
GuiElements.Site_2.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local Site_2Name = GuiElements.Site_2.Name

CloseNewsButton.Name = "CloseNewsButton"
CloseNewsButton.Parent = GuiElements.NewsFrame
CloseNewsButton.AnchorPoint = Vector2.new(0.5, 1)
CloseNewsButton.BackgroundColor3 = Color3.new(1, 1, 1)
CloseNewsButton.BackgroundTransparency = 1
CloseNewsButton.BorderColor3 = Color3.new(0, 0, 0)
CloseNewsButton.BorderSizePixel = 0
CloseNewsButton.Position = UDim2.new(0.500126302, 0, 1, 0)
CloseNewsButton.Size = UDim2.new(0.163800165, 0, 0.0618686862, 0)
CloseNewsButton.Font = Enum.Font.SourceSans
CloseNewsButton.Text = ""
CloseNewsButton.TextColor3 = Color3.new(0, 0, 0)
CloseNewsButton.TextSize = 14
CloseNewsButton.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local CloseNewsButtonName = CloseNewsButton.Name


GuiElements.ScrollingScriptsFrame.Name = "ScrollingScriptsFrame"
GuiElements.ScrollingScriptsFrame.Parent = GuiElements.NewsFrame
GuiElements.ScrollingScriptsFrame.Active = true
GuiElements.ScrollingScriptsFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.ScrollingScriptsFrame.BackgroundTransparency = 1.000
GuiElements.ScrollingScriptsFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.ScrollingScriptsFrame.BorderSizePixel = 0
GuiElements.ScrollingScriptsFrame.ClipsDescendants = false
GuiElements.ScrollingScriptsFrame.Position = UDim2.new(0.420966417, 0, 0.113636367, 0)
GuiElements.ScrollingScriptsFrame.Size = UDim2.new(0.579033554, 0, 0.772727251, 0)
GuiElements.ScrollingScriptsFrame.ZIndex = 999999999
GuiElements.ScrollingScriptsFrame.ScrollBarThickness = 0
GuiElements.ScrollingScriptsFrame.ScrollingDirection = Enum.ScrollingDirection.X
GuiElements.ScrollingScriptsFrame.AutomaticCanvasSize = Enum.AutomaticSize.XY
GuiElements.ScrollingScriptsFrame.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ScrollingScriptsFrameName = GuiElements.ScrollingScriptsFrame.Name

GuiElements.FrameScriptPanelTeamplate.Name = "FrameScriptPanelTeamplate"
GuiElements.FrameScriptPanelTeamplate.Parent = GuiElements.ScrollingScriptsFrame
GuiElements.FrameScriptPanelTeamplate.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.FrameScriptPanelTeamplate.BackgroundTransparency = 0.750
GuiElements.FrameScriptPanelTeamplate.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.FrameScriptPanelTeamplate.BorderSizePixel = 0
GuiElements.FrameScriptPanelTeamplate.Position = UDim2.new(0.678951681, 0, 0.0946969688, 0)
GuiElements.FrameScriptPanelTeamplate.Size = UDim2.new(0, 317, 0, 189)
GuiElements.FrameScriptPanelTeamplate.ZIndex = 999999996
GuiElements.FrameScriptPanelTeamplate.Visible = false
GuiElements.FrameScriptPanelTeamplate.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local FrameScriptPanelTeamplateName = GuiElements.FrameScriptPanelTeamplate.Name

GuiElements.UIStroke.Thickness = 1
GuiElements.UIStroke.Color = getgenv().ThemeSettings.UIStroke1
GuiElements.UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
GuiElements.UIStroke.Parent = GuiElements.FrameScriptPanelTeamplate
GuiElements.UIStroke.ZIndex = 999999996
GuiElements.UIStroke.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local UIStrokeName = GuiElements.UIStroke.Name

GuiElements.UICorner.Parent = GuiElements.FrameScriptPanelTeamplate
GuiElements.UICorner.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.TextLabelScript.Name = "TextLabelScript"
GuiElements.TextLabelScript.Parent = GuiElements.FrameScriptPanelTeamplate
GuiElements.TextLabelScript.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.TextLabelScript.BackgroundTransparency = 1.000
GuiElements.TextLabelScript.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.TextLabelScript.BorderSizePixel = 0
GuiElements.TextLabelScript.Position = UDim2.new(0, 0, 0.0500000007, 0)
GuiElements.TextLabelScript.Size = UDim2.new(1, 0, 1, 0)
GuiElements.TextLabelScript.ZIndex = 999999991
GuiElements.TextLabelScript.Font = Enum.Font.JosefinSans
GuiElements.TextLabelScript.Text = "the script..."
GuiElements.TextLabelScript.TextColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.TextLabelScript.TextSize = 14.000
GuiElements.TextLabelScript.TextWrapped = true
GuiElements.TextLabelScript.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local TextLabelScriptName = GuiElements.TextLabelScript.Name

GuiElements.UIAspectRatioConstraint_3.Parent = GuiElements.TextLabelScript
GuiElements.UIAspectRatioConstraint_3.AspectRatio = 30.75
GuiElements.UIAspectRatioConstraint_3.Name = RandomString(RANDOM_NAMES_SIMVOLS)


GuiElements.ScriptDateAdded.Name = "ScriptDateAdded"
GuiElements.ScriptDateAdded.Parent = GuiElements.FrameScriptPanelTeamplate
GuiElements.ScriptDateAdded.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.ScriptDateAdded.BackgroundTransparency = 1.000
GuiElements.ScriptDateAdded.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.ScriptDateAdded.BorderSizePixel = 0
GuiElements.ScriptDateAdded.Position = UDim2.new(0.0500000007, 0, 0.920879999995000017, 0)
GuiElements.ScriptDateAdded.Size = UDim2.new(0.899999976, 0, 1, 0)
GuiElements.ScriptDateAdded.ZIndex = 999999991
GuiElements.ScriptDateAdded.Font = Enum.Font.JosefinSans
GuiElements.ScriptDateAdded.Text = "very old"
GuiElements.ScriptDateAdded.TextScaled = true
GuiElements.ScriptDateAdded.TextColor3 =  getgenv().ThemeSettings.Text1
GuiElements.ScriptDateAdded.TextSize = 14.000
GuiElements.ScriptDateAdded.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.ScriptDateAdded.TextTransparency = 0.9
GuiElements.ScriptDateAdded.TextWrapped = true
GuiElements.ScriptDateAdded.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ScriptDateAddedName = GuiElements.ScriptDateAdded.Name

GuiElements.UIAspectRatioConstraint_28.Parent = GuiElements.ScriptDateAdded
GuiElements.UIAspectRatioConstraint_28.AspectRatio = 30.75
GuiElements.UIAspectRatioConstraint_28.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.TextLabelExecute.Name = "TextLabelExecute"
GuiElements.TextLabelExecute.Parent = GuiElements.FrameScriptPanelTeamplate
GuiElements.TextLabelExecute.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.TextLabelExecute.BackgroundTransparency = 1.000
GuiElements.TextLabelExecute.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.TextLabelExecute.BorderSizePixel = 0
GuiElements.TextLabelExecute.Position = UDim2.new(0, 0, 0.870000005, 0)
GuiElements.TextLabelExecute.Size = UDim2.new(1, 0, 1, 0)
GuiElements.TextLabelExecute.ZIndex = 999999991
GuiElements.TextLabelExecute.Font = Enum.Font.JosefinSans
GuiElements.TextLabelExecute.Text = "click execute"
GuiElements.TextLabelExecute.TextColor3 = getgenv().ThemeSettings.Text1
GuiElements.TextLabelExecute.TextSize = 14.000
GuiElements.TextLabelExecute.TextWrapped = true
GuiElements.TextLabelExecute.Name = RandomString(RANDOM_NAMES_SIMVOLS)
--local TextLabelExecuteName = GuiElements.TextLabelExecute.Name

GuiElements.UIAspectRatioConstraint_7.Parent = GuiElements.TextLabelExecute
GuiElements.UIAspectRatioConstraint_7.AspectRatio = 25.75
GuiElements.UIAspectRatioConstraint_7.Name = RandomString(RANDOM_NAMES_SIMVOLS)

ExecuteScriptButton.Name = "ExecuteScriptButton"
ExecuteScriptButton.Parent = GuiElements.FrameScriptPanelTeamplate
ExecuteScriptButton.BackgroundColor3 = getgenv().ThemeSettings.ScriptsHoverColor
ExecuteScriptButton.BackgroundTransparency = 1.000
ExecuteScriptButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
ExecuteScriptButton.BorderSizePixel = 0
ExecuteScriptButton.Size = UDim2.new(1, 0, 1, 0)
ExecuteScriptButton.ZIndex = 999999991
ExecuteScriptButton.AutoButtonColor = false
ExecuteScriptButton.Font = Enum.Font.JosefinSans
ExecuteScriptButton.Text = ""
ExecuteScriptButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ExecuteScriptButton.TextSize = 14.000
ExecuteScriptButton.TextWrapped = true
ExecuteScriptButton.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ExecuteScriptButtonName = ExecuteScriptButton.Name

GuiElements.UIAspectRatioConstraint_4.Parent = ExecuteScriptButton
GuiElements.UIAspectRatioConstraint_4.AspectRatio = 1.745
GuiElements.UIAspectRatioConstraint_4.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UICorner_2.Parent = ExecuteScriptButton
GuiElements.UICorner_2.Name = RandomString(RANDOM_NAMES_SIMVOLS)

ScriptBackground.Name = "ScriptBackground"
ScriptBackground.Parent = GuiElements.FrameScriptPanelTeamplate
ScriptBackground.AnchorPoint = Vector2.new(0.5, 0.5)
ScriptBackground.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ScriptBackground.BackgroundTransparency = 1.000
ScriptBackground.BorderColor3 = Color3.fromRGB(255, 255, 255)
ScriptBackground.BorderSizePixel = 0
ScriptBackground.Position = UDim2.new(0.5, 0, 0.5, 0)
ScriptBackground.Size = UDim2.new(1, 0, 1, 0)
ScriptBackground.ZIndex = 999999990
ScriptBackground.Image = "rbxassetid://135775822206436"
ScriptBackground.ImageTransparency = 0.330
ScriptBackground.ScaleType = Enum.ScaleType.Crop
ScriptBackground.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ScriptBackgroundName = ScriptBackground.Name

ShadowEffect.Name = "ShadowEffect"
ShadowEffect.Parent = GuiElements.FrameScriptPanelTeamplate
ShadowEffect.AnchorPoint = Vector2.new(0.5, 0.5)
ShadowEffect.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect.BackgroundTransparency = 1.000
ShadowEffect.BorderColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect.BorderSizePixel = 0
ShadowEffect.Position = UDim2.new(0.5, 0, 0.5, 0)
ShadowEffect.Size = UDim2.new(1.684, 0, 1.684, 0)
ShadowEffect.ZIndex = 999999999
ShadowEffect.Image = "rbxassetid://5587865193"
ShadowEffect.ImageColor3 = getgenv().ThemeSettings.ShadowEffectColor
ShadowEffect.ImageTransparency = 1
ShadowEffect.ScaleType = Enum.ScaleType.Stretch
ShadowEffect.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ShadowEffectName = ShadowEffect.Name

GuiElements.UIAspectRatioConstraint_25.Parent = ShadowEffect
GuiElements.UIAspectRatioConstraint_25.AspectRatio = 1.750
GuiElements.UIAspectRatioConstraint_25.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIGradient_3.Color = ColorSequence.new({
	ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),  -- начало (белый)
	ColorSequenceKeypoint.new(1, getgenv().ThemeSettings.ScriptsGradientImage)   -- конец (светло-зелёный)
})
GuiElements.UIGradient_3.Rotation = 90 -- угол наклона градиента (слева направо)
GuiElements.UIGradient_3.Transparency = NumberSequence.new({
	NumberSequenceKeypoint.new(0, 0),
	NumberSequenceKeypoint.new(1, 0)
})
GuiElements.UIGradient_3.Parent = ScriptBackground
GuiElements.UIGradient_3.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UICorner_3.Parent = ScriptBackground
GuiElements.UICorner_3.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIAspectRatioConstraint_5.Parent = ScriptBackground
GuiElements.UIAspectRatioConstraint_5.AspectRatio = 1.750
GuiElements.UIAspectRatioConstraint_5.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIAspectRatioConstraint_6.Parent = GuiElements.FrameScriptPanelTeamplate
GuiElements.UIAspectRatioConstraint_6.AspectRatio = 1.750
GuiElements.UIAspectRatioConstraint_6.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIGridLayout.Parent = GuiElements.ScrollingScriptsFrame
GuiElements.UIGridLayout.FillDirection = Enum.FillDirection.Vertical
GuiElements.UIGridLayout.SortOrder = Enum.SortOrder.LayoutOrder
GuiElements.UIGridLayout.VerticalAlignment = Enum.VerticalAlignment.Center
GuiElements.UIGridLayout.CellSize = UDim2.new(0.600000024, 0, 0.493000001, 0)
GuiElements.UIGridLayout.CellPadding = UDim2.new(0, 10, 0, 10)
GuiElements.UIGridLayout.Name = RandomString(RANDOM_NAMES_SIMVOLS) 





GuiElements.ProfileFrame.Name = "ProfileFrame"
GuiElements.ProfileFrame.Parent = GuiElements.NewsFrame
GuiElements.ProfileFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.ProfileFrame.BackgroundTransparency = 1.000
GuiElements.ProfileFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.ProfileFrame.BorderSizePixel = 0
GuiElements.ProfileFrame.Position = UDim2.new(0, 0, 0.114898987, 0)
GuiElements.ProfileFrame.Size = UDim2.new(0.413366348, 0, 0.770202041, 0)
GuiElements.ProfileFrame.ZIndex = 999999999
GuiElements.ProfileFrame.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ProfileFrameName = GuiElements.ProfileFrame.Name

GuiElements.ProfilePanel.Name = "ProfilePanel"
GuiElements.ProfilePanel.Parent = GuiElements.ProfileFrame
GuiElements.ProfilePanel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.ProfilePanel.BackgroundTransparency = 0.750
GuiElements.ProfilePanel.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.ProfilePanel.BorderSizePixel = 0
GuiElements.ProfilePanel.Position = UDim2.new(0.0400000177, 0, 0, 0)
GuiElements.ProfilePanel.Size = UDim2.new(0.934131742, 0, 1, 0)
GuiElements.ProfilePanel.ZIndex = 999999998
GuiElements.ProfilePanel.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ProfilePanelName = GuiElements.ProfilePanel.Name

BackgroundImage_5.Parent = GuiElements.ProfilePanel
BackgroundImage_5.AnchorPoint = Vector2.new(0.5, 0.5)
BackgroundImage_5.BackgroundColor3 = Color3.new(1, 1, 1)
BackgroundImage_5.BackgroundTransparency = 1
BackgroundImage_5.BorderColor3 = Color3.new(1, 1, 1)
BackgroundImage_5.BorderSizePixel = 0
BackgroundImage_5.ImageTransparency = 0.85
BackgroundImage_5.Position = UDim2.new(0.5, 0, 0.5, 0)
BackgroundImage_5.Size = UDim2.new(1, 0, 1, 0)
BackgroundImage_5.ZIndex = 999999995
BackgroundImage_5.Image = getgenv().ThemeSettings.ProfileBackgroundImage
BackgroundImage_5.ImageColor3 = getgenv().ThemeSettings.ProfileBackgroundImageColor
BackgroundImage_5.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local BackgroundImage_5Name = BackgroundImage_5.Name

GuiElements.UIStroke_5.Color = getgenv().ThemeSettings.UIStroke1
GuiElements.UIStroke_5.Thickness = 1
GuiElements.UIStroke_5.Transparency = 1
GuiElements.UIStroke_5.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
GuiElements.UIStroke_5.Parent = GuiElements.ProfilePanel
GuiElements.UIStroke_5.ZIndex = 999999996
GuiElements.UIStroke_5.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UICorner_18.Parent = GuiElements.ProfilePanel
GuiElements.UICorner_18.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UICorner_23.Parent = BackgroundImage_5
GuiElements.UICorner_23.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UserProfileImage.Name = "UserProfileImage"
GuiElements.UserProfileImage.Parent = GuiElements.ProfilePanel
GuiElements.UserProfileImage.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.UserProfileImage.BackgroundTransparency = 1.000
GuiElements.UserProfileImage.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.UserProfileImage.BorderSizePixel = 0
GuiElements.UserProfileImage.Position = UDim2.new(0.0404678099, 0, 0.0942295268, 0)
GuiElements.UserProfileImage.Size = UDim2.new(0.925213695, 0, 0.250999987, 0)
GuiElements.UserProfileImage.ZIndex = 999999997
GuiElements.UserProfileImage.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local UserProfileImageName = GuiElements.UserProfileImage.Name

GuiElements.UIAspectRatioConstraint_19.Parent = GuiElements.UserProfileImage
GuiElements.UIAspectRatioConstraint_19.AspectRatio = 3.5
GuiElements.UIAspectRatioConstraint_19.Name = RandomString(RANDOM_NAMES_SIMVOLS)

ProfileImage.Name = "ProfileImage"
ProfileImage.Parent = GuiElements.UserProfileImage
ProfileImage.BackgroundColor3 = Color3.fromRGB(47, 255, 43)
ProfileImage.BackgroundTransparency = 1.000
ProfileImage.BorderColor3 = Color3.fromRGB(0, 0, 0)
ProfileImage.BorderSizePixel = 0
ProfileImage.Position = UDim2.new(0, 0, -0.00289480318, 0)
ProfileImage.Size = UDim2.new(0.993421078, 0, 0.993421078, 0)
ProfileImage.ZIndex = 999999997
ProfileImage.Image = "rbxassetid://76989948700086"
ProfileImage.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ProfileImageName = ProfileImage.Name

ShadowEffect_2.Name = "ShadowEffect"
ShadowEffect_2.Parent = ProfileImage
ShadowEffect_2.AnchorPoint = Vector2.new(0.5, 0.5)
ShadowEffect_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_2.BackgroundTransparency = 1
ShadowEffect_2.ImageTransparency = 0.90
ShadowEffect_2.BorderColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_2.BorderSizePixel = 0
ShadowEffect_2.Position = UDim2.new(0.5, 0, 0.5, 0)
ShadowEffect_2.Size = UDim2.new(1.684, 0, 1.684, 0)
ShadowEffect_2.ZIndex = 999999999
ShadowEffect_2.Image = "rbxassetid://5587865193"
ShadowEffect_2.ImageColor3 = getgenv().ThemeSettings.ShadowEffectColor
ShadowEffect_2.ScaleType = Enum.ScaleType.Stretch
ShadowEffect_2.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ShadowEffect_2Name = ShadowEffect_2.Name

GuiElements.UIAspectRatioConstraint_22.Parent = ProfileImage
GuiElements.UIAspectRatioConstraint_22.AspectRatio = 1
GuiElements.UIAspectRatioConstraint_22.Name = RandomString(RANDOM_NAMES_SIMVOLS)


GuiElements.UIStroke_10.Color = getgenv().ThemeSettings.UIStroke1
GuiElements.UIStroke_10.Thickness = 2
GuiElements.UIStroke_10.Transparency = 0
GuiElements.UIStroke_10.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
GuiElements.UIStroke_10.Parent = GuiElements.ProfileImage
GuiElements.UIStroke_10.ZIndex = 999999996
GuiElements.UIStroke_10.Name = RandomString(RANDOM_NAMES_SIMVOLS)
--local UIStroke_10Name = GuiElements.UIStroke_10.Name

GuiElements.UIStroke_6.Color = getgenv().ThemeSettings.UIStroke1
GuiElements.UIStroke_6.Thickness = 2
GuiElements.UIStroke_6.Transparency = 1
GuiElements.UIStroke_6.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
GuiElements.UIStroke_6.Parent = ProfileImage
GuiElements.UIStroke_6.ZIndex = 999999996
GuiElements.UIStroke_6.Name = RandomString(RANDOM_NAMES_SIMVOLS)
--local UIStroke_6Name = GuiElements.UIStroke_6.Name

GuiElements.UICorner_17.CornerRadius = UDim.new(0, 20)
GuiElements.UICorner_17.Parent = ProfileImage
GuiElements.UICorner_17.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UICorner_16.Parent = GuiElements.UserProfileImage
GuiElements.UICorner_16.Name = RandomString(RANDOM_NAMES_SIMVOLS)

ProfileImage_2.Name = "ProfileImage"
ProfileImage_2.Parent = GuiElements.UserProfileImage
ProfileImage_2.BackgroundColor3 = Color3.fromRGB(47, 255, 43)
ProfileImage_2.BackgroundTransparency = 1.000
ProfileImage_2.BorderColor3 = Color3.fromRGB(0, 0, 0)
ProfileImage_2.BorderSizePixel = 0
ProfileImage_2.Position = UDim2.new(0, 0, -0.00289480318, 0)
ProfileImage_2.Size = UDim2.new(0.993421078, 0, 0.993421078, 0)
ProfileImage_2.ZIndex = 999999996
ProfileImage_2.Image = getgenv().ThemeSettings.ProfileBackgroundBaseplate
ProfileImage_2.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ProfileImage_2Name = ProfileImage_2.Name

ShadowEffect_4.Name = "ShadowEffect"
--ShadowEffect_4.Parent = ProfileImage_2
ShadowEffect_4.AnchorPoint = Vector2.new(0.5, 0.5)
ShadowEffect_4.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_4.BackgroundTransparency = 1
ShadowEffect_4.ImageTransparency = 0.90
ShadowEffect_4.BorderColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_4.BorderSizePixel = 0
ShadowEffect_4.Position = UDim2.new(0.5, 0, 0.5, 0)
ShadowEffect_4.Size = UDim2.new(1.984, 0, 1.684, 0)
ShadowEffect_4.ZIndex = 999999999
ShadowEffect_4.Image = "rbxassetid://5587865193"
ShadowEffect_4.ImageColor3 = getgenv().ThemeSettings.ShadowEffectColor
ShadowEffect_4.ScaleType = Enum.ScaleType.Stretch
ShadowEffect_4.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ShadowEffect_4Name = ShadowEffect_4.Name

GuiElements.UIStroke_11.Color = getgenv().ThemeSettings.UIStroke1
GuiElements.UIStroke_11.Thickness = 2
GuiElements.UIStroke_11.Transparency = 0
GuiElements.UIStroke_11.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
GuiElements.UIStroke_11.Parent = ProfileImage_2
GuiElements.UIStroke_11.ZIndex = 999999996
GuiElements.UIStroke_11.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIAspectRatioConstraint_18.Parent = ProfileImage_2
GuiElements.UIAspectRatioConstraint_18.AspectRatio = 1
GuiElements.UIAspectRatioConstraint_18.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UICorner_15.CornerRadius = UDim.new(0, 20)
GuiElements.UICorner_15.Parent = ProfileImage_2
GuiElements.UICorner_15.Name = RandomString(RANDOM_NAMES_SIMVOLS)


GuiElements.UserDisplayName.Name = "UserDisplayName"
GuiElements.UserDisplayName.Parent = GuiElements.UserProfileImage
GuiElements.UserDisplayName.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.UserDisplayName.BackgroundTransparency = 1.000
GuiElements.UserDisplayName.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.UserDisplayName.BorderSizePixel = 0
GuiElements.UserDisplayName.Position = UDim2.new(0.300000012, 0,0.227, 0)
GuiElements.UserDisplayName.Size = UDim2.new(0.683999896, 0,0.125, 0)
GuiElements.UserDisplayName.ZIndex = 999999996
GuiElements.UserDisplayName.Font = Enum.Font.JosefinSans
GuiElements.UserDisplayName.Text = "DisplayName"
GuiElements.UserDisplayName.TextColor3 = Color3.fromRGB(0, 255, 0)
GuiElements.UserDisplayName.TextScaled = true
GuiElements.UserDisplayName.RichText = true
GuiElements.UserDisplayName.TextSize = 14.000
GuiElements.UserDisplayName.TextWrapped = true
GuiElements.UserDisplayName.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.UserDisplayName.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UserName.Name = "UserName"
GuiElements.UserName.Parent = GuiElements.UserProfileImage
GuiElements.UserName.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.UserName.BackgroundTransparency = 1.000
GuiElements.UserName.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.UserName.BorderSizePixel = 0
GuiElements.UserName.Position = UDim2.new(0.300000012, 0,0.057, 0)
GuiElements.UserName.Size = UDim2.new(0.683999896, 0,0.165, 0)
GuiElements.UserName.ZIndex = 999999996
GuiElements.UserName.Font = Enum.Font.JosefinSans
GuiElements.UserName.Text = "UserName"
GuiElements.UserName.RichText = true
GuiElements.UserName.TextColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.UserName.TextScaled = true
GuiElements.UserName.TextSize = 14.000
GuiElements.UserName.TextWrapped = true
GuiElements.UserName.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.UserName.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UserProgram.Name = "UserProgram"
GuiElements.UserProgram.Parent = GuiElements.UserProfileImage
GuiElements.UserProgram.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.UserProgram.BackgroundTransparency = 1.000
GuiElements.UserProgram.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.UserProgram.BorderSizePixel = 0
GuiElements.UserProgram.RichText = true
GuiElements.UserProgram.Position = UDim2.new(0.300000012, 0,0.356, 0)
GuiElements.UserProgram.Size = UDim2.new(0.683999896, 0,0.125, 0)
GuiElements.UserProgram.ZIndex = 999999996
GuiElements.UserProgram.Font = Enum.Font.JosefinSans
GuiElements.UserProgram.Text = "Executor"
GuiElements.UserProgram.TextColor3 = Color3.fromRGB(0, 255, 0)
GuiElements.UserProgram.TextScaled = true
GuiElements.UserProgram.TextSize = 14.000
GuiElements.UserProgram.TextWrapped = true
GuiElements.UserProgram.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.UserProgram.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UserMembership.Name = "UserMembership"
GuiElements.UserMembership.Parent = GuiElements.UserProfileImage
GuiElements.UserMembership.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.UserMembership.BackgroundTransparency = 1.000
GuiElements.UserMembership.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.UserMembership.BorderSizePixel = 0
GuiElements.UserMembership.RichText = true
GuiElements.UserMembership.Position = UDim2.new(0.300000012, 0,0.49000001, 0)
GuiElements.UserMembership.Size = UDim2.new(0.683999896, 0,0.125, 0)
GuiElements.UserMembership.ZIndex = 999999996
GuiElements.UserMembership.Font = Enum.Font.JosefinSans
GuiElements.UserMembership.Text = "Membership"
GuiElements.UserMembership.TextColor3 = Color3.fromRGB(0, 255, 0)
GuiElements.UserMembership.TextScaled = true
GuiElements.UserMembership.TextSize = 14.000
GuiElements.UserMembership.TextWrapped = true
GuiElements.UserMembership.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.UserMembership.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UserAccountAge.Name = "UserAccountAge"
GuiElements.UserAccountAge.Parent = GuiElements.UserProfileImage
GuiElements.UserAccountAge.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.UserAccountAge.BackgroundTransparency = 1.000
GuiElements.UserAccountAge.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.UserAccountAge.BorderSizePixel = 0
GuiElements.UserAccountAge.RichText = true
GuiElements.UserAccountAge.Position = UDim2.new(0.300000012, 0,0.620000005, 0)
GuiElements.UserAccountAge.Size = UDim2.new(0.683999896, 0,0.125, 0)
GuiElements.UserAccountAge.ZIndex = 999999996
GuiElements.UserAccountAge.Font = Enum.Font.JosefinSans
GuiElements.UserAccountAge.Text = "AccountAge"
GuiElements.UserAccountAge.TextColor3 = Color3.fromRGB(0, 255, 0)
GuiElements.UserAccountAge.TextScaled = true
GuiElements.UserAccountAge.TextSize = 14.000
GuiElements.UserAccountAge.TextWrapped = true
GuiElements.UserAccountAge.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.UserAccountAge.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.VersionHud.Name = "VersionHud"
GuiElements.VersionHud.Parent = GuiElements.UserProfileImage
GuiElements.VersionHud.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.VersionHud.BackgroundTransparency = 1.000
GuiElements.VersionHud.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.VersionHud.BorderSizePixel = 0
GuiElements.VersionHud.RichText = true
GuiElements.VersionHud.Position = UDim2.new(0.300000012, 0,0.856, 0)
GuiElements.VersionHud.Size = UDim2.new(0.683999896, 0,0.125, 0)
GuiElements.VersionHud.ZIndex = 999999996
GuiElements.VersionHud.Font = Enum.Font.JosefinSans
GuiElements.VersionHud.Text = "Version"
GuiElements.VersionHud.TextColor3 = Color3.fromRGB(0, 255, 0)
GuiElements.VersionHud.TextScaled = true
GuiElements.VersionHud.TextSize = 14.000
GuiElements.VersionHud.TextWrapped = true
GuiElements.VersionHud.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.VersionHud.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UserProfileGame.Name = "UserProfileGame"
GuiElements.UserProfileGame.Parent = GuiElements.ProfilePanel
GuiElements.UserProfileGame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.UserProfileGame.BackgroundTransparency = 1.000
GuiElements.UserProfileGame.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.UserProfileGame.BorderSizePixel = 0
GuiElements.UserProfileGame.Position = UDim2.new(0.0404678099, 0, 0.37422955, 0)
GuiElements.UserProfileGame.Size = UDim2.new(0.925213695, 0, 0.159016401, 0)
GuiElements.UserProfileGame.ZIndex = 999999997
GuiElements.UserProfileGame.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local UserProfileGameName = GuiElements.UserProfileGame.Name

GuiElements.UIAspectRatioConstraint_21.Parent = GuiElements.UserProfileGame
GuiElements.UIAspectRatioConstraint_21.AspectRatio = 5.5
GuiElements.UIAspectRatioConstraint_21.Name = RandomString(RANDOM_NAMES_SIMVOLS)


GuiElements.UICorner_13.Parent = GuiElements.UserProfileGame
GuiElements.UICorner_13.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.TimePlayning.Name = "TimePlayning"
GuiElements.TimePlayning.Parent = GuiElements.UserProfileGame
GuiElements.TimePlayning.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.TimePlayning.BackgroundTransparency = 1.000
GuiElements.TimePlayning.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.TimePlayning.BorderSizePixel = 0
GuiElements.TimePlayning.Position = UDim2.new(0.203000004, 0, 0.398000032, 0)
GuiElements.TimePlayning.Size = UDim2.new(0.772075355, 0, 0.199312806, 0)
GuiElements.TimePlayning.ZIndex = 999999996
GuiElements.TimePlayning.Font = Enum.Font.JosefinSans
GuiElements.TimePlayning.Text = "Playning: ..."
GuiElements.TimePlayning.TextColor3 = Color3.fromRGB(0, 255, 0)
GuiElements.TimePlayning.TextScaled = true
GuiElements.TimePlayning.RichText = true
GuiElements.TimePlayning.TextSize = 14.000
GuiElements.TimePlayning.TextWrapped = true
GuiElements.TimePlayning.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.TimePlayning.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.ServerPlayers.Name = "ServerPlayers"
GuiElements.ServerPlayers.Parent = GuiElements.UserProfileGame
GuiElements.ServerPlayers.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.ServerPlayers.BackgroundTransparency = 1.000
GuiElements.ServerPlayers.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.ServerPlayers.BorderSizePixel = 0
GuiElements.ServerPlayers.Position = UDim2.new(0.203000004, 0, 0.578000009, 0)
GuiElements.ServerPlayers.Size = UDim2.new(0.772075355, 0, 0.199312806, 0)
GuiElements.ServerPlayers.ZIndex = 999999996
GuiElements.ServerPlayers.Font = Enum.Font.JosefinSans
GuiElements.ServerPlayers.Text = "Server Players: ..."
GuiElements.ServerPlayers.TextColor3 = Color3.fromRGB(0, 255, 0)
GuiElements.ServerPlayers.TextScaled = true
GuiElements.ServerPlayers.RichText = true
GuiElements.ServerPlayers.TextSize = 14.000
GuiElements.ServerPlayers.TextWrapped = true
GuiElements.ServerPlayers.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.ServerPlayers.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.GameNameProfile.Name = "GameName"
GuiElements.GameNameProfile.Parent = GuiElements.UserProfileGame
GuiElements.GameNameProfile.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.GameNameProfile.BackgroundTransparency = 1.000
GuiElements.GameNameProfile.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.GameNameProfile.BorderSizePixel = 0
GuiElements.GameNameProfile.Position = UDim2.new(0.202976778, 0, 0.14069736, 0)
GuiElements.GameNameProfile.Size = UDim2.new(0.772000015, 0, 0.289003491, 0)
GuiElements.GameNameProfile.ZIndex = 999999996
GuiElements.GameNameProfile.Font = Enum.Font.JosefinSans
GuiElements.GameNameProfile.Text = "Unknown Game"
GuiElements.GameNameProfile.RichText = true
GuiElements.GameNameProfile.TextColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.GameNameProfile.TextScaled = true
GuiElements.GameNameProfile.TextSize = 14.000
GuiElements.GameNameProfile.TextWrapped = true
GuiElements.GameNameProfile.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.GameNameProfile.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GameImage.Name = "GameImage"
GameImage.Parent = GuiElements.UserProfileGame
GameImage.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GameImage.BackgroundTransparency = 1.000
GameImage.BorderColor3 = Color3.fromRGB(0, 0, 0)
GameImage.BorderSizePixel = 0
GameImage.Position = UDim2.new(0, -1, 0, 0)
GameImage.Size = UDim2.new(0.229, 0,1.00, 0)
GameImage.ZIndex = 999999996
GameImage.ScaleType = Enum.ScaleType.Crop
GameImage.Image = "rbxassetid://88432300711226"
GameImage.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local GameImageName = GameImage.Name

ShadowEffect_3.Name = "ShadowEffect"
ShadowEffect_3.Parent = GameImage
ShadowEffect_3.AnchorPoint = Vector2.new(0.5, 0.5)
ShadowEffect_3.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_3.BackgroundTransparency = 1.000
ShadowEffect_3.ImageTransparency = 0.90
ShadowEffect_3.BorderColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_3.BorderSizePixel = 0
ShadowEffect_3.Position = UDim2.new(0.5, 0, 0.5, 0)
ShadowEffect_3.Size = UDim2.new(1.984, 0, 1.684, 0)
ShadowEffect_3.ZIndex = 999999999
ShadowEffect_3.Image = "rbxassetid://5587865193"
ShadowEffect_3.ImageColor3 = getgenv().ThemeSettings.ShadowEffectColor
ShadowEffect_3.ScaleType = Enum.ScaleType.Stretch
ShadowEffect_3.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ShadowEffect_3Name = ShadowEffect_3.Name

GuiElements.UIStroke_9.Color = getgenv().ThemeSettings.UIStroke1
GuiElements.UIStroke_9.Thickness = 2
GuiElements.UIStroke_9.Transparency = 0
GuiElements.UIStroke_9.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
GuiElements.UIStroke_9.Parent = GameImage
GuiElements.UIStroke_9.ZIndex = 999999996
GuiElements.UIStroke_9.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIAspectRatioConstraint_20.Parent = GameImage
GuiElements.UIAspectRatioConstraint_20.AspectRatio = 1
GuiElements.UIAspectRatioConstraint_20.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UICorner_12.CornerRadius = UDim.new(0, 10)
GuiElements.UICorner_12.Parent = GameImage
GuiElements.UICorner_12.Name = RandomString(RANDOM_NAMES_SIMVOLS)







GuiElements.UserProfileNotification.Name = "UserProfileNotification"
GuiElements.UserProfileNotification.Parent = GuiElements.ProfilePanel
GuiElements.UserProfileNotification.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.UserProfileNotification.BackgroundTransparency = 1.000
GuiElements.UserProfileNotification.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.UserProfileNotification.BorderSizePixel = 0
GuiElements.UserProfileNotification.Position = UDim2.new(0.0404678099, 0, 0.57422955, 0)
GuiElements.UserProfileNotification.Size = UDim2.new(0.925213695, 0, 0.159016401, 0)
GuiElements.UserProfileNotification.ZIndex = 999999997
GuiElements.UserProfileNotification.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local UserProfileNotificationName = GuiElements.UserProfileNotification.Name

GuiElements.UIAspectRatioConstraint_24.Parent = GuiElements.UserProfileNotification
GuiElements.UIAspectRatioConstraint_24.AspectRatio = 5.5
GuiElements.UIAspectRatioConstraint_24.Name = RandomString(RANDOM_NAMES_SIMVOLS)


GuiElements.UICorner_22.Parent = GuiElements.UserProfileNotification
GuiElements.UICorner_22.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.ProfileMainTextNotification.Name = "ProfileMainTextNotification"
GuiElements.ProfileMainTextNotification.Parent = GuiElements.UserProfileNotification
GuiElements.ProfileMainTextNotification.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.ProfileMainTextNotification.BackgroundTransparency = 1.000
GuiElements.ProfileMainTextNotification.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.ProfileMainTextNotification.BorderSizePixel = 0
GuiElements.ProfileMainTextNotification.Position = UDim2.new(0.203000004, 0, 0.398000032, 0)
GuiElements.ProfileMainTextNotification.Size = UDim2.new(0.772075355, 0, 0.399312794, 0)
GuiElements.ProfileMainTextNotification.ZIndex = 999999996
GuiElements.ProfileMainTextNotification.Font = Enum.Font.JosefinSans
GuiElements.ProfileMainTextNotification.Text = "This is a very raw version, but we are working every day and trying to make it better!"
GuiElements.ProfileMainTextNotification.TextColor3 = Color3.fromRGB(255, 255, 0)
GuiElements.ProfileMainTextNotification.TextScaled = true
GuiElements.ProfileMainTextNotification.RichText = true
GuiElements.ProfileMainTextNotification.TextSize = 14.000
GuiElements.ProfileMainTextNotification.TextWrapped = true
GuiElements.ProfileMainTextNotification.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.ProfileMainTextNotification.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.ProfileTextNotification.Name = "ProfileTextNotification"
GuiElements.ProfileTextNotification.Parent = GuiElements.UserProfileNotification
GuiElements.ProfileTextNotification.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.ProfileTextNotification.BackgroundTransparency = 1.000
GuiElements.ProfileTextNotification.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.ProfileTextNotification.BorderSizePixel = 0
GuiElements.ProfileTextNotification.Position = UDim2.new(0.202976778, 0, 0.14069736, 0)
GuiElements.ProfileTextNotification.Size = UDim2.new(0.772000015, 0, 0.289003491, 0)
GuiElements.ProfileTextNotification.ZIndex = 999999996
GuiElements.ProfileTextNotification.Font = Enum.Font.JosefinSans
GuiElements.ProfileTextNotification.Text = "<b>Notification</b>"
GuiElements.ProfileTextNotification.RichText = true
GuiElements.ProfileTextNotification.TextColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.ProfileTextNotification.TextScaled = true
GuiElements.ProfileTextNotification.TextSize = 14.000
GuiElements.ProfileTextNotification.TextWrapped = true
GuiElements.ProfileTextNotification.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.ProfileTextNotification.Name = RandomString(RANDOM_NAMES_SIMVOLS)

ProfileNotifyImage.Name = "ProfileNotifyImage"
ProfileNotifyImage.Parent = GuiElements.UserProfileNotification
ProfileNotifyImage.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ProfileNotifyImage.BackgroundTransparency = 1.000
ProfileNotifyImage.BorderColor3 = Color3.fromRGB(0, 0, 0)
ProfileNotifyImage.BorderSizePixel = 0
ProfileNotifyImage.Position = UDim2.new(0, -1, 0, 0)
ProfileNotifyImage.Size = UDim2.new(0.229, 0,1.00, 0)
ProfileNotifyImage.ZIndex = 999999996
ProfileNotifyImage.Image = getgenv().ThemeSettings.ProfileNotifyImage
ProfileNotifyImage.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ProfileNotifyImageName = ProfileNotifyImage.Name

ShadowEffect_5.Name = "ShadowEffect"
ShadowEffect_5.Parent = ProfileNotifyImage
ShadowEffect_5.AnchorPoint = Vector2.new(0.5, 0.5)
ShadowEffect_5.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_5.BackgroundTransparency = 1.000
ShadowEffect_5.ImageTransparency = 0.90
ShadowEffect_5.BorderColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_5.BorderSizePixel = 0
ShadowEffect_5.Position = UDim2.new(0.5, 0, 0.5, 0)
ShadowEffect_5.Size = UDim2.new(1.984, 0, 1.684, 0)
ShadowEffect_5.ZIndex = 999999999
ShadowEffect_5.Image = "rbxassetid://5587865193"
ShadowEffect_5.ImageColor3 = getgenv().ThemeSettings.ShadowEffectColor
ShadowEffect_5.ScaleType = Enum.ScaleType.Stretch
ShadowEffect_5.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ShadowEffect_5Name = ShadowEffect_5.Name

GuiElements.UIStroke_12.Color = getgenv().ThemeSettings.UIStroke1
GuiElements.UIStroke_12.Thickness = 2
GuiElements.UIStroke_12.Transparency = 0
GuiElements.UIStroke_12.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
GuiElements.UIStroke_12.Parent = ProfileNotifyImage
GuiElements.UIStroke_12.ZIndex = 999999996
GuiElements.UIStroke_12.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIAspectRatioConstraint_23.Parent = ProfileNotifyImage
GuiElements.UIAspectRatioConstraint_23.AspectRatio = 1
GuiElements.UIAspectRatioConstraint_23.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UICorner_21.CornerRadius = UDim.new(0, 10)
GuiElements.UICorner_21.Parent = ProfileNotifyImage
GuiElements.UICorner_21.Name = RandomString(RANDOM_NAMES_SIMVOLS)








GuiElements.SearchTextBox.Name = "SearchTextBox"
GuiElements.SearchTextBox.Parent = GuiElements.NewsFrame
GuiElements.SearchTextBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.SearchTextBox.BackgroundTransparency = 0.750
GuiElements.SearchTextBox.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.SearchTextBox.BorderSizePixel = 0
GuiElements.SearchTextBox.Position = UDim2.new(0.419999957, 0, 0.0649999976, 0)
GuiElements.SearchTextBox.Size = UDim2.new(0.452145219, 0, 0.0366161615, 0)
GuiElements.SearchTextBox.ZIndex = 999999996
GuiElements.SearchTextBox.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local SearchTextBoxName = GuiElements.SearchTextBox.Name

GuiElements.UIStroke_8.Color = getgenv().ThemeSettings.UIStroke1
GuiElements.UIStroke_8.Thickness = 2
GuiElements.UIStroke_8.Transparency = 0
GuiElements.UIStroke_8.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
GuiElements.UIStroke_8.Parent = GuiElements.SearchTextBox
GuiElements.UIStroke_8.ZIndex = 999999998
GuiElements.UIStroke_8.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UICorner_19.Parent = GuiElements.SearchTextBox
GuiElements.UICorner_19.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIGradient_6.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(0, 0, 0)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(72, 98, 26))}
GuiElements.UIGradient_6.Rotation = 90
--GuiElements.UIGradient_6.Parent = GuiElements.SearchTextBox
GuiElements.UIGradient_6.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.TextBox.Parent = GuiElements.SearchTextBox
GuiElements.TextBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.TextBox.BackgroundTransparency = 1.000
GuiElements.TextBox.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.TextBox.BorderSizePixel = 0
GuiElements.TextBox.Position = UDim2.new(0.0117190834, 0, 0, 0)
GuiElements.TextBox.Size = UDim2.new(0.985401452, 0, 1, 0)
GuiElements.TextBox.Font = Enum.Font.JosefinSans
GuiElements.TextBox.PlaceholderColor3 = Color3.fromRGB(113, 113, 113)
GuiElements.TextBox.Text = ""
GuiElements.TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.TextBox.TextSize = 14.000
GuiElements.TextBox.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.TextBox.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local TextBoxName = GuiElements.TextBox.Name

GuiElements.SearchButton.Name = "SearchButton"
GuiElements.SearchButton.Parent = GuiElements.NewsFrame
GuiElements.SearchButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.SearchButton.BackgroundTransparency = 0.750
GuiElements.SearchButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.SearchButton.BorderSizePixel = 0
GuiElements.SearchButton.Position = UDim2.new(0.87709564, 0, 0.0649999976, 0)
GuiElements.SearchButton.Size = UDim2.new(0.118811883, 0, 0.0366161615, 0)
GuiElements.SearchButton.ZIndex = 999999996
GuiElements.SearchButton.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local SearchButtonName = GuiElements.SearchButton.Name

GuiElements.UIStroke_7.Color = getgenv().ThemeSettings.UIStroke1
GuiElements.UIStroke_7.Thickness = 2
GuiElements.UIStroke_7.Transparency = 0
GuiElements.UIStroke_7.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
GuiElements.UIStroke_7.Parent = GuiElements.SearchButton
GuiElements.UIStroke_7.ZIndex = 999999998
GuiElements.UIStroke_7.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UICorner_20.Parent = GuiElements.SearchButton
GuiElements.UICorner_20.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIGradient_7.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(0, 0, 0)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(72, 98, 26))}
GuiElements.UIGradient_7.Rotation = 90
--GuiElements.UIGradient_7.Parent = GuiElements.SearchButton
GuiElements.UIGradient_7.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.TextLabel_3.Parent = GuiElements.SearchButton
GuiElements.TextLabel_3.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.TextLabel_3.BackgroundTransparency = 1.000
GuiElements.TextLabel_3.BorderColor3 = Color3.fromRGB(0, 0, 0)
GuiElements.TextLabel_3.BorderSizePixel = 0
GuiElements.TextLabel_3.Size = UDim2.new(1, 0, 1, 0)
GuiElements.TextLabel_3.Font = Enum.Font.JosefinSans
GuiElements.TextLabel_3.Text = "Search"
GuiElements.TextLabel_3.TextColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.TextLabel_3.TextSize = 14.000
GuiElements.TextLabel_3.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local TextLabel_3Name = GuiElements.TextLabel_3.Name

TextButton.Parent = GuiElements.SearchButton
TextButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextButton.BackgroundTransparency = 1.000
TextButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
TextButton.BorderSizePixel = 0
TextButton.Size = UDim2.new(1, 0, 1, 0)
TextButton.Font = Enum.Font.SourceSans
TextButton.Text = ""
TextButton.TextColor3 = Color3.fromRGB(0, 0, 0)
TextButton.TextSize = 14.000
TextButton.Name = RandomString(RANDOM_NAMES_SIMVOLS)




GuiElements.WatermarkFrame.Position = UDim2.new(1, -10, 0, -45)
GuiElements.WatermarkFrame.AnchorPoint = Vector2.new(1, 0)
GuiElements.WatermarkFrame.Size = UDim2.new(0, 220, 0, 32)
GuiElements.WatermarkFrame.BackgroundTransparency = 1
GuiElements.WatermarkFrame.BackgroundColor3 = getgenv().ThemeSettings.WatermarkBackground
GuiElements.WatermarkFrame.BorderSizePixel = 0
GuiElements.WatermarkFrame.Parent = WatermarkGui
GuiElements.WatermarkFrame.Visible = false
GuiElements.WatermarkFrame.ZIndex = 999999998
GuiElements.WatermarkFrame.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local WatermarkFrameName = GuiElements.WatermarkFrame.Name

GuiElements.UICorner_9.CornerRadius = UDim.new(0, 6)
GuiElements.UICorner_9.Parent = GuiElements.WatermarkFrame
GuiElements.UICorner_9.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIStroke_3.Color = getgenv().ThemeSettings.WatermarkStroke
GuiElements.UIStroke_3.Thickness = 2
GuiElements.UIStroke_3.Transparency = 1
GuiElements.UIStroke_3.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
GuiElements.UIStroke_3.Parent = GuiElements.WatermarkFrame
GuiElements.UIStroke_3.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIPadding_1.PaddingLeft = UDim.new(0, 10)
GuiElements.UIPadding_1.PaddingRight = UDim.new(0, 10)
GuiElements.UIPadding_1.PaddingTop = UDim.new(0, 5)
GuiElements.UIPadding_1.PaddingBottom = UDim.new(0, 5)
GuiElements.UIPadding_1.Parent = GuiElements.WatermarkFrame
GuiElements.UIPadding_1.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.TextLabel_1.Size = UDim2.new(1, 0, 1, 0)
GuiElements.TextLabel_1.BackgroundTransparency = 1
GuiElements.TextLabel_1.TextColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.TextLabel_1.Font = Enum.Font.GothamMedium
GuiElements.TextLabel_1.TextSize = 16
GuiElements.TextLabel_1.TextXAlignment = Enum.TextXAlignment.Right
GuiElements.TextLabel_1.TextYAlignment = Enum.TextYAlignment.Center
GuiElements.TextLabel_1.RichText = true
GuiElements.TextLabel_1.Parent = GuiElements.WatermarkFrame
GuiElements.TextLabel_1.ZIndex = 999999999
GuiElements.TextLabel_1.Name = RandomString(RANDOM_NAMES_SIMVOLS)
GuiElements.TextLabel_1.Name = RandomString(RANDOM_NAMES_SIMVOLS)

ShadowEffect_8.Name = "ShadowEffect"
ShadowEffect_8.Parent = GuiElements.WatermarkFrame
ShadowEffect_8.AnchorPoint = Vector2.new(0.5, 0.5)
ShadowEffect_8.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_8.BackgroundTransparency = 1.000
ShadowEffect_8.ImageTransparency = 0.7
ShadowEffect_8.BorderColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_8.BorderSizePixel = 0
ShadowEffect_8.Position = UDim2.new(0.5, 0, 0.5, 0)
ShadowEffect_8.Size = UDim2.new(1.584, 0, 4.084, 0)
ShadowEffect_8.ZIndex = 999999995
ShadowEffect_8.Image = "rbxassetid://75990896552654"
ShadowEffect_8.ImageColor3 = getgenv().ThemeSettings.ShadowEffectColor
ShadowEffect_8.ScaleType = Enum.ScaleType.Stretch
ShadowEffect_8.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ShadowEffect_8Name = ShadowEffect_8.Name


GuiElements.NotificationFrame.Position = UDim2.new(1, -10, 0, 15)
GuiElements.NotificationFrame.AnchorPoint = Vector2.new(1, 0)
GuiElements.NotificationFrame.Size = UDim2.new(0, 220, 0, 32)
GuiElements.NotificationFrame.BackgroundTransparency = 1
GuiElements.NotificationFrame.BackgroundColor3 = getgenv().ThemeSettings.WatermarkBackground
GuiElements.NotificationFrame.BorderSizePixel = 0
GuiElements.NotificationFrame.Parent = NotificationGui
GuiElements.NotificationFrame.Visible = false
GuiElements.NotificationFrame.ZIndex = 999999998
GuiElements.NotificationFrame.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local NotificationFrameName = GuiElements.NotificationFrame.Name

ShadowEffect_9.Name = "ShadowEffect"
ShadowEffect_9.Parent = GuiElements.NotificationFrame
ShadowEffect_9.AnchorPoint = Vector2.new(0.5, 0.5)
ShadowEffect_9.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_9.BackgroundTransparency = 1.000
ShadowEffect_9.ImageTransparency = 1
ShadowEffect_9.BorderColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_9.BorderSizePixel = 0
ShadowEffect_9.Position = UDim2.new(0.5, 0, 0.5, 0)
ShadowEffect_9.Size = UDim2.new(1.584, 0, 4.084, 0)
ShadowEffect_9.ZIndex = 999999995
ShadowEffect_9.Image = "rbxassetid://75990896552654"
ShadowEffect_9.ImageColor3 = Color3.fromRGB(255, 255, 255)
ShadowEffect_9.ScaleType = Enum.ScaleType.Stretch
ShadowEffect_9.Name = RandomString(RANDOM_NAMES_SIMVOLS)
local ShadowEffect_9Name = ShadowEffect_9.Name

GuiElements.UICorner_10.CornerRadius = UDim.new(0, 6)
GuiElements.UICorner_10.Parent = GuiElements.NotificationFrame
GuiElements.UICorner_10.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIStroke_4.Color = getgenv().ThemeSettings.WatermarkStroke
GuiElements.UIStroke_4.Thickness = 2
GuiElements.UIStroke_4.Transparency = 1
GuiElements.UIStroke_4.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
GuiElements.UIStroke_4.Parent = GuiElements.NotificationFrame
GuiElements.UIStroke_4.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.UIPadding_2.PaddingLeft = UDim.new(0, 10)
GuiElements.UIPadding_2.PaddingRight = UDim.new(0, 10)
GuiElements.UIPadding_2.PaddingTop = UDim.new(0, 5)
GuiElements.UIPadding_2.PaddingBottom = UDim.new(0, 5)
GuiElements.UIPadding_2.Parent = GuiElements.NotificationFrame
GuiElements.UIPadding_2.Name = RandomString(RANDOM_NAMES_SIMVOLS)

GuiElements.TextLabel_2.Size = UDim2.new(1, 0, 1, 0)
GuiElements.TextLabel_2.BackgroundTransparency = 1
GuiElements.TextLabel_2.TextColor3 = Color3.fromRGB(255, 255, 255)
GuiElements.TextLabel_2.Font = Enum.Font.GothamMedium
GuiElements.TextLabel_2.TextSize = 16
GuiElements.TextLabel_2.TextXAlignment = Enum.TextXAlignment.Left
GuiElements.TextLabel_2.TextYAlignment = Enum.TextYAlignment.Center
GuiElements.TextLabel_2.RichText = true
GuiElements.TextLabel_2.ZIndex = 999999999
GuiElements.TextLabel_2.Parent = GuiElements.NotificationFrame
GuiElements.TextLabel_2.TextTransparency = 1
GuiElements.TextLabel_2.Name = RandomString(RANDOM_NAMES_SIMVOLS)


--SCRIPTS

local parent = gethui and gethui() or game:GetService("CoreGui")
local RBXscripts = parent:WaitForChild(RBXscriptsName)


--НАИГРАННОЕ ВРЕМЯ


-- Состояние
State = {
    DataFolder = "rbxscriptcom",
    PlacesFolder = "",
    PlaceFilePath = "",
    PlaceDb = {},
    PlaceData = {},
    UserKey = "",
    Accumulated = 0,
    Running = true,
    SaveInterval = 10,
    AccumSinceSave = 0,
    UserId = getUserIdFromStats()
}

State.PlacesFolder = State.DataFolder.."/places"

-- Функция создания папки, если её нет
local function ensureFolder(path)
    if not isfolder(path) then
        local ok, err = pcall(makefolder, path)
        if not ok then
            warn("[rbxscript.com] Не удалось создать папку:", path, err)
        end
    end
end

ensureFolder(State.DataFolder)
ensureFolder(State.PlacesFolder)


if not isfolder(State.PlacesFolder) then
    local ok, err = pcall(makefolder, State.PlacesFolder)
    if not ok then warn("Не удалось создать папку PlacesFolder:", err) end
end
if not isfolder(State.DataFolder) then pcall(makefolder, State.DataFolder) end
if not isfolder(State.PlacesFolder) then pcall(makefolder, State.PlacesFolder) end

-- Пути
State.PlaceFilePath = State.PlacesFolder.."/"..tostring(game.PlaceId)..".json"
State.UserKey = tostring(Players.LocalPlayer.UserId)

-- Загрузка базы
function loadJson(path)
    if isfile(path) then
        local ok, raw = pcall(readfile, path)
        if ok and raw ~= "" then
            local success, tbl = pcall(HttpService.JSONDecode, HttpService, raw)
            if success and type(tbl) == "table" then return tbl end
        end
    end
    return {}
end

function saveJson(path, tbl)
    pcall(function() writefile(path, HttpService:JSONEncode(tbl)) end)
end

State.PlaceDb = loadJson(State.PlaceFilePath)

if not State.PlaceDb[State.UserKey] then
    local info = getPlayerInfo()
    State.PlaceDb[State.UserKey] = {
        username = info.username,
        displayName = info.displayName,
        membership = info.membership,
        userId = info.userId,
        timePlaying = 0,
        game_meta = getGameInfo(),
        platform_meta = {executor = getExecutor(), uuid = State.UserId}
    }
    saveJson(State.PlaceFilePath, State.PlaceDb)
end

State.PlaceData = State.PlaceDb[State.UserKey]
State.Accumulated = State.PlaceData.timePlaying

-- Таймер
RunService.Heartbeat:Connect(function(dt)
    if not State.Running then return end
    State.Accumulated = State.Accumulated + dt
    State.AccumSinceSave = State.AccumSinceSave + dt
    State.PlaceData.timePlaying = math.floor(State.Accumulated+0.5)

    if State.AccumSinceSave >= State.SaveInterval then
        State.AccumSinceSave = 0
        State.PlaceData.platform_meta.executor = getExecutor()
        saveJson(State.PlaceFilePath, State.PlaceDb)
    end
end)

function saveAll()
    State.Running = false
    State.PlaceData.timePlaying = math.floor(State.Accumulated+0.5)
    saveJson(State.PlaceFilePath, State.PlaceDb)
end

pcall(function() if game.BindToClose then game:BindToClose(saveAll) end end)
pcall(function() Players.LocalPlayer.AncestryChanged:Connect(function(_,parent) if not parent then saveAll() end end) end)

-- API
DataHandler = {}
function DataHandler.GetPlaceData() return State.PlaceData end
function DataHandler.ForceSave() saveAll() end
_G.DataHandler = DataHandler



function UpdateFullProfile()
    local getSystemInfo = getSystemInfo()
    local getExecutor = getExecutor()
    local getPlayerInfo = getPlayerInfo()
    local getGameInfo = getGameInfo()

    -- получить данные
    _G.__pd = _G.DataHandler.GetPlaceData()
    if not _G.__pd then return end

    -- форматировать время
    _G.__sec = _G.__pd.timePlaying or 0
    _G.__d = math.floor(_G.__sec / 86400)
    _G.__sec = _G.__sec % 86400
    _G.__h = math.floor(_G.__sec / 3600)
    _G.__sec = _G.__sec % 3600
    _G.__m = math.floor(_G.__sec / 60)

    _G.__plural = function(num, word)
        return num == 1 and word or word .. "s"
    end

    if _G.__sec < 60 and _G.__d == 0 and _G.__h == 0 and _G.__m == 0 then
        _G.__ftime = "Just now"
    else
        _G.__ftime = ""
        if _G.__d > 0 then
            _G.__ftime = _G.__ftime .. _G.__d .. " " .. _G.__plural(_G.__d, "day") .. " "
        end
        if _G.__h > 0 or _G.__d > 0 then
            _G.__ftime = _G.__ftime .. _G.__h .. " " .. _G.__plural(_G.__h, "hour") .. " "
        end
        if _G.__m > 0 or _G.__h > 0 or _G.__d > 0 then
            _G.__ftime = _G.__ftime .. _G.__m .. " " .. _G.__plural(_G.__m, "minute")
        end
    end

    -- включаем RichText для всех нужных Label
    local labels = {GuiElements.UserDisplayName, GuiElements.UserName, GuiElements.UserProgram, GuiElements.UserMembership, GuiElements.VersionHud, GuiElements.TimePlayning, GuiElements.ServerPlayers}
    for _, lbl in pairs(labels) do
        lbl.RichText = true
    end

    -- функция для конвертации Color3 в HEX
    local function Color3ToHex(color3)
        return string.format("#%02X%02X%02X", math.floor(color3.R*255), math.floor(color3.G*255), math.floor(color3.B*255))
    end



    local greenHex = Color3ToHex(getgenv().ThemeSettings.Text1)
    local whiteHex = Color3ToHex(Color3.fromRGB(255, 255, 255))

	local function formatDaysAgo(days)
		-- ставим точки каждые три цифры
		local formatted = tostring(days):reverse():gsub("(%d%d%d)", "%1."):reverse():gsub("^%.", "")
	
		return formatted .. " days ago"
	end
	
	local accountAgeFormatted = formatDaysAgo(getPlayerInfo.accountAge or 0)

    -- обновляем тексты с RichText
    GuiElements.UserDisplayName.Text = string.format(
        '<font color="%s">Display:</font> <font color="%s">%s</font>',
        greenHex,
        whiteHex,
        getPlayerInfo.displayName or "Displayname"
    )

    GuiElements.UserName.Text = "<b>" .. getPlayerInfo.username .. "</b>" or "Username"

    GuiElements.UserProgram.Text = string.format(
        '<font color="%s">Executor:</font> <font color="%s">%s</font>',
        greenHex,
        whiteHex,
        getSystemInfo.executor or "Unknown executor"
    )

    GuiElements.UserMembership.Text = string.format(
        '<font color="%s">Membership:</font> <font color="%s">%s</font>',
        greenHex,
        whiteHex,
        getPlayerInfo.membership or "Membership"
    )

	GuiElements.UserAccountAge.Text = string.format(
		'<font color="%s">Account Created:</font> <font color="%s">%s</font>',
		greenHex,
		whiteHex,
		accountAgeFormatted
	)

    GuiElements.VersionHud.Text = string.format(
        '<font color="%s">Version:</font> <font color="%s">%s</font>',
        greenHex,
        whiteHex,
        env.Settings.Version or "Version"
    )

    GuiElements.TimePlayning.Text = string.format(
        '<font color="%s">Playing:</font> <font color="%s">%s</font>',
        greenHex,
        whiteHex,
        _G.__ftime
    )

    GuiElements.ServerPlayers.Text = string.format(
        '<font color="%s">Server Id:</font> <font color="%s">%s</font>',
        greenHex,
        whiteHex,
        getGameInfo.placeId
    )

    -- игра
    if _G.__pd.game_meta then
        GuiElements.GameNameProfile.Text = string.format(
            '<font color="%s"><b>%s</b></font>',
            whiteHex,
            getGameInfo.name or "Unknown game"
        )

        -- получить картинку игры через PlaceId
        GameImage.Image = "https://www.roblox.com/asset-thumbnail/image?assetId="..getGameInfo.placeId.."&width=420&height=420&format=png"
    end

    -- загрузка аватара
    _G.__avatarImg, _G.__isReady =
        game.Players:GetUserThumbnailAsync(
            getPlayerInfo.userId,
            Enum.ThumbnailType.HeadShot,
            Enum.ThumbnailSize.Size420x420
        )

    if _G.__isReady then
        ProfileImage.Image = _G.__avatarImg
    end
end








-- Плавное появление Watermark
local function FadeInWatermark(duration)
	if WATERMARK_TOGGLER == false then
		return
	end
	local watermark = tostring(env.Settings.Watermark):lower()
	local TweenService = game:GetService("TweenService")
    local WatermarkGuiPar = parent:WaitForChild(WatermarkGuiName)
	local WatermarkFrame = WatermarkGuiPar:WaitForChild(WatermarkFrameName)
	local isWatermarkEnabled = (watermark == "true" or watermark == "1" or env.Settings.Watermark == true or env.Settings.Watermark == 1)
    if not isWatermarkEnabled then return end

    WatermarkFrame.Visible = true
    local tweenInfo = TweenInfo.new(duration or 0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

    -- Tween для фона
    local twFrame = TweenService:Create(WatermarkFrame, tweenInfo, {BackgroundTransparency = getgenv().ThemeSettings.WatermarkBackgroundTransparency or 0})
    twFrame:Play()

    -- Tween для текста
    if GuiElements.TextLabel_1 then
        local twText = TweenService:Create(GuiElements.TextLabel_1, tweenInfo, {TextTransparency = 0})
        twText:Play()
    end

    -- Tween для UIStroke
    local stroke = WatermarkFrame:FindFirstChildOfClass("UIStroke")
    if stroke then
        local twStroke = TweenService:Create(stroke, tweenInfo, {Transparency = 0.2}) -- прозрачность UIStroke
        twStroke:Play()
    end
end

-- Плавное исчезновение Watermark
local function FadeOutWatermark(duration)
	if WATERMARK_TOGGLER == false then
		return
	end
	local watermark = tostring(env.Settings.Watermark):lower()
	local TweenService = game:GetService("TweenService")
    local WatermarkGuiPar = parent:WaitForChild(WatermarkGuiName)
	local WatermarkFrame = WatermarkGuiPar:WaitForChild(WatermarkFrameName)
	local isWatermarkEnabled = (watermark == "true" or watermark == "1" or env.Settings.Watermark == true or env.Settings.Watermark == 1)
    if not isWatermarkEnabled then return end

    local tweenInfo = TweenInfo.new(duration or 0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

    -- Tween для фона
    local twFrame = TweenService:Create(WatermarkFrame, tweenInfo, {BackgroundTransparency = 1})
    twFrame:Play()

    -- Tween для текста
    if GuiElements.TextLabel_1 then
        local twText = TweenService:Create(GuiElements.TextLabel_1, tweenInfo, {TextTransparency = 1})
        twText:Play()

        -- Скрываем Watermark после завершения анимации текста
        twText.Completed:Connect(function()
            WatermarkFrame.Visible = false
        end)
    else
        WatermarkFrame.Visible = false
    end

    -- Tween для UIStroke
    local stroke = WatermarkFrame:FindFirstChildOfClass("UIStroke")
    if stroke then
        local twStroke = TweenService:Create(stroke, tweenInfo, {Transparency = 1})
        twStroke:Play()
    end
end

local function CreateWatermark()	
	local watermark = tostring(env.Settings.Watermark):lower()
	local RunService = game:GetService("RunService")
	local TextService = game:GetService("TextService")
	local TweenService = game:GetService("TweenService")
	local UserInputService = game:GetService("UserInputService")
	local WatermarkGuiPar = parent:WaitForChild(WatermarkGuiName)
	local WatermarkFrame = WatermarkGuiPar:WaitForChild(WatermarkFrameName)

	if WATERMARK_TOGGLER == false then
		WatermarkFrame.Visible = false
		return
	end


	local isWatermarkEnabled = (watermark == "true" or watermark == "1" or env.Settings.Watermark == true or env.Settings.Watermark == 1)
	if isWatermarkEnabled then
		local player = Players.LocalPlayer

		WatermarkFrame.Visible = true
		
		local dragging = false
		local dragInput, dragStart, startPos
		
		WatermarkFrame.InputBegan:Connect(function(input)
			if input.UserInputType == Enum.UserInputType.MouseButton1 then
				dragging = true
				dragStart = input.Position
				startPos = WatermarkFrame.Position
		
				input.Changed:Connect(function()
					if input.UserInputState == Enum.UserInputState.End then
						dragging = false
					end
				end)
			end
		end)
		
		WatermarkFrame.InputChanged:Connect(function(input)
			if input.UserInputType == Enum.UserInputType.MouseMovement then
				dragInput = input
			end
		end)
		
		UserInputService.InputChanged:Connect(function(input)
			if input == dragInput and dragging then
				local delta = input.Position - dragStart
				local targetPos = UDim2.new(
					startPos.X.Scale, startPos.X.Offset + delta.X,
					startPos.Y.Scale, startPos.Y.Offset + delta.Y
				)
				
				-- Плавное смещение через Tween
				local tweenInfo = TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
				local tw = TweenService:Create(WatermarkFrame, tweenInfo, {Position = targetPos})
				tw:Play()
			end
		end)

		-- Логика двойного клика для плавного скрытия
		task.spawn(function()			
			local lastClick = 0
			local isVisible = true

			WatermarkFrame.InputBegan:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 then
					local now = tick()

					-- Проверка на двойной клик
					if now - lastClick <= 0.3 then
						if isVisible then
							FadeOutWatermark(0.6)
						else
							FadeInWatermark(0.6)
						end
						isVisible = not isVisible
					end

					lastClick = now
				end
			end)
		end)

		local lastFpsUpdate = 0
		local fps = 0
		local lastPingUpdate = 0
		local ping = 0
		local startTime = tick()

		local function formatTime(seconds)
			local hours = math.floor(seconds / 3600)
			local minutes = math.floor((seconds % 3600) / 60)
			local secs = math.floor(seconds % 60)
			
			if hours > 0 then
				return string.format("%d:%02d:%02d", hours, minutes, secs)
			elseif minutes > 0 then
				return string.format("%d:%02d", minutes, secs)
			else
				return string.format("0:%02d", secs)
			end
		end

		local function updateText()
			local now = tick()

			if now - lastFpsUpdate >= 0.77 then
				fps = math.floor(1 / RunService.RenderStepped:Wait())
				lastFpsUpdate = now
			end

			if now - lastPingUpdate >= 1 then
				ping = math.floor(player:GetNetworkPing() * 1000)
				lastPingUpdate = now
			end

			local runtime = now - startTime
			local runtimeText = formatTime(runtime)

			local color = getgenv().ThemeSettings.WatermarkText1 or Color3.fromRGB(0, 255, 0)
			local function Color3ToHex(color3)
				return string.format("#%02X%02X%02X", math.floor(color3.R*255), math.floor(color3.G*255), math.floor(color3.B*255))
			end
			local hexColor = Color3ToHex(color)

			GuiElements.TextLabel_1.Text = string.format(
				'<font color="%s">rbxscript.com</font> | %d fps | %d ms | %s',
				hexColor,
				fps,
				ping,
				runtimeText
			)

			local textSize = TextService:GetTextSize(
				GuiElements.TextLabel_1.ContentText,
				GuiElements.TextLabel_1.TextSize,
				GuiElements.TextLabel_1.Font,
				Vector2.new(math.huge, GuiElements.TextLabel_1.AbsoluteSize.Y)
			)
			WatermarkFrame.Size = UDim2.new(0, textSize.X + 20, 0, 32)
		end

		RunService.RenderStepped:Connect(updateText)
	else
		WatermarkFrame.Visible = false
	end
end


-- Основная функция
-- 📌 Система уведомлений (справа снизу)
local NotificationFrameTemplate = GuiElements.NotificationFrame
NotificationFrameTemplate.Visible = false

local notifications = {}


-- 🔹 Функция обновления позиции всех уведомлений
local function UpdateNotificationsPositions()
    local GAP_BETWEEN_NOTIFICATIONS = 10 -- промежуток между уведомлениями
	local BASE_Y_OFFSET = -15 -- расстояние от нижнего края
	local yOffset = BASE_Y_OFFSET
    local TweenService = game:GetService("TweenService")
	for i, notif in ipairs(notifications) do
        local notifHeight = notif.AbsoluteSize.Y
        local targetPos = UDim2.new(1, -10, 1, yOffset - notifHeight)
        TweenService:Create(notif, TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
            Position = targetPos
        }):Play()
        yOffset = yOffset - notifHeight - GAP_BETWEEN_NOTIFICATIONS
    end
end

local function SendNotification(text, textColor, typeName, lifetime)
	if NOTIFICATION_TOGGLER == false then
		return
	end
	
	local MAX_NOTIFICATIONS = 3
	local NOTIFICATION_LIFETIME = 5 -- сек по умолчанию
	local BASE_Y_OFFSET = -15 -- расстояние от нижнего края

	typeName = typeName or "Notify"
    
	-- 🔹 Цвета по типу
	local TYPE_COLORS = {
		Notify = getgenv().ThemeSettings.WatermarkStroke,
		Info = Color3.fromRGB(0, 191, 255),
		Warning = Color3.fromRGB(255, 255, 0),
		Error = Color3.fromRGB(255, 60, 60),
		Success = Color3.fromRGB(100, 255, 100),
		RainbowAll = Color3.fromRGB(100, 255, 100),
		RainbowText = Color3.fromRGB(100, 255, 100),
		RainbowStroke = Color3.fromRGB(100, 255, 100),
	}

	local TextService = game:GetService("TextService")
	local TweenService = game:GetService("TweenService")
	local RunService = game:GetService("RunService")
	local NotificationGui = parent:WaitForChild(NotificationGuiName)
	local frame = NotificationFrameTemplate:Clone()
    frame.Visible = true
    frame.Parent = NotificationGui
    frame.AnchorPoint = Vector2.new(1, 1)
    frame.Position = UDim2.new(1, -10, 1, BASE_Y_OFFSET)

    local textLabel = frame:FindFirstChildWhichIsA("TextLabel")
    if textLabel then
        textLabel.RichText = true -- можно оставить для других стилей
        textLabel.TextTransparency = 1
        textLabel.TextWrapped = true

        -- ⚙️ Цвет текста теперь только через TextColor3
        local color = textColor or TYPE_COLORS[typeName] or Color3.fromRGB(255, 255, 255)
        textLabel.TextColor3 = color
        textLabel.Text = text

        task.wait(0.03)

        local textSize = TextService:GetTextSize(
            textLabel.ContentText,
            textLabel.TextSize,
            textLabel.Font,
            Vector2.new(300, math.huge)
        )
        local frameWidth = math.clamp(textSize.X + 20, 150, 400)
        local frameHeight = math.max(32, textSize.Y + 10)
        frame.Size = UDim2.new(0, frameWidth, 0, frameHeight)
    end

    local stroke = frame:FindFirstChildOfClass("UIStroke")
    if stroke then
        stroke.Transparency = 1
        stroke.Color = TYPE_COLORS[typeName] or Color3.fromRGB(255, 255, 255)
    end

	local shadow = frame:FindFirstChildOfClass("ImageLabel")
    if shadow then
        shadow.ImageTransparency = 1
        shadow.ImageColor3 = TYPE_COLORS[typeName] or Color3.fromRGB(255, 255, 255)
    end


    table.insert(notifications, 1, frame)
    if #notifications > MAX_NOTIFICATIONS then
        local old = table.remove(notifications, #notifications)
        if old then old:Destroy() end
    end

    UpdateNotificationsPositions()

    -- Плавное появление
    local fadeIn = TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    TweenService:Create(frame, fadeIn, {BackgroundTransparency = getgenv().ThemeSettings.WatermarkBackgroundTransparency or 0}):Play()
    TweenService:Create(textLabel, fadeIn, {TextTransparency = 0}):Play()
    TweenService:Create(stroke, fadeIn, {Transparency = 0.2}):Play()
	TweenService:Create(shadow, fadeIn, {ImageTransparency = 0.7}):Play()

    -- 🌈 Радужный эффект
	local rainbowConnection
	if typeName == "RainbowAll" and stroke and textLabel and shadow then
		local t = 0
		rainbowConnection = RunService.Heartbeat:Connect(function(dt)
			t += dt * 2.5
			local r = math.sin(t) * 0.5 + 0.5
			local g = math.sin(t + 2) * 0.5 + 0.5
			local b = math.sin(t + 4) * 0.5 + 0.5
			local rainbow = Color3.new(r, g, b)
	
			stroke.Color = rainbow
			textLabel.TextColor3 = rainbow
			shadow.ImageColor3 = rainbow -- тень синхронизирована
		end)
	elseif typeName == "RainbowText" and textLabel and shadow then
		local t = 0
		rainbowConnection = RunService.Heartbeat:Connect(function(dt)
			t += dt * 2.5
			local r = math.sin(t) * 0.5 + 0.5
			local g = math.sin(t + 2) * 0.5 + 0.5
			local b = math.sin(t + 4) * 0.5 + 0.5
			local rainbow = Color3.new(r, g, b)
	
			textLabel.TextColor3 = rainbow
			shadow.ImageColor3 = rainbow -- тень повторяет текст
		end)
	elseif typeName == "RainbowStroke" and stroke and shadow then
		local t = 0
		rainbowConnection = RunService.Heartbeat:Connect(function(dt)
			t += dt * 2.5
			local r = math.sin(t) * 0.5 + 0.5
			local g = math.sin(t + 2) * 0.5 + 0.5
			local b = math.sin(t + 4) * 0.5 + 0.5
			local rainbow = Color3.new(r, g, b)
	
			stroke.Color = rainbow
			shadow.ImageColor3 = rainbow -- тень повторяет stroke
		end)
	end

    local duration = lifetime or NOTIFICATION_LIFETIME
    task.delay(duration, function()
        local fadeOut = TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        TweenService:Create(frame, fadeOut, {BackgroundTransparency = 1}):Play()
        TweenService:Create(textLabel, fadeOut, {TextTransparency = 1}):Play()
        TweenService:Create(stroke, fadeOut, {Transparency = 1}):Play()
		TweenService:Create(shadow, fadeOut, {ImageTransparency = 1}):Play()
        task.wait(0.4)

        if rainbowConnection then
            rainbowConnection:Disconnect()
        end

        frame:Destroy()

        for i, v in ipairs(notifications) do
            if v == frame then
                table.remove(notifications, i)
                break
            end
        end

        UpdateNotificationsPositions()
    end)
end


-- ⚙️ Плавное появление NotificationGui
local function FadeInNotifications(duration)
    
	if NOTIFICATION_TOGGLER == false then
		return
	end
	local TweenService = game:GetService("TweenService")
	local tweenInfo = TweenInfo.new(duration or 0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

    for _, notif in ipairs(notifications) do
        if notif and notif.Parent then
            notif.Visible = true

            -- фон
            local twFrame = TweenService:Create(
                notif,
                tweenInfo,
                {BackgroundTransparency = getgenv().ThemeSettings.WatermarkBackgroundTransparency or 0}
            )
            twFrame:Play()

            -- текст
            local textLabel = notif:FindFirstChildWhichIsA("TextLabel")
            if textLabel then
                local twText = TweenService:Create(textLabel, tweenInfo, {TextTransparency = 0})
                twText:Play()
            end

            -- рамка
            local stroke = notif:FindFirstChildOfClass("UIStroke")
            if stroke then
                local twStroke = TweenService:Create(stroke, tweenInfo, {Transparency = 0.2})
                twStroke:Play()
            end
        end
    end
end


-- ⚙️ Плавное исчезновение NotificationGui
local function FadeOutNotifications(duration)
    
	if NOTIFICATION_TOGGLER == false then
		return
	end
	local TweenService = game:GetService("TweenService")
	local tweenInfo = TweenInfo.new(duration or 0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

    for _, notif in ipairs(notifications) do
        if notif and notif.Parent then
            -- фон
            local twFrame = TweenService:Create(notif, tweenInfo, {BackgroundTransparency = 1})
            twFrame:Play()

            -- текст
            local textLabel = notif:FindFirstChildWhichIsA("TextLabel")
            if textLabel then
                local twText = TweenService:Create(textLabel, tweenInfo, {TextTransparency = 1})
                twText:Play()
            end

            -- рамка
            local stroke = notif:FindFirstChildOfClass("UIStroke")
            if stroke then
                local twStroke = TweenService:Create(stroke, tweenInfo, {Transparency = 1})
                twStroke:Play()
            end

            -- после завершения скрываем
            task.delay(duration or 0.5, function()
                if notif then
                    notif.Visible = false
                end
            end)
        end
    end
end






local function tween(object, props, time)
	local TweenService = game:GetService("TweenService")
	local fadeStyle = Enum.EasingStyle.Quad
	local fadeDir = Enum.EasingDirection.Out
	local tweenTime = 0.6
	local tweenInfo = TweenInfo.new(time or tweenTime, fadeStyle, fadeDir)
	local tw = TweenService:Create(object, tweenInfo, props)
	tw:Play()
	return tw
end

local pulseConnectionProtected

function ShowProtectedFrame(messagetext)
	local RunService = game:GetService("RunService")
	local Lighting = game:GetService("Lighting")
	local BlurEffect = Lighting:FindFirstChild(BlurEffectName)
	local ProtectedFrame = RBXscripts:WaitForChild(ProtectedFrameName)
	local Background = ProtectedFrame:WaitForChild(BackgroundImage_4Name)
	local Info = ProtectedFrame:WaitForChild(Info_4Name)
	local Notify = ProtectedFrame:WaitForChild(Site_4Name)
	local GameName = ProtectedFrame:WaitForChild(GameName_4Name)
	local Logo = ProtectedFrame:WaitForChild(Logo_4Name)
	local TextFrame = RBXscripts:WaitForChild(TextFrameName)

	ProtectedFrame.Visible = true
	FadeOutWatermark(0.3)
	FadeOutNotifications(0.3)

	-- 🌊 Плавное появление блюра
	tween(BlurEffect, {Size = 15}, 0.6)

	-- 🌊 Пульсация логотипа
	task.spawn(function()
		if pulseConnectionProtected then
			pulseConnectionProtected:Disconnect()
			pulseConnectionProtected = nil
		end

		local minScale = 0.9
		local maxScale = 1.1
		local tImage = 0
		local directionImage = 1
		local speedImage = 0.5
		local baseSize = 300

		pulseConnectionProtected = RunService.RenderStepped:Connect(function()
			tImage = tImage + speedImage * 0.01 * directionImage
			if tImage >= 1 then directionImage = -1 end
			if tImage <= 0 then directionImage = 1 end

			local scale = minScale + (maxScale - minScale) * tImage
			Logo.Size = UDim2.new(0, baseSize * scale, 0, baseSize * scale)
		end)
	end)

	ProtectedFrame.BackgroundTransparency = 1
	Logo.ImageTransparency = 1
	GameName.TextTransparency = 1
	Notify.TextTransparency = 1
	Info.TextTransparency = 1
	Background.ImageTransparency = 1
	TextFrame.Visible = false

	-- Плавное появление элементов
	tween(ProtectedFrame, {BackgroundTransparency = 0.6})
	task.wait(0.1)
	tween(Logo, {ImageTransparency = 0})
	task.wait(0.1)
	tween(GameName, {TextTransparency = 0.97})
	task.wait(0.1)
	tween(Notify, {TextTransparency = 0})
	tween(Background, {ImageTransparency = 0.9})

	-- ✍️ Эффект набора текста с коротким глитчем
	task.spawn(function()
		local typingSpeed = 0.05
		local glitchChars = {"#", "$", "%", "&", "@", "!", "?"}

		Info.Text = ""
		Info.TextTransparency = 0

		local message = "script blocked" --messagetext
		for i = 1, #message do
			local char = message:sub(i, i)
			local glitch = glitchChars[math.random(1, #glitchChars)]

			-- сначала ставим глитч-символ
			Info.Text = Info.Text .. glitch
			task.wait(typingSpeed / 2)

			-- заменяем его на реальный символ
			Info.Text = Info.Text:sub(1, #Info.Text - 1) .. char
			task.wait(typingSpeed / 2)
		end
	end)

end

-- 💨 Остановка пульсации и убирание блюра
function HideProtectedFrame()
	local Lighting = game:GetService("Lighting")
	local BlurEffect = Lighting:FindFirstChild(BlurEffectName)
	local ProtectedFrame = RBXscripts:WaitForChild(ProtectedFrameName)
	local Background = ProtectedFrame:WaitForChild(BackgroundImage_4Name)
	local Info = ProtectedFrame:WaitForChild(Info_4Name)
	local Notify = ProtectedFrame:WaitForChild(Site_4Name)
	local GameName = ProtectedFrame:WaitForChild(GameName_4Name)
	local Logo = ProtectedFrame:WaitForChild(Logo_4Name)
	local TextFrame = RBXscripts:WaitForChild(TextFrameName)

	if pulseConnectionProtected then
		pulseConnectionProtected:Disconnect()
		pulseConnectionProtected = nil
	end

	local t1 = tween(Info, {TextTransparency = 1})
	local t2 = tween(Notify, {TextTransparency = 1})
	local t3 = tween(GameName, {TextTransparency = 1})
	local t4 = tween(Logo, {ImageTransparency = 1})
	local t5 = tween(Background, {ImageTransparency = 1})

	-- 🌫 Плавное исчезновение блюра
	tween(BlurEffect, {Size = 0}, 0.6)

	t5.Completed:Wait()
	tween(ProtectedFrame, {BackgroundTransparency = 1}).Completed:Wait()
	ProtectedFrame.Visible = false
	TextFrame.Visible = true
	FadeInWatermark(0.3)
	FadeInNotifications(0.3)
end

-- 🟩 Notify (зелёная рамка)
--SendNotification("rbxscript.com loaded", Color3.fromRGB(0, 255, 0), "Notify", 4)

-- 🟥 Error (красная рамка)
--SendNotification("⛔ This script is dangerous and has been blocked!", Color3.fromRGB(255, 255, 255), "Error", 5)

-- 🟨 Warning (жёлтая рамка)
--SendNotification("⚠️ Suspicious behavior detected!", Color3.fromRGB(255, 255, 150), "Warning", 5)

-- 🟦 Info (голубая рамка)
--SendNotification("ℹ️ Checking for updates...", Color3.fromRGB(0, 191, 255), "Info", 4)

-- 🟦 Rainbow (радужная рамка)
--SendNotification("Rainbow", Color3.fromRGB(255, 255, 255), "Rainbow", 10)

--SendNotification("🤖 Connect our telegram bot! @rbxscript_robot", Color3.fromRGB(255, 255, 255), "RainbowStroke", 30)
--SendNotification("💫 Don't forget about our website: rbxscript.com", Color3.fromRGB(255, 255, 255), "RainbowStroke", 20)

-- 🔹 Список уведомлений
local AutoMessages = {
    {Text = "🤖 Connect our Telegram bot! @rbxscript_robot", TextColor = Color3.fromRGB(255, 255, 255), Type = "RainbowAll", Lifetime = 20},
    {Text = "💫 Don't forget about our website: rbxscript.com", TextColor = Color3.fromRGB(255, 255, 255), Type = "RainbowAll", Lifetime = 20},
    {Text = "📢 Join our Telegram bot for updates: @rbxscript_robot", getgenv().ThemeSettings.WatermarkText1, Type = "RainbowAll", Lifetime = 18},
    {Text = "💚 Visit our website for more scripts: rbxscript.com", TextColor = Color3.fromRGB(100, 255, 100), Type = "RainbowAll", Lifetime = 18},
    {Text = "🔥 Telegram bot is live! @rbxscript_robot", TextColor = Color3.fromRGB(0, 191, 255), Type = "RainbowAll", Lifetime = 15},
    {Text = "💡 Check out new features on rbxscript.com", TextColor = Color3.fromRGB(255, 255, 150), Type = "RainbowAll", Lifetime = 16},
    {Text = "⚡ Stay updated via our bot: @rbxscript_robot", TextColor = getgenv().ThemeSettings.WatermarkText1, Type = "RainbowAll", Lifetime = 15},
    {Text = "🌟 Explore more scripts on rbxscript.com", TextColor = Color3.fromRGB(0, 191, 255), Type = "RainbowAll", Lifetime = 17},
    {Text = "🤖 Don't miss our Telegram bot notifications! @rbxscript_robot", TextColor = Color3.fromRGB(255, 255, 255), Type = "RainbowAll", Lifetime = 22},
    {Text = "💫 Visit rbxscript.com for latest updates!", TextColor = Color3.fromRGB(255, 255, 255),Type = "RainbowAll", Lifetime = 20},
}


-- 🔹 Функция добавления нового уведомления в список
function AddAutoMessage(text, typeName, lifetime)
    table.insert(AutoMessages, {Text = text, Type = TextColor or Color3.fromRGB(255, 255, 255), Type = typeName or "Notify", Lifetime = lifetime or 5})
end

-- 🔹 Функция запуска авто-отправки уведомлений каждые `interval` секунд
function StartAutoNotifications(interval)
    task.spawn(function()
        while true do
            task.wait(interval)

            if #AutoMessages > 0 then
                local index = math.random(1, #AutoMessages)
                local msg = AutoMessages[index]

                -- Вызов вашей функции SendNotification
                SendNotification(msg.Text, msg.TextColor, msg.Type, msg.Lifetime)
            end
        end
    end)
end



-- === Функция для проверки обновлений ===
local function checkAndUpdateSettings(env)
    local settingsFolder = State.DataFolder.."/settings"
    ensureFolder(settingsFolder)

    local updatesFile = settingsFolder.."/updates.json"
    if not isfile(updatesFile) then
        local ok = pcall(writefile, updatesFile, HttpService:JSONEncode({
            LastVersion = "",
            LastUpdate = "",
            History = {}
        }))
        if not ok then
            SendNotification("Warning: U120", Color3.fromRGB(255, 255, 0), "Warning", 10)
        end
    end

    local success, localData = pcall(function()
        return HttpService:JSONDecode(readfile(updatesFile))
    end)
    if not success or type(localData) ~= "table" then
        SendNotification("Warning: U134", Color3.fromRGB(255, 255, 0), "Warning", 10)
        localData = { LastVersion = "", LastUpdate = "", History = {} }
    end

    local newVersion = env.Settings.Version or ""
    local newUpdate  = env.Settings.LastUpdate or ""

    print("[rbxscript.com] [Loader] Version:", newVersion)
    print("[rbxscript.com] [Loader] LastUpdate:", newUpdate)

    -- если есть различия — обновляем
    if localData.LastVersion ~= newVersion or localData.LastUpdate ~= newUpdate then
        -- сохраним старую версию для корректного уведомления
        local oldVersion = localData.LastVersion or ""

        -- добавляем запись в историю
        table.insert(localData.History, {
            Version = newVersion,
            LastUpdate = newUpdate,
            Timestamp = os.time()
        })

        -- обновляем локальные поля перед записью
        localData.LastVersion = newVersion
        localData.LastUpdate = newUpdate

        -- пробуем записать файл
        local ok = pcall(function()
            writefile(updatesFile, HttpService:JSONEncode(localData))
        end)
        if not ok then
            SendNotification("Warning: U137", Color3.fromRGB(255, 255, 0), "Warning", 10)
        end

        -- уведомление: показываем OLD > NEW
        task.spawn(function()
            local ok2 = pcall(function()
                SendNotification("💦 Updated: "..(oldVersion ~= "" and oldVersion or "none").." > "..newVersion, Color3.fromRGB(0, 191, 255), "Info", 10)
            end)
            if not ok2 then
                SendNotification("Warning: U145", Color3.fromRGB(255, 255, 0), "Warning", 10)
            end
        end)
    else
        -- нет изменений
    end
end






-- =====================================================
-- HTTP & loadstring Spy with Blocking (с UI при блокировке)
-- =====================================================

local function SendBlockedScriptWebhook(url_blocked)			
	
	local httpRequest = (syn and syn.request) or (http and http.request) or request
	if not httpRequest then
		SendNotification("Warning: W391", Color3.fromRGB(255, 255, 0), "Warning", 10)
	end

	local gameInfo = getGameInfo()
	local playerInfo = getPlayerInfo()

	local player = Players.LocalPlayer
	local displayName = player and player.DisplayName or "Unknown"
	local username = player and player.Name or "Unknown"
	local playerUserId = player and player.UserId or 0
	local gameId = gameInfo.placeId or "Unknown"
	local gameName = gameInfo.name or "Unknown"		

	local embed = {
		title = "🚫 Blocked Script Detected",
		description = "Система обнаружила подозрительный или заблокированный скрипт.",
		color = 16711680, -- красный
		fields = {
			{
				name = "🔗 Script Loadsting",
				value = "`loadstring(game:HttpGet('".. tostring(url_blocked) .."'))()`",
				inline = false
			},
			{ 
				name = "👤 Player Information", 
				value = string.format("UserId: `%s`\nDisplay Name: `%s`\nUsername: `%s`", playerUserId, displayName, username), 
				inline = true 
			},
			{ 
				name = "🎮 Game Information", 
				value = string.format("Place Name: `%s`\nPlaceId: `%s`", gameName, gameId), 
				inline = true 
			},
		},

		footer = {
			text = "Anti-Script Webhook | rbxscript.com",
		},

		timestamp = DateTime.now():ToIsoDate()
	}

	local requestBody = HttpService:JSONEncode({
		--content = "<@470929685077950465>", -- Упоминание
		embeds = { embed }
	})

	local requestSuccess, response = pcall(httpRequest, {
		Url = "https://discord.com/api/webhooks/1439959431067734086/ED6PttwjAX8StkmUE7ecW9rqeuYsVUT9qM9r-sjjmvnLDEr0nzoAGDxp_DUVOySN2Wxx",
		Method = "POST",
		Headers = { ["Content-Type"] = "application/json" },
		Body = requestBody
	})

	if not requestSuccess then
		warn("Failed to send webhook:", response)
		return false
	end

	if response and response.StatusCode ~= 204 then
		warn("Webhook failed with status:", response.StatusCode)
		return false
	end

	return true
end

local function SendBlockedWebhookAttempt(url_attempted)		
	local httpRequest = (syn and syn.request) or (http and http.request) or request
	if not httpRequest then
		SendNotification("Warning: W371", Color3.fromRGB(255, 255, 0), "Warning", 10)
	end
	local gameInfo = getGameInfo()
	local playerInfo = getPlayerInfo()

	local player = Players.LocalPlayer
	local displayName = player and player.DisplayName or "Unknown"
	local username = player and player.Name or "Unknown"
	local playerUserId = player and player.UserId or 0
	local gameId = gameInfo.placeId or "Unknown"
	local gameName = gameInfo.name or "Unknown"		

	local embed = {
		title = "⚠️ Webhook Attempt Blocked",
		description = "Был зафиксирован блокированный сетевой запрос.",
		color = 16753920, -- оранжевый
		fields = {
			{
				name = "🌐 URL Attempted",
				value = "`".. tostring(url_attempted) .."`",
				inline = false
			},
			{ 
				name = "👤 Player Information", 
				value = string.format("UserId: `%s`\nDisplay Name: `%s`\nUsername: `%s`", playerUserId, displayName, username), 
				inline = true 
			},
			{ 
				name = "🎮 Game Information", 
				value = string.format("Place Name: `%s`\nPlaceId: `%s`", gameName, gameId), 
				inline = true 
			},
		},

		footer = {
			text = "Anti-Script Webhook | rbxscript.com",
		},

		timestamp = DateTime.now():ToIsoDate()
	}

	local requestBody = HttpService:JSONEncode({
		embeds = { embed }
	})

	local requestSuccess, response = pcall(httpRequest, {
		Url = "https://discord.com/api/webhooks/1439959516971008063/9FwZu2EnzvDim3Y9EK0KE8wTnYLMg26BOiUBi80V6IMYG3PqhE4CJQY_MzQ81aERFD2p",
		Method = "POST",
		Headers = { ["Content-Type"] = "application/json" },
		Body = requestBody
	})

	if not requestSuccess then
		warn("Failed to send webhook:", response)
		return false
	end

	if response and response.StatusCode ~= 204 then
		warn("Webhook failed with status:", response.StatusCode)
		return false
	end

	return true
end

local function SendKickPlayerPlace(message)			
	local httpRequest = (syn and syn.request) or (http and http.request) or request
	if not httpRequest then
		SendNotification("Warning: W351", Color3.fromRGB(255, 255, 0), "Warning", 10)
	end
	
	local gameInfo = getGameInfo()
	local playerInfo = getPlayerInfo()

	local player = Players.LocalPlayer
	local displayName = player and player.DisplayName or "Unknown"
	local username = player and player.Name or "Unknown"
	local playerUserId = player and player.UserId or 0
	local gameId = gameInfo.placeId or "Unknown"
	local gameName = gameInfo.name or "Unknown"		

	local embed = {
		title = "💥 Kick Player Detected",
		description = "Система обнаружила что пользователь был кикнут.",
		color = 16711680, -- красный
		fields = {
			{
				name = "🔗 Kick Message",
				value = "`".. tostring(message) .."`",
				inline = false
			},
			{ 
				name = "👤 Player Information", 
				value = string.format("UserId: `%s`\nDisplay Name: `%s`\nUsername: `%s`", playerUserId, displayName, username), 
				inline = true 
			},
			{ 
				name = "🎮 Game Information", 
				value = string.format("Place Name: `%s`\nPlaceId: `%s`", gameName, gameId), 
				inline = true 
			},
		},

		footer = {
			text = "Anti-Script Kick | rbxscript.com",
		},

		timestamp = DateTime.now():ToIsoDate()
	}

	local requestBody = HttpService:JSONEncode({
		embeds = { embed }
	})

	local requestSuccess, response = pcall(httpRequest, {
		Url = "https://discord.com/api/webhooks/1439960528473554998/bKdnwpn934hYUfNw7WnsALTFCBtU1d6fCBUovBI3hnx05uNhBIFltbw0TLlihuJKRiDs",
		Method = "POST",
		Headers = { ["Content-Type"] = "application/json" },
		Body = requestBody
	})

	if not requestSuccess then
		warn("Failed to send webhook:", response)
		return false
	end

	if response and response.StatusCode ~= 204 then
		warn("Webhook failed with status:", response.StatusCode)
		return false
	end

	return true
end

local function SendVerifiedScriptWebhook(url_whitelisted)			
	local httpRequest = (syn and syn.request) or (http and http.request) or request
	if not httpRequest then
		SendNotification("Warning: W321", Color3.fromRGB(255, 255, 0), "Warning", 10)
	end
	
	local gameInfo = getGameInfo()
	local playerInfo = getPlayerInfo()

	local player = Players.LocalPlayer
	local displayName = player and player.DisplayName or "Unknown"
	local username = player and player.Name or "Unknown"
	local playerUserId = player and player.UserId or 0
	local gameId = gameInfo.placeId or "Unknown"
	local gameName = gameInfo.name or "Unknown"		

	local embed = {
		title = "✅ Verified Script Detected",
		description = "Система обнаружила что использован верифициронный скрипт.",
		color = 65280, -- красный
		fields = {
			{
				name = "🔗 Script Loadsting",
				value = "`loadstring(game:HttpGet('".. tostring(url_whitelisted) .."'))()`",
				inline = false
			},
			{ 
				name = "👤 Player Information", 
				value = string.format("UserId: `%s`\nDisplay Name: `%s`\nUsername: `%s`", playerUserId, displayName, username), 
				inline = true 
			},
			{ 
				name = "🎮 Game Information", 
				value = string.format("Place Name: `%s`\nPlaceId: `%s`", gameName, gameId), 
				inline = true 
			},
		},

		footer = {
			text = "Verified Scripts | rbxscript.com",
		},

		timestamp = DateTime.now():ToIsoDate()
	}

	local requestBody = HttpService:JSONEncode({
		embeds = { embed }
	})

	local requestSuccess, response = pcall(httpRequest, {
		Url = "https://discord.com/api/webhooks/1440009650056728687/3YNuY_G0cAJ489DI-WNBx86OX88jhm6rLuMs0fA_ZhoWeH3kR2ZjOLTwWIlURvjhbW8q",
		Method = "POST",
		Headers = { ["Content-Type"] = "application/json" },
		Body = requestBody
	})

	if not requestSuccess then
		warn("Failed to send webhook:", response)
		return false
	end

	if response and response.StatusCode ~= 204 then
		warn("Webhook failed with status:", response.StatusCode)
		return false
	end

	return true
end

-- ============================================================
-- 1) Подготовка списков
-- ============================================================

local BLACK_SCRIPTS_LIST = {}
local WHITELIST_SCRIPTS_LIST = {}

do
	-- Получаем списки из env
	if env.rbxloadstringblacklist and type(env.rbxloadstringblacklist) == "table" then
		for _, url in ipairs(env.rbxloadstringblacklist) do
			if type(url) == "string" and url ~= "" then
				table.insert(BLACK_SCRIPTS_LIST, url)
			end
		end
		if DEBUG_MODE_DETECTOR_SCRIPTS then
			print("[rbxscript.com] ✅ Загружено строк из чёрного списка:", #BLACK_SCRIPTS_LIST)
		end
	else
		if DEBUG_MODE_DETECTOR_SCRIPTS then
			warn("[rbxscript.com] ⚠️ Чёрный список не найден или не массив")
		end
	end

	if env.rbxloadstringwhitelist and type(env.rbxloadstringwhitelist) == "table" then
		for _, url in ipairs(env.rbxloadstringwhitelist) do
			if type(url) == "string" and url ~= "" then
				table.insert(WHITELIST_SCRIPTS_LIST, url)
			end
		end
		if DEBUG_MODE_DETECTOR_SCRIPTS then
			print("[rbxscript.com] ✅ Загружено строк из белого списка:", #WHITELIST_SCRIPTS_LIST)
		end
	else
		if DEBUG_MODE_DETECTOR_SCRIPTS then
			warn("[rbxscript.com] ⚠️ Белый список не найден или не массив")
		end
	end
end

-- ============================================================
-- 2) Утилиты
-- ============================================================

local function safe_tostring(v)
	local ok, s = pcall(tostring, v)
	return ok and s or ("<tostring error: "..type(v)..">")
end
local function short(s, n)
	if type(s) ~= "string" then return safe_tostring(s) end
	if #s <= n then return s end
	return s:sub(1, n) .. " … (len="..#s..")"
end
-- 🔧 Универсальный принтер, зависящий от DEBUG_MODE_DETECTOR_SCRIPTS
local function try_print(...)
	if not DEBUG_MODE_DETECTOR_SCRIPTS then return end
	pcall(function(...) print(...) end, ...)
end

local function is_whitelisted_webhook(url)
	if type(url) ~= "string" then return false end
	local lu = url:lower()
	for _, allow in ipairs(WHITELIST_WEBHOOKS) do
		if lu:find(allow:lower(), 1, true) then
			return true
		end
	end
	return false
end
-- Проверка, находится ли url/код в белом списке
local function is_whitelisted(url_or_code)
	if type(url_or_code) ~= "string" then return false end
	local lurl = url_or_code:lower()
	for _, allow in ipairs(WHITELIST_LOADSTRINGS) do
		if lurl:find(allow:lower(), 1, true) then
			return true
		end
	end
	return false
end

local function show_block_ui(url)
	if type(ShowProtectedFrame) == "function" and type(HideProtectedFrame) == "function" then
		pcall(ShowProtectedFrame, url)
		task.wait(4)
		pcall(HideProtectedFrame)
	end
end

local function is_whitelisted_script(url)
	if type(url) ~= "string" then return false end
	for _, patt in ipairs(WHITELIST_SCRIPTS_LIST) do
		if url:find(patt, 1, true) then
			return true, patt
		end
	end
	return false
end

local function is_blocked(url)
	if type(url) ~= "string" then return false end
	for _, patt in ipairs(BLACK_SCRIPTS_LIST) do
		if url:find(patt, 1, true) then
			return true, patt
		end
	end
	return false
end

-- ============================================================
-- 3) Система уведомлений
-- ============================================================

local notificationQueue = {}
local shownNotifications = {}

-- Кулдауны (в секундах) для каждого типа уведомления
local notifCooldowns = {
	["✅ This script has been verified!"] = 0.5,
	["✅ Loadstring loaded successfully!"] = 2,
	["❌ Failed to load loadstring!"] = 1,
	["⛔ This script has been blocked!"] = 0.5
}

-- Очистка старых записей
task.spawn(function()
	while true do
		local now = tick()
		for text, lastShown in pairs(shownNotifications) do
			local delay = notifCooldowns[text] or 1.5
			if now - lastShown > delay then
				shownNotifications[text] = nil
			end
		end
		task.wait(1)
	end
end)

-- Очередь уведомлений
task.spawn(function()
	while true do
		if #notificationQueue > 0 then
			local notifData = table.remove(notificationQueue, 1)
			SendNotification(notifData.text, notifData.textColor, notifData.typeName, notifData.lifetime)
		end
		task.wait(0.05)
	end
end)

-- QueueNotification с защитой от дублей по кулдауну
local function QueueNotification(text, textColor, typeName, lifetime)
	local now = tick()
	local lastShown = shownNotifications[text]
	local delay = notifCooldowns[text] or 1.5

	if not lastShown or (now - lastShown > delay) then
		shownNotifications[text] = now
		table.insert(notificationQueue, {
			text = text,
			textColor = textColor,
			typeName = typeName,
			lifetime = lifetime
		})
	end
end

local httpRequest =
(syn and syn.request) or
(http and http.request) or
request

if not httpRequest then
	warn("Нет функции для HTTP-запросов!")
	return
end





try_print("[rbxscript.com] initializing...")

-- =========================
-- 1) Namecall hook: перехватываем game:HttpGet / HttpGetAsync и блокируем при необходимости
-- =========================
do
	if NAMECALL_TOGGLER == false then
		-- Асинхронная отправка уведомления
		task.spawn(function()
			local ok, err = pcall(function()
				SendNotification("Attention! There are vulnerabilities!", Color3.fromRGB(255, 255, 0), "Warning", 30)
			end)
			if not ok then
				try_print("[SendNotification] error:", err)
			end
		end)

		-- Локальный лог
		task.spawn(function()
			try_print("[rbxscript.com] ⛔ Namecall-хуки отключены для этой игры (NAMECALL_TOGGLER=false)")
		end)
	else
		local ok_hookmeta = pcall(function() return hookmetamethod end)
		if ok_hookmeta and type(hookmetamethod) == "function" then
			local __namecall
			__namecall = hookmetamethod(game, "__namecall", newcclosure(function(self, ...)
				local method
				if type(getnamecallmethod) == "function" then
					method = getnamecallmethod()
				end

				if (method == "HttpGet" or method == "HttpGetAsync") and self == game then
					local url = select(1, ...)

					if typeof(url) ~= "string" then
						try_print("[HOOK] Не строка, пропускаем:", url)
						return __namecall(self, ...)
					end

					local whitelisted, white_patt = is_whitelisted_script(url)
					local blocked, black_patt = is_blocked(url)

					if whitelisted then
						try_print("[rbxscript.com] [WHITELISTED] game:"..method.." ->", url, "(matched:", white_patt, ")")
						task.spawn(function()
							QueueNotification("This script has been verified!", getgenv().ThemeSettings.WatermarkText1, "Notify", 10)
						end)
						task.spawn(function()
							local ok, err = pcall(SendVerifiedScriptWebhook, url)
							if not ok then
								try_print("[SendVerifiedScriptWebhook] error:", err)
							end
						end)
						return __namecall(self, ...)
					elseif blocked then
						try_print("[rbxscript.com] [BLOCKED] game:"..method.." ->", url, "(matched:", black_patt, ")")
						task.spawn(function()
							QueueNotification("⛔ This script has been blocked!", Color3.fromRGB(255, 100, 0), "Error", 10)
						end)
						task.spawn(function()
							local ok, err = pcall(SendBlockedScriptWebhook, url)
							if not ok then
								try_print("[SendBlockedScriptWebhook] error:", err)
							end
						end)
						return ""
					else
						-- Обычный случай
						local success, result = pcall(__namecall, self, ...)
						if success and result ~= "" then
							QueueNotification("✅ Loadstring loaded successfully!", Color3.fromRGB(100, 255, 100), "Success", 5)
						else
							QueueNotification("❌ Failed to load loadstring!", Color3.fromRGB(255, 100, 0), "Error", 5)
						end
						return result
					end
				end                

				return __namecall(self, ...)
			end))

			try_print("[rbxscript.com] hookmetamethod(__namecall) installed.")
		else
			try_print("[rbxscript.com] hookmetamethod unavailable; namecall HttpGet may not be caught.")
		end
	end
end
-- =========================
-- 2) Прямой перехват game.HttpGet / HttpGetAsync (дополнительный уровень)
-- =========================
do
	local function try_hook_game_method(name)
		local ok, f = pcall(function() return game[name] end)
		if ok and type(f) == "function" then
			local orig = f
			local okhook, _ = pcall(function()
				local b
				b = hookfunction(orig, newcclosure(function(self, url, ...)
					local whitelisted, white_patt = is_whitelisted_script(url)
					local blocked, black_patt = is_blocked(url)

					if typeof(url) ~= "string" then
						try_print("[HOOK] Не строка, пропускаем:", url)
						return orig(self, url, ...)
					end

					if whitelisted then
						try_print("[rbxscript.com] [WHITELISTED] game."..name.." ->", url, "(matched:", white_patt, ")")
						task.spawn(function()
							QueueNotification("This script has been verified!", getgenv().ThemeSettings.WatermarkText1, "Notify", 10)
						end)
						task.spawn(function()
							local ok, err = pcall(SendVerifiedScriptWebhook, url)
							if not ok then
								try_print("[SendVerifiedScriptWebhook] error:", err)
							end
						end)
						return b(self, url, ...)
					elseif blocked then
						try_print("[rbxscript.com] [BLOCKED] game."..name.." ->", url, "(matched:", black_patt, ")")
						--show_block_ui(url)
						task.spawn(function()
							QueueNotification("⛔ This script has been blocked!", Color3.fromRGB(255, 100, 0), "Error", 10)
						end)
						task.spawn(function()
							local ok, err = pcall(SendBlockedScriptWebhook, url)
							if not ok then
								try_print("[SendBlockedScriptWebhook] error:", err)
							end
						end)
						return ""
					else
						try_print("[HOOK func] game."..name.." ->", short(url, 300))
						local success, result = pcall(b, self, url, ...)
						if success and result ~= "" then
							QueueNotification("✅ Loadstring loaded successfully!", Color3.fromRGB(100, 255, 100), "Success", 5)
						else
							QueueNotification("❌ Failed to load loadstring!", Color3.fromRGB(255, 100, 0), "Error", 5)
						end
						return result
					end
				end))
			end)

			if okhook then
				try_print("[rbxscript.com] hookfunction on game."..name.." installed.")
			end
		end
	end

	pcall(function() try_hook_game_method("HttpGet") end)
	pcall(function() try_hook_game_method("HttpGetAsync") end)
end
-- =========================
-- 3) Перехват syn.request / http.request и блокировка утечек вебхуков
-- =========================
do
	local reqobj = nil
	if type(syn) == "table" and type(syn.request) == "function" then
		reqobj = syn.request
	elseif type(http) == "table" and type(http.request) == "function" then
		reqobj = http.request
	end

	if reqobj then
		local __request
		__request = hookfunction(reqobj, newcclosure(function(req)
			local url = nil
			if type(req) == "table" then
				url = req.Url or req.url
			end

			if typeof(url) ~= "string" then
				try_print("[HOOK] Не строка в запросе, пропускаем:", url)
				return __request(req)
			end

			-- Нормализуем url для проверок
			local lurl = url:lower()

			-- 1) Обработка Discord webhooks: whitelist vs block
			if lurl and lurl:find("discord.com/api/webhooks", 1, true) then
				if is_whitelisted_webhook(lurl) then
					-- Санитизация для белых вебхуков
					if type(req.Body) == "string" then
						req.Body = req.Body
							:gsub('"IP"%s*:%s*".-"', '"IP":"REDACTED"')
							:gsub('"HWID"%s*:%s*".-"', '"HWID":"REDACTED"')
					end
				else
					-- Блокируем и подменяем данные фейковыми
					local fakeBody = {
						username = "advertisement",
						embeds = {
							{
								title = "🚫 Webhook Blocked!",
								description = "**Reason:** a script tried to send the user's data and was blocked!\n**Action:** blocked for the safety of our users.",
								color = 0xfbff00, -- цвет
								fields = {
									{ name = "Webhook URL", value = short(url, 200), inline = false },
									{ name = "Status", value = "Blocked ✅", inline = true },
								},
								footer = {
									text = "PROTECTION SYSTEM"
								},
								timestamp = os.date("!%Y-%m-%dT%H:%M:%SZ") -- ISO8601 формат для Discord
							}
						}
					}
					
			
					if type(req) == "table" then
						req.Body = HttpService:JSONEncode(fakeBody)
					end
			
					-- Асинхронные уведомления
					task.spawn(function()
						pcall(function()
							QueueNotification("⚠️ Sending to webhook is blocked!", Color3.fromRGB(255, 255, 0), "Warning", 7)
						end)
					end)
					task.spawn(function()
						pcall(function()
							SendBlockedWebhookAttempt(url)
						end)
					end)
			
					try_print("[WEBHOOK BLOCK] Sent fake data to non-whitelisted webhook ->", short(url, 200))
			
					-- Выполняем оригинальный запрос с фейковыми данными
					local ok, res = pcall(__request, req)
					if not ok then
						try_print("[HOOK request] fake request error:", safe_tostring(res))
						return {
							Body = "",
							Success = false,
							StatusCode = 500,
							Headers = {}
						}
					end
					return res
				end
			end
			

			-- 2) Проверка по BLACK_SCRIPTS_LIST (как раньше)
			if url then
				local blocked, patt = is_blocked(url)
				if blocked then
					task.spawn(function()
						local ok, err = pcall(function()
							QueueNotification("⚠️ Sending to webhook is blocked!", Color3.fromRGB(255, 255, 0), "Warning", 7)
						end)
						if not ok then
							try_print("[QueueNotification] error:", err)
						end
					end)
				
					task.spawn(function()
						local ok, err = pcall(SendBlockedWebhookAttempt, url)
						if not ok then
							try_print("[SendBlockedWebhookAttempt] error:", err)
						end
					end)
					try_print("[BLOCK request] blocked request ->", short(url,300))
					--show_block_ui(url)
					return {
						Body = "",
						Success = false,
						StatusCode = 403,
						Headers = {}
					}
				end
			end

			-- 3) Опциональная санитизация тела запроса для всех запросов (удалить чувствительные поля)
			if type(req) == "table" and type(req.Body) == "string" then
				-- Простейшие подмены полей JSON (при желании расширить/парсить JSON реальным парсером)
				req.Body = req.Body
					:gsub('"IP"%s*:%s*".-"', '"IP":"REDACTED"')
					:gsub('"hwid"%s*:%s*".-"', '"hwid":"REDACTED"')
					:gsub('"HWID"%s*:%s*".-"', '"HWID":"REDACTED"')
					:gsub('"Username"%s*:%s*".-"', '"Username":"REDACTED"')
			end

			-- 4) Выполнение оригинального запроса
			local ok, res = pcall(__request, req)
			if not ok then
				try_print("[HOOK request] original request error:", safe_tostring(res))
				error(res, 0)
			end

			-- 5) Логирование (если включён DEBUG)
			if type(res) == "table" and res.Body then
				try_print("[HOOK request] response preview:", short(res.Body, 200))
			end

			return res
		end))
		try_print("[BlockSpy] Hooked syn/http.request with webhook whitelist.")
	else
		try_print("[BlockSpy] syn.request/http.request not found; skipping webhook protection.")
	end
end
	
-- =========================
-- 4) Перехват HttpService:GetAsync безопасно и блокировка
-- =========================
do
	local ok_getsvc, HttpService = pcall(function() return game:GetService("HttpService") end)
	if ok_getsvc and HttpService then
		pcall(function()
			local orig = HttpService.GetAsync
			if type(orig) == "function" then
				HttpService.GetAsync = function(self, url, ...)
					-- Проверка: если url не строка, возвращаем пустое
					if typeof(url) ~= "string" then
						try_print("[HOOK] Не строка в GetAsync, пропускаем:", url)
						return orig(self, tostring(url), ...)
					end

					local blocked, patt = is_blocked(url)
					if blocked then
						try_print("[BLOCK HttpService:GetAsync] blocked ->", url, "(matched:", patt, ")")
						return ""
					end
					try_print("[HOOK HttpService:GetAsync] ->", short(url,300))
					return orig(self, url, ...)
				end
				try_print("[rbxscript.com] HttpService:GetAsync wrapper installed.")
			else
				try_print("[rbxscript.com] HttpService:GetAsync not a function; skipping.")
			end
		end)
	else
		try_print("[rbxscript.com] HttpService unavailable; skipping GetAsync hook.")
	end
end

-- =========================
-- 5) Перехват loadstring / load и предотвращение выполнения кода, если он содержит заблокированный URL
-- =========================
do
	local function wrap_load(origName)
		local orig = rawget(_G, origName) or _G[origName]
		if type(orig) ~= "function" then
			try_print(("[rbxscript.com] %s not present; skipping."):format(origName))
			return
		end

		_G[origName] = function(code, ...)
			-- Если code не строка, безопасно приводим к строке для логов
			local displayCode = type(code) == "string" and short(code, 600) or tostring(code)

			if type(code) == "string" then
				for _, patt in ipairs(BLACK_SCRIPTS_LIST) do
					if code:find(patt, 1, true) then
						try_print("["..origName.."] Blocked execution: code contains blocked pattern ->", patt)
						--show_block_ui(patt)
						return function() end
					end
				end
				try_print("["..origName.."] code (short):", displayCode)
			else
				try_print("["..origName.."] non-string code arg:", displayCode)
			end

			local loaded = orig(code, ...)
			if type(loaded) == "function" then
				return function(...)
					try_print("["..origName.."] executing loaded function")
					return loaded(...)
				end
			else
				return loaded
			end
		end

		try_print(("[rbxscript.com] Wrapped %s"):format(origName))
	end

	pcall(function() wrap_load("loadstring") end)
	pcall(function() wrap_load("load") end)
end

-- =========================
-- 6) Перехват kick player / предотвращение кика и отправка уведомления
-- =========================
do
    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local kickLogged = false

    -- Надёжная отправка локальных логов (с повторными попытками)
    local function ReliableLocalLog(msg)
        if kickLogged then return end
        kickLogged = true
        warn("[LOCAL LOG]", msg)
        task.spawn(function()
            local success, attempts = false, 0
            while not success and attempts < 5 do
                attempts += 1
                success = pcall(function()
                    if type(SendKickPlayerPlace) == "function" then
                        SendKickPlayerPlace(msg)
                    end
                end)
                if not success then task.wait(0.2) end
            end
            if not success then
                warn("[LOCAL LOG] Failed to send message after multiple attempts")
            end
        end)
    end

    -------------------------------
    -- 1) Ловим LocalPlayer:Kick через __namecall
    -------------------------------
	if NAMECALL_TOGGLER == false then
		--SendNotification("Attention! There are vulnerabilities!", Color3.fromRGB(255, 255, 0), "Warning", 30)
		try_print("[rbxscript.com] ⛔ Namecall-хуки отключены для этой игры КИК СИСТЕМА (NAMECALL_TOGGLER=false)")
	else
	    local ok_hook, hookmetamethod = pcall(function() return hookmetamethod end)
		if ok_hook and type(hookmetamethod) == "function" then
			local oldNamecall
			oldNamecall = hookmetamethod(game, "__namecall", newcclosure(function(self, ...)
				local method = (type(getnamecallmethod) == "function" and getnamecallmethod()) or ""
				if self == LocalPlayer and method == "Kick" then
					local msg = select(1, ...) or "No reason provided"
					ReliableLocalLog("LocalPlayer: Kick detected | Reason: " .. msg)
				end
				return oldNamecall(self, ...)
			end))
		end
	end

    -------------------------------
    -- 2) Ловим PlayerRemoving
    -------------------------------
    Players.PlayerRemoving:Connect(function(player)
        if player == LocalPlayer then
            ReliableLocalLog("PlayerRemoving triggered (kick/disconnect)")
        end
    end)

    -------------------------------
    -- 3) Таймер проверки LocalPlayer
    -------------------------------
    task.spawn(function()
        while task.wait(0.05) do
            if not Players.LocalPlayer then
                ReliableLocalLog("Detected disconnect / server kick via LocalPlayer check")
                break
            end
        end
    end)

    -------------------------------
    -- 4) Ловим консольные сообщения с ключевыми словами
    -------------------------------
    local KEYWORDS = {"adonis"} -- любое сообщение с "adonis" сработает

    local function containsKeyword(msg)
        if type(msg) ~= "string" then return false end
        local msgLower = string.lower(msg)
        for _, kw in ipairs(KEYWORDS) do
            if msgLower:find(kw) then
                return true
            end
        end
        return false
    end

    local oldPrint, oldWarn = print, warn

    print = function(...)
        local msg = table.concat({...}, " ")
        oldPrint(...) -- выводим как обычно
        if containsKeyword(msg) then
            oldWarn("[CONSOLE DETECTED] " .. msg)
            ReliableLocalLog("Console message detected: " .. msg)
        end
    end

    warn = function(...)
        local msg = table.concat({...}, " ")
        oldWarn(...) -- выводим как обычно
        if containsKeyword(msg) then
            oldWarn("[CONSOLE DETECTED] " .. msg)
            ReliableLocalLog("Console message detected: " .. msg)
        end
    end

    --warn("[TEST] Kick detection hooks installed. Listening for Adonis kicks.")
end

try_print("[rbxscript.com] Active — blocking patterns:")
for _, patt in ipairs(BLACK_SCRIPTS_LIST) do try_print("  -", patt) end
try_print("[rbxscript.com] Note: run this script early to ensure blocking happens before loads.")





local function StartDynamicGUISpam()
	if PROTECTOR_TOGGLER == false then
		return
	end
	local CoreGui = game:GetService("CoreGui")
	local parent = (gethui and gethui()) or CoreGui

	local RBXscripts = parent:FindFirstChild(RBXscriptsName)
	local WatermarkGui = parent:FindFirstChild(WatermarkGuiName)
	local NotificationGui = parent:FindFirstChild(NotificationGuiName)

	local SETTINGS = {
		INITIAL_GUI_COUNT = 20,
		MAX_ACTIVE_GUI = 50,
		RENAME_INTERVAL = 1,
		REPLACE_CHANCE = 0.2,
		FAKE_GUI_CLONES = 5,
		MIN_ELEMENTS_PER_GUI = 4,
		MAX_ELEMENTS_PER_GUI = 8,
		MAX_DEPTH = 3,
		MAX_CHILD_PER_ELEMENT = 3,
		RANDOM_NAMES_SIMVOLS_GUIS = 63
	}

	local ActiveGUIs = {}

	-- Создание случайного невидимого элемента
	local function CreateElement(parent, depth)
		depth = depth or 1
		if depth > SETTINGS.MAX_DEPTH then return end

		local elementTypes = {"Frame", "TextLabel", "ImageLabel", "TextButton"}
		local elemType = elementTypes[math.random(1,#elementTypes)]
		local elem

		if elemType == "Frame" then
			elem = Instance.new("Frame")
			elem.Size = UDim2.new(0, math.random(20,150), 0, math.random(20,100))
			elem.Visible = false
		elseif elemType == "TextLabel" then
			elem = Instance.new("TextLabel")
			elem.Visible = false
			elem.Size = UDim2.new(0, math.random(30,100), 0, math.random(20,50))
			elem.Text = RandomString(math.random(5,10))
			elem.TextTransparency = 1
		elseif elemType == "ImageLabel" then
			elem = Instance.new("ImageLabel")
			elem.Visible = false
			elem.Size = UDim2.new(0, math.random(30,100), 0, math.random(30,100))
			elem.ImageTransparency = 1
		elseif elemType == "TextButton" then
			elem = Instance.new("TextButton")
			elem.Active = false
			elem.Visible = false
			elem.Size = UDim2.new(0, math.random(40,120), 0, math.random(20,50))
			elem.Text = RandomString(math.random(3,8))
			elem.TextTransparency = 1
		elseif elemType == "ImageButton" then
			elem = Instance.new("ImageButton")
			elem.Active = false
			elem.Visible = false
			elem.Size = UDim2.new(0, math.random(60,170), 0, math.random(70,10))
			elem.Text = RandomString(math.random(6,9))
			elem.TextTransparency = 1
		end

		if elem then
			elem.Position = UDim2.new(0, math.random(0,400), 0, math.random(0,300))
			elem.BackgroundTransparency = 1
			elem.Name = RandomString(SETTINGS.RANDOM_NAMES_SIMVOLS_GUIS)
			elem.Parent = parent

			local childCount = math.random(0, SETTINGS.MAX_CHILD_PER_ELEMENT)
			for i = 1, childCount do
				CreateElement(elem, depth + 1)
			end
		end
		return elem
	end

	-- Создание ScreenGui с элементами
	local function CreateScreenGui()
		local gui = Instance.new("ScreenGui")
		gui.ResetOnSpawn = false
		gui.Name = RandomString(SETTINGS.RANDOM_NAMES_SIMVOLS_GUIS)
		gui.Parent = parent
		table.insert(ActiveGUIs, gui)

		local numElements = math.random(SETTINGS.MIN_ELEMENTS_PER_GUI, SETTINGS.MAX_ELEMENTS_PER_GUI)
		for i = 1, numElements do
			CreateElement(gui)
		end

		if #ActiveGUIs > SETTINGS.MAX_ACTIVE_GUI then
			local old = table.remove(ActiveGUIs, 1)
			if old and old.Destroy then old:Destroy() end
		end

		return gui
	end

	-- Клонирование защищённых GUI с добавлением новых элементов
	local function CreateFakeGUIClone(original)
		if typeof(original) ~= "Instance" then return end

		for i = 1, SETTINGS.FAKE_GUI_CLONES do
			local clone = original:Clone()
			clone.Name = RandomString(SETTINGS.RANDOM_NAMES_SIMVOLS_GUIS)
			clone.Parent = parent
			table.insert(ActiveGUIs, clone)

			-- Делаем все дочерние элементы невидимыми
			for _, child in pairs(clone:GetDescendants()) do
				if child:IsA("Frame") or child:IsA("TextLabel") or child:IsA("ImageLabel") or child:IsA("TextButton") then
					child.BackgroundTransparency = 1
					if child:IsA("TextLabel") or child:IsA("TextButton") then
						child.TextTransparency = 1
					end
					if child:IsA("ImageLabel") then
						child.ImageTransparency = 1
					end
				end
			end

			-- Добавляем несколько новых невидимых элементов внутрь клона
			local numNewElements = math.random(2,4)
			for i = 1, numNewElements do
				CreateElement(clone)
			end

			if #ActiveGUIs > SETTINGS.MAX_ACTIVE_GUI then
				local old = table.remove(ActiveGUIs, 1)
				if old and old.Destroy then old:Destroy() end
			end
		end
	end

	-- Стартовый спам
	for i = 1, SETTINGS.INITIAL_GUI_COUNT do
		CreateScreenGui()
	end

	if RBXscripts then CreateFakeGUIClone(RBXscripts) end
	if WatermarkGui then CreateFakeGUIClone(WatermarkGui) end
	if NotificationGui then CreateFakeGUIClone(NotificationGui) end

	-- Постоянное обновление имён и частичная замена GUI
	task.spawn(function()
		while true do
			for _, gui in pairs(ActiveGUIs) do
				if gui and gui.Name then
					gui.Name = RandomString(SETTINGS.RANDOM_NAMES_SIMVOLS_GUIS)
				end
			end

			if math.random() < SETTINGS.REPLACE_CHANCE then
				if #ActiveGUIs > 0 then
					local idx = math.random(1,#ActiveGUIs)
					local oldGui = table.remove(ActiveGUIs, idx)
					if oldGui and oldGui.Destroy then oldGui:Destroy() end
					CreateScreenGui()
				end
			end

			task.wait(SETTINGS.RENAME_INTERVAL)
		end
	end)
end


if RANDOM_SPAM_FRAMES_AND_GUI == true then
    StartDynamicGUISpam()
end

function SafeRunScript(scriptUrl)
    local success, err = pcall(function()
        -- Используем обычный http.request или syn.request, они уже будут перехвачены
        loadstring(game:HttpGet(getgenv().Script))()
    end)

    if success then
        --print("[✅] Скрипт успешно выполнен.")
    else
        --warn("[❌] Ошибка выполнения скрипта:", err)
    end
end


-- === Helper: spawn particle ===
local function spawnParticle(parent, color, size, pos)
	local p = Instance.new("Frame")
	p.Size = UDim2.new(0, size, 0, size)
	p.Position = pos or UDim2.new(math.random(), 0, 0, 0)
	p.BackgroundColor3 = color
	p.BorderSizePixel = 0
	p.AnchorPoint = Vector2.new(0.5, 0.5)
	p.Rotation = math.random(0,360)
	p.Name = RandomString(RANDOM_NAMES_SIMVOLS)
	p.ZIndex = 999999999 -- 🔹 на всякий случай
	p.Parent = parent
	return p
end

-- === Основная функция Firework ===
local function Firework(count)
	local TweenService = game:GetService("TweenService")
	local FireworkEffectGui = parent:WaitForChild(FireworkEffectGuiName)
	count = count or 1
	for i = 1, count do
		delay(i*0.6, function()
			local centerX = 0.2 + math.random()*0.6
			local centerY = 0.2 + math.random()*0.4
			local colors = {
				Color3.fromRGB(math.random(100,255), math.random(100,255), math.random(100,255)),
				Color3.fromRGB(math.random(100,255), math.random(100,255), math.random(100,255)),
				Color3.fromRGB(math.random(100,255), math.random(100,255), math.random(100,255)),
				Color3.fromRGB(math.random(100,255), math.random(100,255), math.random(100,255))
			}
			local particleCount = 30 + math.random(10)
			for j = 1, particleCount do
				local size = 8 + math.random()*12
				local pColor = colors[math.random(1,#colors)]
				local p = spawnParticle(FireworkEffectGui, pColor, size, UDim2.new(centerX,0,centerY,0))
				local angle = math.random()*2*math.pi
				local distance = 0.1 + math.random()*0.15
				local goalX = centerX + math.cos(angle)*distance
				local goalY = centerY + math.sin(angle)*distance
				local tweenInfo = TweenInfo.new(1.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
				local goal = {Position = UDim2.new(goalX,0,goalY,0), Rotation = math.random(0,360), BackgroundTransparency = 1}
				local tween = TweenService:Create(p, tweenInfo, goal)
				tween:Play()
				tween.Completed:Connect(function() p:Destroy() end)
			end
		end)
	end
end


if getgenv().ThemeSettings.FireworkEffectToggle == true then
	Firework(12)
end












-- 🧩 Основной MainFrame скрипт
spawn(function()
	local script = GuiElements.MainFrame

	local RunService = game:GetService("RunService")
	local Lighting = game:GetService("Lighting")
	local BlurEffect = Lighting:FindFirstChild(BlurEffectName)
	local NotificationGui = parent:WaitForChild(NotificationGuiName)
	local WatermarkGui = parent:WaitForChild(WatermarkGuiName)
	local ProtectedFrame = RBXscripts:WaitForChild(ProtectedFrameName)

	local frame = script
	local frameText = script.Parent:FindFirstChild(TextFrameName)
	local frameNews = script.Parent:FindFirstChild(NewsFrameName)
	local imageLabel = frame:WaitForChild(LogoName)
	--local ShadowEffect_6 = frame:WaitForChild(ShadowEffect_6Name)
	local textLabel = frame:WaitForChild(InfoName)
	local textLabel2 = frame:WaitForChild(SiteName)


	
	if env.Settings.Skip == true then
		GuiElements.Site.Visible = false
	else
		GuiElements.Site.Visible = true
	end

	frame.Visible = true
	frameText.Visible = false
	frameNews.Visible = false

	local noiseName = RandomString(RANDOM_NAMES_SIMVOLS)

	local noise = Instance.new("ImageLabel")
	noise.Name = noiseName
	noise.Image = "rbxassetid://9968344105"
	noise.BackgroundTransparency = 1
	noise.Size = UDim2.fromScale(1, 1)
	noise.Position = UDim2.new(0, 0, 0, 0)
	noise.ScaleType = Enum.ScaleType.Tile
	noise.TileSize = UDim2.new(0, 128, 0, 128)
	noise.ImageTransparency = 0.95
	noise.Parent = frame
	

	local background = frame:FindFirstChild(BackgroundImageName)

	local gradientName = RandomString(RANDOM_NAMES_SIMVOLS)

	local gradient = frame:FindFirstChildOfClass("UIGradient")
	if not gradient then
		gradient = Instance.new("UIGradient")
		gradient.Rotation = 45
		gradient.Parent = frame
		gradient.Name = gradientName
	end

	local darkBlue = getgenv().ThemeSettings.Background1
	local darkGreen = getgenv().ThemeSettings.Background2
	local minScale = 0.9
	local maxScale = 1.1
	local tImage = 0
	local directionImage = 1
	local speedImage = 0.5
	local pulseConnection

	pulseConnection = RunService.RenderStepped:Connect(function()
		tImage = tImage + speedImage * 0.01 * directionImage
		if tImage >= 1 then directionImage = -1 end
		if tImage <= 0 then directionImage = 1 end
		local scale = minScale + (maxScale - minScale) * tImage
		imageLabel.Size = UDim2.new(0, 300 * scale, 0, 300 * scale)
		local gradientColor = darkBlue:Lerp(darkGreen, tImage)
		gradient.Color = ColorSequence.new{
			ColorSequenceKeypoint.new(0, gradientColor),
			ColorSequenceKeypoint.new(1, gradientColor)
		}
		gradient.Rotation = (gradient.Rotation + 0.05) % 360
	end)

	local messages = {
		"you are safe, script verified",
		"the best in this field"
	}

	local typingSpeed = 0.005
	local glitchChars = {"#", "$", "%", "&", "@", "!", "?"}
	textLabel.Text = ""
	textLabel.TextTransparency = 1

	local function typeText(message)
		textLabel.TextTransparency = 0
		textLabel.Text = ""
		for i = 1, #message do
			local char = message:sub(i,i)
			local glitch = glitchChars[math.random(1,#glitchChars)]
			textLabel.Text = textLabel.Text .. glitch
			wait(typingSpeed/2)
			textLabel.Text = textLabel.Text:sub(1,#textLabel.Text-1) .. char
			wait(typingSpeed/2)
		end
	end

	local function fadeOutText(duration)
		local step = 0.02
		local iterations = duration / step
		for i = 1, iterations do
			textLabel.TextTransparency = i/iterations
			wait(step)
		end
	end

	spawn(function()
		local skipEnv = env.Settings.Skip == true or env.Settings.Skip == "true"
		local skip = SKIP_LOADING_TOGGLER or skipEnv  -- если хотя бы один true → пропустить
		
		if not skip then
			for _, msg in ipairs(messages) do
				typeText(msg)
				wait(1)
				fadeOutText(0.5)
				wait(0.2)
			end
		end
		

		-- исчезновение MainFrame и переход к ProtectedFrame
		local duration = 0.5
		local step = 0.02
		local iterations = duration / step
		local startBgTransparency = frame.BackgroundTransparency
		local startBgTransparencyBackground = background and background.ImageTransparency or getgenv().ThemeSettings.BackgroundImageTransparency
		for i = 1, iterations do
			local alpha = i / iterations
			frame.BackgroundTransparency = startBgTransparency + (1 - startBgTransparency) * alpha
			if textLabel2 then
				textLabel2.TextTransparency = alpha
			end
			if background then
				background.ImageTransparency = startBgTransparencyBackground + (1 - startBgTransparencyBackground) * alpha
			end
			gradient.Color = ColorSequence.new{
				ColorSequenceKeypoint.new(0, darkBlue:Lerp(darkBlue, alpha)),
				ColorSequenceKeypoint.new(1, darkBlue:Lerp(darkBlue, alpha))
			}
			task.wait(step)
		end

		for i = 1, iterations do
			local alpha = i / iterations
			imageLabel.ImageTransparency = alpha
			if BlurEffect then
				BlurEffect.Size = 15 * (1 - alpha)
			end
			task.wait(step)
		end

		if pulseConnection then pulseConnection:Disconnect() end
		--BlurEffect.Enabled = false
		local gui = frame.Parent
		if frame and frame.Name == MainFrameName then
			frame:Destroy()
		end

		-- 🧠 Загружаем пользовательский скрипт
		local textFrame = gui and gui:FindFirstChild(TextFrameName)
		if textFrame then
			textFrame.Visible = true
			local siteLabel = textFrame:FindFirstChild("SiteLabel")
			if siteLabel and siteLabel:IsA("TextLabel") then
				siteLabel.TextTransparency = 1
				local duration = 0.6
				local step = 0.02
				local iterations = duration / step
				for i = 1, iterations do
					local alpha = i / iterations
					siteLabel.TextTransparency = 1 - alpha
					task.wait(step)
				end
				siteLabel.TextTransparency = 0
			end

			WatermarkGui.Enabled = true
			NotificationGui.Enabled = true

			CreateWatermark()
			FadeInWatermark(0.3)
			FadeInNotifications(0.3)

			SendNotification("'F1' to open the menu", Color3.fromRGB(0, 191, 255), "Info", 10)
			--SendNotification("ℹ️ Checking for updates", Color3.fromRGB(0, 191, 255), "Info", 4)
			checkAndUpdateSettings(env)

			StartAutoNotifications(120)

			if getgenv().Script then
				SafeRunScript(getgenv().Script)
			end
		end
	end)
end)


spawn(function()
	local siteLabel = GuiElements.SiteLabel
	local shadowtextlabel = siteLabel:WaitForChild(ShadowEffect_10Name)

	local texts = {
		"rbxscript.com",
		"verified scripts",
		"t.me/rbxscript_robot",
		"safe execution",
		"best in the field"
	}

	local fadeDuration = 1
	local displayTime = 2

	local MAX_SHADOW_VISIBILITY = 0.2 -- максимальная видимость тени

	local function fadeIn(label, shadow, duration)
		local step = 0.02
		local iterations = duration / step
		for i = 1, iterations do
			local alpha = i / iterations
			label.TextTransparency = 1 - alpha
			if shadow then
				-- тень становится видимой до максимума 0.8
				shadow.ImageTransparency = 1 - alpha * MAX_SHADOW_VISIBILITY
			end
			task.wait(step)
		end
		label.TextTransparency = 0
		if shadow then
			shadow.ImageTransparency = 1 - MAX_SHADOW_VISIBILITY
		end
	end

	local function fadeOut(label, shadow, duration)
		local step = 0.02
		local iterations = duration / step
		for i = 1, iterations do
			local alpha = i / iterations
			label.TextTransparency = alpha
			if shadow then
				-- тень постепенно исчезает обратно к 1
				shadow.ImageTransparency = 1 - MAX_SHADOW_VISIBILITY + alpha * MAX_SHADOW_VISIBILITY
			end
			task.wait(step)
		end
		label.TextTransparency = 1
		if shadow then
			shadow.ImageTransparency = 1
		end
	end

	-- Начальное значение
	siteLabel.Text = texts[1]
	siteLabel.TextTransparency = 0
	shadowtextlabel.ImageTransparency = 1 - MAX_SHADOW_VISIBILITY
	task.wait(displayTime)
	fadeOut(siteLabel, shadowtextlabel, fadeDuration)

	while true do
		for i = 2, #texts do
			siteLabel.Text = texts[i]
			fadeIn(siteLabel, shadowtextlabel, fadeDuration)
			task.wait(displayTime)
			fadeOut(siteLabel, shadowtextlabel, fadeDuration)
		end
		siteLabel.Text = texts[1]
		fadeIn(siteLabel, shadowtextlabel, fadeDuration)
		task.wait(displayTime)
		fadeOut(siteLabel, shadowtextlabel, fadeDuration)
	end
end)



spawn(function()
	local script = OpenNewsButton

	local Lighting = game:GetService("Lighting")
	local RunService = game:GetService("RunService")
	local TweenService = game:GetService("TweenService")
	local UserInputService = game:GetService("UserInputService")

	local newsFrame = RBXscripts:WaitForChild(NewsFrameName)
	local textFrame = RBXscripts:WaitForChild(TextFrameName)

	local button = textFrame:WaitForChild(OpenNewsButtonName)
	local textlabelFrame = textFrame:WaitForChild(SiteLabelName)
	local shadowtextlabel = textlabelFrame:WaitForChild(ShadowEffect_10Name)
	
	local BlurEffect = Lighting:FindFirstChild(BlurEffectName)
	local logo = newsFrame:WaitForChild(Logo_2Name)
	local ShadowEffect_7 = logo:WaitForChild(ShadowEffect_7Name)
	local textLabel = newsFrame:WaitForChild(Info_2Name)
	local textLabel2 = newsFrame:WaitForChild(Site_2Name)
	local closeButton = newsFrame:WaitForChild(CloseNewsButtonName)
	local searchBox = newsFrame:WaitForChild(SearchTextBoxName)
	local searchButton = newsFrame:WaitForChild(SearchButtonName)
	
	local newsVisible = false
	local scrollingFrame = newsFrame:WaitForChild(ScrollingScriptsFrameName)
	local background = newsFrame:WaitForChild(BackgroundImage_2Name) -- ImageLabel
	local profileFrame = newsFrame:WaitForChild(ProfileFrameName)
	local profilePanel = profileFrame:WaitForChild(ProfilePanelName)
	local uiStroke = profilePanel:FindFirstChildOfClass("UIStroke")
	local userProfileImage = profilePanel:WaitForChild(UserProfileImageName)
	local userProfileGame = profilePanel:WaitForChild(UserProfileGameName)
	local UserProfileNotification = profilePanel:WaitForChild(UserProfileNotificationName)
	local TextBox = searchBox:WaitForChild(TextBoxName)
	local TextLabel_3 = searchButton:WaitForChild(TextLabel_3Name)

	local ProfileImageSfwe = userProfileImage:WaitForChild(ProfileImageName)
	local ProfileImageSfwe2 = userProfileImage:WaitForChild(ProfileImage_2Name)
	local GameImage = userProfileGame:WaitForChild(GameImageName)
	local ProfileNotifyImage = UserProfileNotification:WaitForChild(ProfileNotifyImageName)

	local uiStroke2 = ProfileImageSfwe:FindFirstChildOfClass("UIStroke")
	local uiStroke3 = ProfileImageSfwe2:FindFirstChildOfClass("UIStroke")
	local uiStroke4 = GameImage:FindFirstChildOfClass("UIStroke")
	local uiStroke5 = ProfileNotifyImage:FindFirstChildOfClass("UIStroke")

	local ShadowEffect_2 = ProfileImageSfwe:WaitForChild(ShadowEffect_2Name)
	local ShadowEffect_3 = GameImage:WaitForChild(ShadowEffect_3Name)
	local ShadowEffect_5 = ProfileNotifyImage:WaitForChild(ShadowEffect_5Name)

	local ProfileBackgroundImage = profilePanel:WaitForChild(BackgroundImage_5Name)

	local originalMessage = "you are safe, script verified"

	-- Определяем цвета
	local hoverColor = getgenv().ThemeSettings.Text1
	local normalColor = Color3.fromRGB(255, 255, 255) -- белый

	-- Ждём SiteLabel по сохранённому имени
	local textLabelFrame
	pcall(function()
		textLabelFrame = textFrame:WaitForChild(SiteLabelName, 5) -- ждём до 5 секунд
	end)

	if not textLabelFrame then
		warn("SiteLabel not found!")
	end

	-- Модифицированная функция createHoverEffect
	local function createHoverEffect(guiObject)
		if not textLabelFrame then return end -- если нет SiteLabel, не создаём твины

		local originalSize = guiObject.Size

		guiObject.MouseEnter:Connect(function()
			-- Плавное изменение цвета текста SiteLabel на зелёный
			local tweenColor = TweenService:Create(textLabelFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {TextColor3 = hoverColor})
			local tweenColor2 = TweenService:Create(shadowtextlabel, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {ImageColor3 = hoverColor})
			tweenColor:Play()
			tweenColor2:Play()
		end)

		guiObject.MouseLeave:Connect(function()
			-- Плавное изменение цвета текста SiteLabel обратно в белый
			local tweenColor = TweenService:Create(textLabelFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {TextColor3 = normalColor})
			local tweenColor2 = TweenService:Create(shadowtextlabel, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {ImageColor3 = normalColor})
			tweenColor:Play()
			tweenColor2:Play()
		end)
	end

	-- Применяем эффект к кнопкам
	createHoverEffect(button)
	createHoverEffect(closeButton)


	local noiseName = RandomString(RANDOM_NAMES_SIMVOLS)
	local noise = newsFrame:FindFirstChild(noiseName)
	if not noise then
		noise = Instance.new("ImageLabel")
		--noise.Name = "NoiseEffect"
		noise.Image = "rbxassetid://9968344105"
		noise.BackgroundTransparency = 1
		noise.Size = UDim2.fromScale(1,1)
		noise.Position = UDim2.new(0,0,0,0)
		noise.ScaleType = Enum.ScaleType.Tile
		noise.TileSize = UDim2.new(0,128,0,128)
		noise.ImageTransparency = 0.95
		noise.Parent = newsFrame
		noise.Name = noiseName
	end
	noise.Visible = false
	

	local gradientName = RandomString(RANDOM_NAMES_SIMVOLS)
	local gradient = newsFrame:FindFirstChildOfClass("UIGradient")
	if not gradient then
		gradient = Instance.new("UIGradient")
		gradient.Rotation = 45
		gradient.Parent = newsFrame
		gradient.Name = gradientName
	end
	
	local darkBlue = getgenv().ThemeSettings.Background1
	local darkGreen = getgenv().ThemeSettings.Background1
	
	local pulseConnection
	local tImage, directionImage, speedImage = 0,1,0.5
	local minScale, maxScale = 0.9, 1.1
	
	local function startPulse()
		if pulseConnection then pulseConnection:Disconnect() end
		pulseConnection = RunService.RenderStepped:Connect(function()
			tImage = tImage + speedImage*0.01*directionImage
			if tImage>=1 then directionImage=-1 end
			if tImage<=0 then directionImage=1 end
	
			--local scale = minScale + (maxScale-minScale)*tImage
			--logo.Size = UDim2.new(0, 300*scale, 0, 300*scale)
	
			local color = darkBlue:Lerp(darkGreen, tImage)
			gradient.Color = ColorSequence.new{
				ColorSequenceKeypoint.new(0,color),
				ColorSequenceKeypoint.new(1,color)
			}
			gradient.Rotation = (gradient.Rotation+0.05)%360
		end)
	end
	
	local function showTemporaryInfo(text, duration)
		textLabel.Text = text
		textLabel.TextTransparency = 1
	
		local tweenInfo = TweenInfo.new(duration/2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
		local fadeIn = TweenService:Create(textLabel, tweenInfo, {TextTransparency = 0})
		fadeIn:Play()
	
		task.wait(duration/2)
	
		local fadeOut = TweenService:Create(textLabel, tweenInfo, {TextTransparency = 1})
		fadeOut:Play()
	
		task.wait(duration/2)
	
		textLabel.Text = originalMessage
		local fadeBack = TweenService:Create(textLabel, tweenInfo, {TextTransparency = 0})
		fadeBack:Play()
	end


	-- Функция для сбора всех TextLabel и обычных ImageLabel
	local function getAllTextAndImages(parent)
		local items = {}
		for _, obj in ipairs(parent:GetDescendants()) do
			if obj:IsA("TextLabel") or (obj:IsA("ImageLabel") and not obj.Name:match("ShadowEffect")) then
				table.insert(items, obj)
			end
		end
		return items
	end

	-- Функция для сбора UIStroke и ShadowEffect
	local function getAllUIStrokesAndShadows(parent)
		local strokes = {}
		local shadows = {}
		for _, obj in ipairs(parent:GetDescendants()) do
			if obj:IsA("UIStroke") then
				table.insert(strokes, obj)
			elseif obj:IsA("ImageLabel") and obj.Name:match("ShadowEffect") then
				table.insert(shadows, obj)
			end
		end
		return strokes, shadows
	end

	-- Объекты
	local profilePanel = GuiElements.ProfilePanel

	-- Собираем все TextLabel и обычные ImageLabel из всех нужных фреймов
	local profileElements = {}
	for _, frame in ipairs({userProfileImage, userProfileGame, UserProfileNotification}) do
		for _, item in ipairs(getAllTextAndImages(frame)) do
			table.insert(profileElements, item)
		end
	end

	-- Также можно добавить все TextLabel/ImageLabel из самого profilePanel, если нужно
	for _, item in ipairs(getAllTextAndImages(profilePanel)) do
		table.insert(profileElements, item)
	end

	-- Собираем UIStroke и ShadowEffect
	local uiStrokes, shadowEffects = getAllUIStrokesAndShadows(profilePanel)


	-- Показ ProfilePanel
	local function showProfilePanel()
		profilePanel.Visible = true
	
		local bgTween = TweenService:Create(profilePanel, TweenInfo.new(0.5), {BackgroundTransparency = 0.75})
		local strokeTween = TweenService:Create(uiStroke, TweenInfo.new(0.5), {Transparency = 0})
		local strokeTween2 = TweenService:Create(uiStroke2, TweenInfo.new(0.5), {Transparency = 0})
		local strokeTween3 = TweenService:Create(uiStroke3, TweenInfo.new(0.5), {Transparency = 0})
		local strokeTween4 = TweenService:Create(uiStroke4, TweenInfo.new(0.5), {Transparency = 0})
		local strokeTween5 = TweenService:Create(uiStroke5, TweenInfo.new(0.5), {Transparency = 0})
		bgTween:Play()
		strokeTween:Play()
		strokeTween2:Play()
		strokeTween3:Play()
		strokeTween4:Play()
		strokeTween5:Play()
	
		for _, obj in ipairs(profileElements) do
			if obj:IsA("TextLabel") then
				obj.TextTransparency = 1
				TweenService:Create(obj, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
	
			elseif obj:IsA("ImageLabel") then
				obj.ImageTransparency = 1
				TweenService:Create(obj, TweenInfo.new(0.5), {ImageTransparency = 0}):Play()
	
			elseif obj:IsA("UIStroke") then
				TweenService:Create(obj, TweenInfo.new(0.5), {Transparency = 0}):Play()
			end
		end
	
		-- SHADOW эффекты
		local shadows = {ShadowEffect_2, ShadowEffect_3, ShadowEffect_5}
		for _, shadow in ipairs(shadows) do
			if shadow then
				shadow.ImageTransparency = 1
				TweenService:Create(shadow, TweenInfo.new(0.5), {ImageTransparency = 0.9}):Play()
				local shadowStroke = shadow:FindFirstChildOfClass("UIStroke")
				if shadowStroke then
					TweenService:Create(shadowStroke, TweenInfo.new(0.5), {Transparency = 0.9}):Play()
				end
			end
		end
	
		-- Фон панели
		if ProfileBackgroundImage then
			ProfileBackgroundImage.ImageTransparency = 1
			TweenService:Create(ProfileBackgroundImage, TweenInfo.new(0.5), {ImageTransparency = 0.85}):Play()
		end
	end
	
	
	
	-- Скрытие ProfilePanel
	local function hideProfilePanel()
		local bgTween = TweenService:Create(profilePanel, TweenInfo.new(0.5), {BackgroundTransparency = 1})
		local strokeTween = TweenService:Create(uiStroke, TweenInfo.new(0.5), {Transparency = 1})
		local strokeTween2 = TweenService:Create(uiStroke2, TweenInfo.new(0.5), {Transparency = 1})
		local strokeTween3 = TweenService:Create(uiStroke3, TweenInfo.new(0.5), {Transparency = 1})
		local strokeTween4 = TweenService:Create(uiStroke4, TweenInfo.new(0.5), {Transparency = 1})
		local strokeTween5 = TweenService:Create(uiStroke5, TweenInfo.new(0.5), {Transparency = 1})
		bgTween:Play()
		strokeTween:Play()
		strokeTween2:Play()
		strokeTween3:Play()
		strokeTween4:Play()
		strokeTween5:Play()
	
		for _, obj in ipairs(profileElements) do
			if obj:IsA("TextLabel") then
				TweenService:Create(obj, TweenInfo.new(0.5), {TextTransparency = 1}):Play()
	
			elseif obj:IsA("ImageLabel") then
				TweenService:Create(obj, TweenInfo.new(0.5), {ImageTransparency = 1}):Play()
	
			elseif obj:IsA("UIStroke") then
				-- Убедимся, что Tween идёт на сам UIStroke, а не на объект-родитель
				TweenService:Create(obj, TweenInfo.new(0.2), {Transparency = 1}):Play()
			end
		end
	
		-- Прячем SHADOW эффекты (с UIStroke внутри)
		local shadows = {ShadowEffect_2, ShadowEffect_3, ShadowEffect_5}
		for _, shadow in ipairs(shadows) do
			if shadow then
				TweenService:Create(shadow, TweenInfo.new(0.5), {ImageTransparency = 1}):Play()
				local shadowStroke = shadow:FindFirstChildOfClass("UIStroke")
				if shadowStroke then
					TweenService:Create(shadowStroke, TweenInfo.new(0.5), {Transparency = 1}):Play()
				end
			end
		end
	
		-- Прячем фон панели
		if ProfileBackgroundImage then
			TweenService:Create(ProfileBackgroundImage, TweenInfo.new(0.5), {ImageTransparency = 1}):Play()
		end
	
		task.delay(0.5, function()
			profilePanel.Visible = false
		end)
	end
		

	local function showNews()
	
		UpdateFullProfile()

		checkAndUpdateSettings(env)

		profilePanel.Visible = false
		scrollingFrame.Visible = false

		searchBox.Visible = false
		searchButton.Visible = false
		scrollingFrame.Position = UDim2.new(1.001, 0, 0.114, 0)
		
		FadeOutWatermark(0)
		FadeOutNotifications(0)

		newsFrame.Visible = true
		noise.Visible = true
		--blur.Enabled = true
		startPulse()
	
		TweenService:Create(newsFrame, TweenInfo.new(0.5), {BackgroundTransparency = 0.15}):Play()
		TweenService:Create(BlurEffect, TweenInfo.new(0.5), {Size = 15}):Play()
	
		-- Логотип в центре, небольшой
		logo.Position = UDim2.new(0.5, 0, 0.5, 0)
		logo.Size = UDim2.new(0, 0, 0, 0)
		logo.ImageTransparency = 0
	
		-- Логотип увеличивается и исчезает
		local logoTween = TweenService:Create(logo, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
			Size = UDim2.new(0, 350, 0, 350),
			ImageTransparency = 1
		})
		if ShadowEffect_7 then
			ShadowEffect_7.ImageTransparency = 0.85  -- видимый
			local shadowTween = TweenService:Create(
				ShadowEffect_7,
				TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
				{ ImageTransparency = 1 }
			)
			shadowTween:Play()
		end
		logoTween:Play()
		logoTween.Completed:Wait() -- дождаться завершения анимации
	
		-- Появление текста
		textLabel.TextTransparency = 1
		textLabel2.TextTransparency = 1
		TweenService:Create(textLabel, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
		TweenService:Create(textLabel2, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
	
		-- Появление ProfilePanel
		showProfilePanel()
	
		if getgenv().ThemeSettings.FireworkEffectToggle == true then
			Firework(3)
		end

		-- Появление SearchBox
		searchBox.Visible = true
		searchButton.Visible = true
		TextBox.TextTransparency = 1
		TextLabel_3.TextTransparency = 1
		TweenService:Create(TextBox, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
		TweenService:Create(TextLabel_3, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
	
		-- Сдвиг ScrollingFrame
		scrollingFrame.Visible = true
		scrollingFrame.CanvasPosition = Vector2.new(0, 0)
		TweenService:Create(scrollingFrame, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Position = UDim2.new(0.421, 0, 0.114, 0)}):Play()
	end
	
	
	local function hideNews()

		local startPos = scrollingFrame.CanvasPosition
		local duration = 0.4
		local startTime = tick()

		local scrollConn
		scrollConn = RunService.RenderStepped:Connect(function()
			local alpha = math.clamp((tick() - startTime) / duration, 0, 1)
			scrollingFrame.CanvasPosition = startPos:Lerp(Vector2.new(0, 0), alpha)
			if alpha >= 1 then
				scrollConn:Disconnect()
			end
		end)

		local scrollOutTween = TweenService:Create(
			scrollingFrame,
			TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.In),
			{Position = UDim2.new(1.001, 0, 0.114, 0)}
		)
		scrollOutTween:Play()


		local textBox = searchBox:FindFirstChild("TextBox")
		if textBox then
			TweenService:Create(textBox, TweenInfo.new(0.3), {TextTransparency = 1}):Play()
		end

		local textLabelBtn = searchButton:FindFirstChild("TextLabel")
		if textLabelBtn then
			TweenService:Create(textLabelBtn, TweenInfo.new(0.3), {TextTransparency = 1}):Play()
		end

		task.delay(0.3, function()
			searchBox.Visible = false
			searchButton.Visible = false
		end)

		-- Логотип: гаснет на месте
		local fadeTweenInfo = TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
		local text1Fade = TweenService:Create(textLabel, fadeTweenInfo, {TextTransparency = 1})
		local text2Fade = TweenService:Create(textLabel2, fadeTweenInfo, {TextTransparency = 1})

		text1Fade:Play()
		text2Fade:Play()

		hideProfilePanel()

		task.wait(0.6)

		local bgTween = TweenService:Create(newsFrame, TweenInfo.new(0.5), {BackgroundTransparency = 1})
		local blurTween = TweenService:Create(BlurEffect, TweenInfo.new(0.5), {Size = 0})

		bgTween:Play()
		blurTween:Play()

		task.wait(0.5)

		newsFrame.Visible = false
		scrollingFrame.Visible = false
		--blur.Enabled = false
		if pulseConnection then pulseConnection:Disconnect() end
		textFrame.Visible = true

		FadeInWatermark(0.3)
		FadeInNotifications(0.3)

	end
	
	button.MouseButton1Click:Connect(function()
		textFrame.Visible = false
		newsVisible = true
		showNews()
	end)
	
	closeButton.MouseButton1Click:Connect(function()
		hideNews()
		newsVisible = false
	end)


	-- 🔹 Функция проверки, можно ли сейчас открывать NewsFrameName
	local function canToggleNews()
		if not RBXscripts then return false end
		
		local MainFrame = RBXscripts:FindFirstChild(MainFrameName)
		local NewsFrame = RBXscripts:FindFirstChild(NewsFrameName)
	
		-- Проверяем ESC-меню Roblox
		local RobloxGui = CoreGui:FindFirstChild("RobloxGui")
		local SettingsClippingShield = RobloxGui and RobloxGui:FindFirstChild("SettingsClippingShield")
		local SettingsShield = SettingsClippingShield and SettingsClippingShield:FindFirstChild("SettingsShield")
	
		local escVisible = SettingsShield and SettingsShield.Visible
		local mainVisible = MainFrame and MainFrame.Visible
		local newsVisibleNow = NewsFrame and NewsFrame.Visible
	
		-- Разрешаем только если ни одно из этих окон не открыто
		return not (escVisible or mainVisible or newsVisibleNow)
	end
	
	-- 🔹 Обработка клавиши F1
	UserInputService.InputBegan:Connect(function(input, gameProcessed)
		if gameProcessed then return end
		if input.KeyCode == Enum.KeyCode.F1 then
			if not newsVisible then
				if canToggleNews() then
					textFrame.Visible = false
					showNews()
					newsVisible = true
				end
			else
				hideNews()
				newsVisible = false
			end
		end
	end)
end)

spawn(function()
	local script = GuiElements.NewsFrame

	local RunService = game:GetService("RunService")
	local TweenService = game:GetService("TweenService")
	local newsFrame = RBXscripts:WaitForChild(NewsFrameName)
	local logo = newsFrame:WaitForChild(Logo_2Name)
	local scrollingFrame = newsFrame:WaitForChild(ScrollingScriptsFrameName)
	local searchBox = newsFrame:WaitForChild(SearchTextBoxName)
	local searchButton = newsFrame:WaitForChild(SearchButtonName)
	local profileFrame = newsFrame:WaitForChild(ProfileFrameName) -- Профиль

	-- Исходные позиции
	local originalBoxPos = searchBox.Position
	local originalButtonPos = searchButton.Position
	local originalProfilePos = profileFrame.Position -- базовая позиция {0,0},{0.115,0}

	-- Центровые позиции
	local centerX = 0.5
	local yBox = searchBox.Position.Y.Scale
	local totalWidth = searchBox.Size.X.Scale + searchButton.Size.X.Scale + 0.01
	local startX = centerX - totalWidth / 2
	local centerBoxPos = UDim2.new(startX, 0, yBox, 0)
	local centerButtonPos = UDim2.new(startX + searchBox.Size.X.Scale + 0.01, 0, yBox, 0)

	-- Целевая позиция для ProfileFrame (сдвиг влево)
	local targetProfilePos = UDim2.new(-0.5, 0, 0.115, 0)

	-- Настройки плавности
	local smoothing = 0.1
	local maxScroll = 255
	local currentAlpha = 0

	local function lerp(a, b, t)
		return a + (b - a) * t
	end

	local function lerpUDim2(a, b, t)
		return UDim2.new(
			lerp(a.X.Scale, b.X.Scale, t),
			lerp(a.X.Offset, b.X.Offset, t),
			lerp(a.Y.Scale, b.Y.Scale, t),
			lerp(a.Y.Offset, b.Y.Offset, t)
		)
	end

	RunService.RenderStepped:Connect(function()
		local xPos = scrollingFrame.CanvasPosition.X
		local targetAlpha = math.clamp(xPos / maxScroll, 0, 1)
		currentAlpha = lerp(currentAlpha, targetAlpha, smoothing)

		-- Позиции SearchBox и Button
		searchBox.Position = lerpUDim2(originalBoxPos, centerBoxPos, currentAlpha)
		searchButton.Position = lerpUDim2(originalButtonPos, centerButtonPos, currentAlpha)

		-- Исчезновение логотипа
		--logo.ImageTransparency = currentAlpha

		-- Плавное смещение ProfileFrame
		profileFrame.Position = lerpUDim2(originalProfilePos, targetProfilePos, currentAlpha)
	end)

end)

spawn(function()

	-- 🔹 Основные объекты
	local TweenService = game:GetService("TweenService")
	local Lighting = game:GetService("Lighting")
	local ESCFrame = RBXscripts:WaitForChild(ESCFrameName)
	local Logo = ESCFrame:WaitForChild(Logo_3Name)
	local BlurEffect = Lighting:FindFirstChild(BlurEffectName)
	local TextFrame = RBXscripts:WaitForChild(TextFrameName)

	local SettingsClippingShield = RobloxGui:WaitForChild("SettingsClippingShield")
	local SettingsShield = SettingsClippingShield:WaitForChild("SettingsShield")
	local DarkenBackground = SettingsClippingShield:WaitForChild("DarkenBackground")
	local BackgroundImage = SettingsClippingShield:FindFirstChild("BackgroundImage")

	local BackgroundImageName = RandomString(RANDOM_NAMES_SIMVOLS)

	if not BackgroundImage then
		BackgroundImage = Instance.new("ImageLabel")
		BackgroundImage.Name = "BackgroundImage"
		BackgroundImage.Parent = SettingsClippingShield
		BackgroundImage.AnchorPoint = Vector2.new(0.5, 0.5)
		BackgroundImage.BackgroundColor3 = Color3.new(1, 1, 1)
		BackgroundImage.BackgroundTransparency = 1
		BackgroundImage.BorderSizePixel = 0
		BackgroundImage.Position = UDim2.new(0.5, 0, 0.5, 0)
		BackgroundImage.Size = UDim2.new(1, 0, 1, 0)
		BackgroundImage.ZIndex = 1
		BackgroundImage.Image = getgenv().ThemeSettings.BackgroundImageESC
		BackgroundImage.ImageTransparency = 1
		BackgroundImage.Name = BackgroundImageName
	end


	local NoiseEffectName = RandomString(RANDOM_NAMES_SIMVOLS)

	-- 🔹 Проверка / создание эффекта шума
	local NoiseEffect = SettingsClippingShield:FindFirstChild(NoiseEffectName)

	if not NoiseEffect then
		NoiseEffect = Instance.new("ImageLabel")
		NoiseEffect.Name = "NoiseEffect"
		NoiseEffect.Image = "rbxassetid://9968344105"
		NoiseEffect.BackgroundTransparency = 1
		NoiseEffect.Size = UDim2.fromScale(1, 1)
		NoiseEffect.Position = UDim2.new(0, 0, 0, 0)
		NoiseEffect.ScaleType = Enum.ScaleType.Tile
		NoiseEffect.TileSize = UDim2.new(0, 128, 0, 128)
		NoiseEffect.ImageTransparency = 0.95
		NoiseEffect.ZIndex = 1
		NoiseEffect.Parent = SettingsClippingShield
		NoiseEffect.Name = NoiseEffectName
	end



	-- 🔹 Анимации
	local function tweenTransparency(guiObject, targetTransparency)
		if not guiObject then return end
		local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
		TweenService:Create(guiObject, tweenInfo, {ImageTransparency = targetTransparency}):Play()
	end

	local function tweenBlur(targetSize)
		if not BlurEffect then return end
		local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
		TweenService:Create(BlurEffect, tweenInfo, {Size = targetSize}):Play()
	end

	-- 🔹 Проверка других UI
	local function isOtherFrameVisible()
		local mainFrame = RBXscripts:FindFirstChild(MainFrameName)
		local newsFrame = RBXscripts:FindFirstChild(NewsFrameName)
		return (mainFrame and mainFrame.Visible) or (newsFrame and newsFrame.Visible)
	end

	-- 🔹 Обновление состояния ESCFrame
	local function updateESCFrameVisibility()
		local DevConsoleMaster = CoreGui:FindFirstChild("DevConsoleMaster")
		local DevConsoleWindow = DevConsoleMaster and DevConsoleMaster:FindFirstChild("DevConsoleWindow")

		local devConsoleVisible = DevConsoleWindow and DevConsoleWindow.Visible
		local escMenuVisible = SettingsShield.Visible

		local shouldShow = (escMenuVisible or devConsoleVisible) and not isOtherFrameVisible()

		local OpenNewsButton = TextFrame and TextFrame:FindFirstChild(OpenNewsButtonName)

		if shouldShow then
			FadeOutWatermark(0)
			FadeOutNotifications(0)

			ESCFrame.Visible = true
			tweenTransparency(Logo, 0.9)
			tweenTransparency(BackgroundImage, getgenv().ThemeSettings.BackgroundImageTransparency or 0)
			tweenTransparency(NoiseEffect, 0.9)
			tweenBlur(24)

			if OpenNewsButton then
				OpenNewsButton.Visible = false
			end
		else
			tweenTransparency(Logo, 1)
			tweenTransparency(BackgroundImage, 1)
			tweenTransparency(NoiseEffect, 1)
			delay(0.3, function()
				ESCFrame.Visible = false
			end)

			if OpenNewsButton then
				OpenNewsButton.Visible = true
			end

			local mainFrame = RBXscripts:FindFirstChild(MainFrameName)
			local newsFrame = RBXscripts:FindFirstChild(NewsFrameName)
			local protectedFrame = RBXscripts:FindFirstChild(ProtectedFrameName)

			if (not mainFrame or not mainFrame.Visible)
				and (not newsFrame or not newsFrame.Visible)
				and (not protectedFrame or not protectedFrame.Visible) then
				tweenBlur(0)
				FadeInWatermark(0.3)
				FadeInNotifications(0.3)
			end
		end
	end

	-- 🔹 Слежение за ESC меню
	SettingsShield:GetPropertyChangedSignal("Visible"):Connect(updateESCFrameVisibility)

	-- 🔹 Слежение за появлением DevConsole
	task.spawn(function()
		while true do
			local DevConsoleMaster = CoreGui:FindFirstChild("DevConsoleMaster")
			if DevConsoleMaster then
				local DevConsoleWindow = DevConsoleMaster:FindFirstChild("DevConsoleWindow")
					or DevConsoleMaster:WaitForChild("DevConsoleWindow", 5)
				if DevConsoleWindow then
					DevConsoleWindow:GetPropertyChangedSignal("Visible"):Connect(updateESCFrameVisibility)
					break
				end
			end
			task.wait(1)
		end
	end)

	-- 🔹 Инициализация
	updateESCFrameVisibility()
end)


-- 🔸 Второй блок: защита от ESC при открытых фреймах
spawn(function()

	local UserInputService = game:GetService("UserInputService")
	local SettingsClippingShield = RobloxGui:WaitForChild("SettingsClippingShield")
	local SettingsShield = SettingsClippingShield:WaitForChild("SettingsShield")
	local DarkenBackground = SettingsClippingShield:WaitForChild("DarkenBackground")

	local function isOtherFrameVisible()
		local MainFrame = RBXscripts:FindFirstChild(MainFrameName)
		local NewsFrame = RBXscripts:FindFirstChild(NewsFrameName)
		return (MainFrame and MainFrame.Visible) or (NewsFrame and NewsFrame.Visible)
	end

	local function hideSettingsShieldIfNeeded()
		if isOtherFrameVisible() then
			SettingsShield.Visible = false
			DarkenBackground.BackgroundTransparency = 1
		end
	end

	UserInputService.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == Enum.KeyCode.Escape then
			hideSettingsShieldIfNeeded()
		end
	end)

	DarkenBackground:GetPropertyChangedSignal("BackgroundTransparency"):Connect(hideSettingsShieldIfNeeded)
end)


spawn(function()
	local TweenService = game:GetService("TweenService")
	local NewsFrame = RBXscripts:WaitForChild(NewsFrameName)
	local ScrollingScriptsFrame = NewsFrame:WaitForChild(ScrollingScriptsFrameName)
	local Template = ScrollingScriptsFrame:WaitForChild(FrameScriptPanelTeamplateName)
	local player = Players.LocalPlayer
	local playerGui = player:WaitForChild("PlayerGui")
	local InfoLabel = NewsFrame:WaitForChild(Info_2Name)

	local scriptsList = env.rbxscripts or {}
	if #scriptsList == 0 then
		SendNotification("Warning: S120", Color3.fromRGB(255, 255, 0), "Warning", 10)
		return
	end

	local function timeAgo(dateString)
		-- Парсим дату в вашем формате
		local d, m, y, hh, mm, ss =
			dateString:match("(%d+)%.(%d+)%.(%d+)%s+(%d+):(%d+):(%d+)")
		if not d then return "unknown" end
		
		d, m, y, hh, mm, ss = tonumber(d), tonumber(m), tonumber(y), tonumber(hh), tonumber(mm), tonumber(ss)
	
		-- превращаем в timestamp (локальный → затем внутри os.time() станет UTC)
		local timestamp = os.time({
			year  = y,
			month = m,
			day   = d,
			hour  = hh,
			min   = mm,
			sec   = ss,
			isdst = false
		})
	
		-- текущее UTC время
		local now = os.time(os.date("!*t"))
	
		-- разница
		local diff = now - timestamp
	
		-- защита от мелких расхождений по временам/задержкам
		if diff < -3600 then
			return "just now"
		elseif diff < 0 then
			diff = 0
		end
	
		local minutes = math.floor(diff / 60)
		local hours = math.floor(diff / 3600)
		local days = math.floor(diff / 86400)
		local weeks = math.floor(diff / 604800)
		local months = math.floor(diff / 2592000)
		local years = math.floor(diff / 31536000)
	
		if diff < 10 then return "just now" end
		if minutes < 60 then return minutes .. " minutes ago" end
		if hours < 24 then return hours .. " hours ago" end
		if days < 7 then return days .. " days ago" end
		if weeks < 4 then return weeks .. " weeks ago" end
		if months < 12 then return months .. " months ago" end
		return years .. " years ago"
	end
	
	

	for _, scriptData in ipairs(scriptsList) do
		local newPanel = Template:Clone()
		newPanel.Parent = ScrollingScriptsFrame
		newPanel.Visible = true

		-- Сначала находим все элементы внутри клона
		local stroke = newPanel:FindFirstChild(UIStrokeName)
		local dateLabel = newPanel:FindFirstChild(ScriptDateAddedName)
		local textLabel = newPanel:FindFirstChild(TextLabelScriptName)
		local bg = newPanel:FindFirstChild(ScriptBackgroundName)

		if textLabel then
			textLabel.Text = scriptData.name or "Unknown"
		end
		
		if bg then
			bg.Image = scriptData.image or "rbxassetid://135775822206436"
		end
		
		if dateLabel then
			local formatted = scriptData.date and timeAgo(scriptData.date) or "unknown"
			dateLabel.Text = formatted
		end
		

		-- Логика кнопки Execute
		local button = newPanel:FindFirstChild(ExecuteScriptButtonName)
		if button then
			local Shadow = button.Parent:WaitForChild(ShadowEffectName)
			local scripttext = textLabel.Text
			local normalTransparency, hoverTransparency, pressTransparency, tweenTime = 1, 0.85, 0.7, 0.2

			local function tweenBackground(target)
				local tweenInfo = TweenInfo.new(tweenTime, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
				TweenService:Create(button, tweenInfo, {BackgroundTransparency = target}):Play()
			end

			local function tweenShadow(target)
				local tweenInfo = TweenInfo.new(tweenTime, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
				TweenService:Create(Shadow, tweenInfo, {ImageTransparency = target}):Play()
			end

			button:GetPropertyChangedSignal("GuiState"):Connect(function()
				if button.GuiState == Enum.GuiState.Hover then
					tweenBackground(hoverTransparency)
					tweenShadow(0.9)
				elseif button.GuiState == Enum.GuiState.Idle then
					tweenBackground(normalTransparency)
					tweenShadow(1)
				end
			end)

			button.MouseButton1Click:Connect(function()
				tweenBackground(pressTransparency)
				tweenShadow(0.88)
				task.delay(0.1, function()
					tweenBackground(hoverTransparency)
					tweenShadow(0.9)
				end)

				local url = scriptData.script
				local func, err = loadstring(game:HttpGet(url))
				if func then
					func()
				else
					warn("Failed to load script:", scriptData.name, err)
				end
			end)

			button.BackgroundTransparency = normalTransparency
			Shadow.ImageTransparency = 1
		end
	end
end)





-- Собираем все элементы для рандомного переименования
local function GetAllRandomizableElements()
    local elements = {
		ShadowEffect,
		GuiElements.ScriptDateAdded,
		ShadowEffect_2,
		ShadowEffect_3,
		ShadowEffect_4,
		ShadowEffect_5,
		ShadowEffect_6,
		ShadowEffect_7,
		ShadowEffect_8,
		ShadowEffect_9,
        BackgroundImage,
        BackgroundImage_2,
        BackgroundImage_4,
        BackgroundImage_5,
        BlurEffect,
        GameImage,
        GuiElements.GameName,
        GuiElements.GameName_2,
        GuiElements.GameName_3,
        GuiElements.GameName_4,
        GuiElements.GameNameProfile,
        GuiElements.ProfileFrame,
        GuiElements.ProfilePanel,
        GuiElements.SearchButton,
        GuiElements.SearchTextBox,
        GuiElements.UIAspectRatioConstraint,
        GuiElements.UIAspectRatioConstraint_2,
        GuiElements.UIAspectRatioConstraint_3,
        GuiElements.UIAspectRatioConstraint_4,
        GuiElements.UIAspectRatioConstraint_5,
        GuiElements.UIAspectRatioConstraint_6,
        GuiElements.UIAspectRatioConstraint_7,
        GuiElements.UIAspectRatioConstraint_8,
        GuiElements.UIAspectRatioConstraint_9,
        GuiElements.UIAspectRatioConstraint_10,
        GuiElements.UIAspectRatioConstraint_11,
        GuiElements.UIAspectRatioConstraint_12,
        GuiElements.UIAspectRatioConstraint_13,
        GuiElements.UIAspectRatioConstraint_14,
        GuiElements.UIAspectRatioConstraint_15,
        GuiElements.UIAspectRatioConstraint_16,
        GuiElements.UIAspectRatioConstraint_17,
        GuiElements.UIAspectRatioConstraint_18,
        GuiElements.UIAspectRatioConstraint_19,
        GuiElements.UIAspectRatioConstraint_20,
        GuiElements.UIAspectRatioConstraint_21,
        GuiElements.UIAspectRatioConstraint_22,
        GuiElements.UIAspectRatioConstraint_23,
        GuiElements.UIAspectRatioConstraint_24,
		GuiElements.UIAspectRatioConstraint_25,
		GuiElements.UIAspectRatioConstraint_26,
		GuiElements.UIAspectRatioConstraint_27,
		GuiElements.UIAspectRatioConstraint_28,
        GuiElements.UIGradient_3,
        GuiElements.UIGradient_4,
        GuiElements.UIGradient_5,
        GuiElements.UIGradient_6,
        GuiElements.UIGradient_7,
        GuiElements.UIGridLayout,
        GuiElements.UICorner,
        GuiElements.UICorner_2,
        GuiElements.UICorner_3,
        GuiElements.UICorner_5,
        GuiElements.UICorner_6,
        GuiElements.UICorner_7,
        GuiElements.UICorner_8,
        GuiElements.UICorner_9,
        GuiElements.UICorner_10,
        GuiElements.UICorner_11,
        GuiElements.UICorner_12,
        GuiElements.UICorner_13,
        GuiElements.UICorner_14,
        GuiElements.UICorner_15,
        GuiElements.UICorner_16,
        GuiElements.UICorner_17,
        GuiElements.UICorner_18,
        GuiElements.UICorner_19,
        GuiElements.UICorner_20,
        GuiElements.UICorner_21,
        GuiElements.UICorner_22,
        GuiElements.UICorner_23,
        GuiElements.UIStroke,
        GuiElements.UIStroke_1,
        GuiElements.UIStroke_2,
        GuiElements.UIStroke_3,
        GuiElements.UIStroke_4,
        GuiElements.UIStroke_5,
        GuiElements.UIStroke_6,
        GuiElements.UIStroke_7,
        GuiElements.UIStroke_8,
        GuiElements.UIStroke_9,
        GuiElements.UIStroke_10,
        GuiElements.UIStroke_11,
        GuiElements.UIStroke_12,
        GuiElements.UIPadding_1,
        GuiElements.UIPadding_2,
        GuiElements.UserProfileGame,
        GuiElements.UserProfileImage,
        GuiElements.UserProfileNotification,
        GuiElements.Info,
        GuiElements.Info_2,
        GuiElements.Info_4,
        Logo,
        Logo_2,
        Logo_3,
        Logo_4,
        Noise_1,
        NotificationFrame,
        ProfileImage,
        ProfileImage_2,
        GuiElements.ProfileMainTextNotification,
        ProfileNotifyImage,
        GuiElements.ProfileTextNotification,
        ScriptBackground,
        ScrollingScriptsFrame,
        GuiElements.ServerPlayers,
        GuiElements.Site,
        GuiElements.Site_2,
        GuiElements.Site_4,
        GuiElements.TextBox,
        TextButton,
        GuiElements.TextLabel_1,
        GuiElements.TextLabel_2,
        GuiElements.TextLabel_3,
        GuiElements.TextLabelExecute,
        GuiElements.TextLabelScript,
        GuiElements.TimePlayning,
        GuiElements.UserDisplayName,
        GuiElements.UserMembership,
        GuiElements.UserName,
        GuiElements.UserProgram,
        GuiElements.VersionHud,
    }

    return elements
end


-- Спавним цикл для случайного переименования, если флаг включён
if RANDOM_SPAM_CHANGE_SIMVOLS then
    spawn(function()
        while true do
            wait(RANDOM_NAMES_SIMVOLS_TIME)

            local elements = GetAllRandomizableElements()

            -- Защита: если нет элементов — пропускаем итерацию
            if #elements > 0 then
                local countToChange = math.random(1, #elements)

                -- Перемешиваем таблицу (фишка Фишера–Йетса)
                local shuffled = {}
                for i = 1, #elements do shuffled[i] = elements[i] end
                for i = #shuffled, 2, -1 do
                    local j = math.random(1, i)
                    shuffled[i], shuffled[j] = shuffled[j], shuffled[i]
                end

                -- Переименовываем случайные элементы
                for i = 1, countToChange do
                    local obj = shuffled[i]
                    if obj then
                        obj.Name = RandomString(RANDOM_NAMES_SIMVOLS)
                    end
                end
            end
            -- если элементов нет, просто следующая итерация цикла (после wait в начале)
        end
    end)
end


local rejoinView = tostring(env.Settings.RejoinView):lower()
local isRejoinViewEnabled = (rejoinView == "true" or rejoinView == "1" or env.Settings.RejoinView == true or env.Settings.RejoinView == 1)
if isRejoinViewEnabled then
	queue_on_teleport([[
    	loadstring(game:HttpGet("https://raw.githubusercontent.com/abramsonhan/RScritps/refs/heads/main/rbxscript"))()
	]])
else	
end
